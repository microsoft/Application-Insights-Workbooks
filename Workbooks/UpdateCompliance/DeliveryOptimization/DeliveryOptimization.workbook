{
  "version": "Notebook/1.0",
  "items": [
    {
      "type": 9,
      "content": {
        "version": "KqlParameterItem/1.0",
        "crossComponentResources": [
          "{mappedWorkspace}"
        ],
        "parameters": [
          {
            "id": "7a2bb320-fa9c-45c8-bbf6-942c8b3a4b0e",
            "version": "KqlParameterItem/1.0",
            "name": "mappedSubscription",
            "label": "subscription",
            "type": 6,
            "isRequired": true,
            "value": "",
            "isHiddenWhenLocked": true,
            "typeSettings": {
              "additionalResourceOptions": [],
              "includeAll": true,
              "showDefault": false
            }
          },
          {
            "id": "14287155-9c16-484f-84e8-7d5f95d83e1c",
            "version": "KqlParameterItem/1.0",
            "name": "mappedWorkspace",
            "label": "workspace",
            "type": 5,
            "isRequired": true,
            "query": "resources\r\n| where type == \"microsoft.operationalinsights/workspaces\"\r\n| where \"{mappedSubscription:subscriptionId}\" == subscriptionId\r\n| project id",
            "crossComponentResources": [
              "{mappedSubscription}"
            ],
            "value": "",
            "isHiddenWhenLocked": true,
            "typeSettings": {
              "additionalResourceOptions": [],
              "showDefault": false
            },
            "queryType": 1,
            "resourceType": "microsoft.resourcegraph/resources"
          },
          {
            "id": "f56d6943-b8f5-449e-aaaf-06100a59e8b5",
            "version": "KqlParameterItem/1.0",
            "name": "_WorkbookContext",
            "label": "Workbook Context",
            "type": 1,
            "description": "Whether workbook is opened standalone or as part of the Hub.",
            "isRequired": true,
            "isHiddenWhenLocked": true,
            "criteriaData": [
              {
                "criteriaContext": {
                  "operator": "Default",
                  "resultValType": "static",
                  "resultVal": "Focused"
                }
              }
            ]
          },
          {
            "id": "e0d2d74e-bd88-4208-bb51-10a5491a47bb",
            "version": "KqlParameterItem/1.0",
            "name": "DOSnapshotTime",
            "label": "Snapshot time",
            "type": 1,
            "description": "Time indicating the latest snapshot",
            "isRequired": true,
            "query": "(UCDOStatus\r\n| where TimeGenerated >= ago(7d)\r\n| distinct TimeGenerated)\r\n|join kind = inner  (UCDOAggregatedStatus\r\n| where TimeGenerated >= ago(7d)\r\n| distinct TimeGenerated) on TimeGenerated\r\n| summarize max(TimeGenerated)",
            "crossComponentResources": [
              "{mappedWorkspace}"
            ],
            "isHiddenWhenLocked": true,
            "queryType": 0,
            "resourceType": "microsoft.operationalinsights/workspaces",
            "value": ""
          },
          {
            "id": "86531822-76f2-4c50-b766-542f46c8c41a",
            "version": "KqlParameterItem/1.0",
            "name": "isDOOnboarded",
            "type": 1,
            "query": "UCDOStatus\r\n| summarize Total = count()\r\n| extend Result = iff(Total == 0, \"false\", \"true\")\r\n| summarize by Result",
            "crossComponentResources": [
              "{mappedWorkspace}"
            ],
            "isHiddenWhenLocked": true,
            "queryType": 0,
            "resourceType": "microsoft.operationalinsights/workspaces"
          }
        ],
        "style": "pills",
        "queryType": 0,
        "resourceType": "microsoft.operationalinsights/workspaces"
      },
      "name": "WorkbookParameters"
    },
    {
      "type": 12,
      "content": {
        "version": "NotebookGroup/1.0",
        "groupType": "editable",
        "items": [
          {
            "type": 1,
            "content": {
              "json": "<img src=\"https://res-1.cdn.office.net/admincenter/admin-main/2022.6.30.4/45d61a60d22c9f6dfce067f9991d8c0b.svg\"\nstyle=\"display: block;width:30%;margin-left:auto;margin-right:auto;\">\n</img>\n<br></br>\n\n<h2 markdown=\"1\" style=\"display:block;text-align:center;margin-left:auto;margin-right:auto;\">\nWaiting for Delivery Optimization data\n</h2>\n\n<p markdown=\"1\" style=\"display:block;width:45%;text-align:center;margin-left:auto;margin-right:auto;\">\nOnce you have met all the requirements, we will process your data as a first-time setup. This will typically take up to 24 hours. Check back soon!\n</p>"
            },
            "name": "OnboardingDescription",
            "styleSettings": {
              "margin": "0",
              "padding": "50"
            }
          }
        ],
        "exportParameters": true
      },
      "conditionalVisibilities": [
        {
          "parameterName": "mappedWorkspace",
          "comparison": "isNotEqualTo"
        },
        {
          "parameterName": "isDOOnboarded",
          "comparison": "isEqualTo",
          "value": "false"
        }
      ],
      "customWidth": "100",
      "name": "PostonboardingGroup"
    },
    {
      "type": 12,
      "content": {
        "version": "NotebookGroup/1.0",
        "groupType": "editable",
        "loadType": "always",
        "items": [
          {
            "type": 1,
            "content": {
              "json": "## Delivery Optimization Status\n---\n**Delivery Optimization** (DO) is a Windows 10/11 feature that can be used to reduce     bandwidth consumption by sharing the work of downloading updates among multiple devices in your environment. You can use DO in conjunction with many other deployment methods, but it is a cloud-managed solution, and access to the DO cloud services is a requirement. To learn more about DO, view the documentation on [**Configuring Delivery Optimization for Windows 10/11 updates**](https://docs.microsoft.com/en-us/windows/deployment/update/waas-delivery-optimization). Note: This section does not include Insider devices.\n\n**Important Terms**\n\n* **Peer** - a device in the solution.\n* **Peering 'ON'** - devices in which DO peer-to-peer is enabled in one of the following modes: LAN (1), Group (2), or Internet (3).\n* **Peering 'OFF'** - devices in which DO peer-to-peer is disabled, set to one of the following modes: HTTP Only (0), Simple Mode (99), or Bypass (100) - deprecated in Windows 11.\n* **Bandwidth savings** - the percentage of bandwidth that was downloaded from either LAN or Group peers and/or from Microsoft Connected Cache (MCC), out of the total consumed bandwidth.\n\n\tNOTE: If bandwidth savings are <= 60% you will see a 'Warning' icon. When bandwidth savings is <10% an error icon will be shown.\n\n* **Configurations** - based on the DownloadMode configuration set via MDM, Group Policy, or end-user via the user interface.\n\n\tNOTE: Volume from CDN is calculated as follows: BytesFromCDN = BytesFromCDN - BytesFromEnterpriseCache\n\n**The Delivery Optimization data in this report represents the last 28 days.**\n"
            },
            "customWidth": "100",
            "name": "DeliveryOptimizationDescription"
          },
          {
            "type": 3,
            "content": {
              "version": "KqlItem/1.0",
              "query": "let _SnapshotTime = datetime({DOSnapshotTime});\r\n\r\nUCDOAggregatedStatus| where TimeGenerated == _SnapshotTime\r\n| extend LocalSourceBytes = BytesFromCache + BytesFromGroupPeers + BytesFromPeers\r\n| summarize LocalSources_BWSAV = round((sum(0.0 + LocalSourceBytes)/ sum(LocalSourceBytes+BytesFromCDN)) * 100.0 ,2)\r\n| extend Title = \"BW SAV%\" , SubTitle = \"Local Sources\"",
              "size": 3,
              "queryType": 0,
              "resourceType": "microsoft.operationalinsights/workspaces",
              "crossComponentResources": [
                "{mappedWorkspace}"
              ],
              "visualization": "tiles",
              "tileSettings": {
                "titleContent": {
                  "columnMatch": "Title"
                },
                "subtitleContent": {
                  "columnMatch": "SubTitle"
                },
                "leftContent": {
                  "columnMatch": "LocalSources_BWSAV",
                  "formatter": 18,
                  "formatOptions": {
                    "thresholdsOptions": "icons",
                    "thresholdsGrid": [
                      {
                        "operator": "<",
                        "thresholdValue": "10",
                        "representation": "3",
                        "text": "{0}{1}"
                      },
                      {
                        "operator": "<",
                        "thresholdValue": "60",
                        "representation": "2",
                        "text": "{0}{1}"
                      },
                      {
                        "operator": ">=",
                        "thresholdValue": "60",
                        "representation": "success",
                        "text": "{0}{1}"
                      },
                      {
                        "operator": "Default",
                        "thresholdValue": null,
                        "representation": "success",
                        "text": "{0}{1}"
                      }
                    ]
                  },
                  "numberFormat": {
                    "unit": 0,
                    "options": {
                      "style": "decimal",
                      "useGrouping": false,
                      "maximumFractionDigits": 2
                    }
                  }
                },
                "showBorder": true,
                "size": "auto"
              }
            },
            "customWidth": "0",
            "name": "BW SAV% ",
            "styleSettings": {
              "margin": "10px 10px"
            }
          },
          {
            "type": 3,
            "content": {
              "version": "KqlItem/1.0",
              "query": "let _SnapshotTime = datetime({DOSnapshotTime});\r\n\r\nUCDOAggregatedStatus| where TimeGenerated == _SnapshotTime\r\n| summarize MCCBytesPercentage = round((sum(0.0 + BytesFromCache)/ sum(BytesFromPeers + BytesFromGroupPeers+BytesFromCDN+BytesFromCache)) * 100.0 ,2) , P2PBytesPercentage  = round((sum(0.0 + BytesFromPeers + BytesFromGroupPeers)/ sum(BytesFromPeers + BytesFromGroupPeers+BytesFromCDN+BytesFromCache)) * 100.0 ,2)\r\n| extend Title = \"% FROM\" , SubTitle = \"MCC/P2P\"",
              "size": 3,
              "queryType": 0,
              "resourceType": "microsoft.operationalinsights/workspaces",
              "crossComponentResources": [
                "{mappedWorkspace}"
              ],
              "visualization": "tiles",
              "tileSettings": {
                "titleContent": {
                  "columnMatch": "Title",
                  "formatter": 1
                },
                "subtitleContent": {
                  "columnMatch": "SubTitle"
                },
                "leftContent": {
                  "columnMatch": "MCCBytesPercentage",
                  "formatter": 12,
                  "formatOptions": {
                    "palette": "auto"
                  },
                  "numberFormat": {
                    "unit": 0,
                    "options": {
                      "style": "decimal",
                      "maximumFractionDigits": 2
                    }
                  }
                },
                "rightContent": {
                  "columnMatch": "P2PBytesPercentage",
                  "formatter": 12,
                  "formatOptions": {
                    "palette": "auto"
                  },
                  "numberFormat": {
                    "unit": 0,
                    "options": {
                      "style": "decimal",
                      "maximumFractionDigits": 2
                    }
                  }
                },
                "showBorder": true,
                "size": "auto"
              }
            },
            "customWidth": "0",
            "name": "% FROM MCC vs P2P",
            "styleSettings": {
              "margin": "10px 10px"
            }
          },
          {
            "type": 3,
            "content": {
              "version": "KqlItem/1.0",
              "query": "let _SnapshotTime = datetime({DOSnapshotTime});\r\n\r\nUCDOStatus  | where TimeGenerated == _SnapshotTime\r\n| distinct GlobalDeviceId , PeeringStatus \r\n| extend PeerCheck = iff(PeeringStatus == \"On\" , 1 , 0)\r\n| summarize TotalDeviceCount = count_distinct(GlobalDeviceId) , PeerDeviceCount = sum(PeerCheck) \r\n| extend Title = \"Device Count\" , SubTitle = \"P2P VS Total\"\r\n",
              "size": 3,
              "queryType": 0,
              "resourceType": "microsoft.operationalinsights/workspaces",
              "crossComponentResources": [
                "{mappedWorkspace}"
              ],
              "visualization": "tiles",
              "tileSettings": {
                "titleContent": {
                  "columnMatch": "Title"
                },
                "subtitleContent": {
                  "columnMatch": "SubTitle"
                },
                "leftContent": {
                  "columnMatch": "PeerDeviceCount",
                  "formatter": 12,
                  "formatOptions": {
                    "palette": "auto"
                  },
                  "numberFormat": {
                    "unit": 17,
                    "options": {
                      "style": "decimal",
                      "maximumFractionDigits": 2
                    }
                  }
                },
                "rightContent": {
                  "columnMatch": "TotalDeviceCount",
                  "formatter": 12,
                  "formatOptions": {
                    "palette": "auto"
                  },
                  "numberFormat": {
                    "unit": 17,
                    "options": {
                      "style": "decimal",
                      "maximumFractionDigits": 2
                    }
                  }
                },
                "showBorder": true,
                "size": "auto"
              }
            },
            "customWidth": "0",
            "name": "DeviceCount",
            "styleSettings": {
              "margin": "10px 10px"
            }
          },
          {
            "type": 3,
            "content": {
              "version": "KqlItem/1.0",
              "query": "let _SnapshotTime = datetime({DOSnapshotTime});\r\n\r\nUCDOStatus  | where TimeGenerated == _SnapshotTime \r\n| summarize sum_BytesFromMCC = sum(BytesFromCache) by GlobalDeviceId\r\n| extend UsedMCC = iff(sum_BytesFromMCC > 0 , 1, 0) \r\n| summarize TotalDeviceCount = count() , MCCDeviceCount = sum(UsedMCC) \r\n| extend Title = \"Device Count\" , SubTitle = \"MCC VS Total\"",
              "size": 3,
              "queryType": 0,
              "resourceType": "microsoft.operationalinsights/workspaces",
              "crossComponentResources": [
                "{mappedWorkspace}"
              ],
              "visualization": "tiles",
              "tileSettings": {
                "titleContent": {
                  "columnMatch": "Title"
                },
                "subtitleContent": {
                  "columnMatch": "SubTitle"
                },
                "leftContent": {
                  "columnMatch": "MCCDeviceCount",
                  "formatter": 12,
                  "formatOptions": {
                    "palette": "auto"
                  },
                  "numberFormat": {
                    "unit": 17,
                    "options": {
                      "style": "decimal",
                      "maximumFractionDigits": 2
                    }
                  }
                },
                "rightContent": {
                  "columnMatch": "TotalDeviceCount",
                  "formatter": 12,
                  "formatOptions": {
                    "palette": "auto"
                  },
                  "numberFormat": {
                    "unit": 17,
                    "options": {
                      "style": "decimal",
                      "maximumFractionDigits": 2
                    }
                  }
                },
                "showBorder": true,
                "size": "auto"
              }
            },
            "customWidth": "0",
            "name": "MCCDeviceCount",
            "styleSettings": {
              "margin": "10px 10px"
            }
          },
          {
            "type": 3,
            "content": {
              "version": "KqlItem/1.0",
              "query": "let _SnapshotTime = datetime({DOSnapshotTime});\r\n\r\nUCDOAggregatedStatus| where TimeGenerated == _SnapshotTime\r\n| summarize PeerVolume = sum(BytesFromPeers +BytesFromGroupPeers)\r\n| extend Title = \"Download Volume\" , SubTitle = \"From P2P\" , PeerVolume",
              "size": 3,
              "queryType": 0,
              "resourceType": "microsoft.operationalinsights/workspaces",
              "crossComponentResources": [
                "{mappedWorkspace}"
              ],
              "visualization": "tiles",
              "tileSettings": {
                "titleContent": {
                  "columnMatch": "Title",
                  "formatter": 1
                },
                "subtitleContent": {
                  "columnMatch": "SubTitle"
                },
                "leftContent": {
                  "columnMatch": "PeerVolume",
                  "formatter": 12,
                  "formatOptions": {
                    "palette": "auto"
                  },
                  "numberFormat": {
                    "unit": 2,
                    "options": {
                      "style": "decimal",
                      "maximumFractionDigits": 2
                    }
                  }
                },
                "showBorder": true,
                "size": "auto"
              }
            },
            "customWidth": "0",
            "name": "Download Volume P2P(GBs)",
            "styleSettings": {
              "margin": "10px 10px"
            }
          },
          {
            "type": 3,
            "content": {
              "version": "KqlItem/1.0",
              "query": "let _SnapshotTime = datetime({DOSnapshotTime});\r\n\r\nUCDOAggregatedStatus| where TimeGenerated == _SnapshotTime\r\n| summarize MCCVolume = sum(BytesFromCache)\r\n| extend Title = \"Download Volume\" , SubTitle = \"From MCC\" , MCCVolume ",
              "size": 3,
              "queryType": 0,
              "resourceType": "microsoft.operationalinsights/workspaces",
              "crossComponentResources": [
                "{mappedWorkspace}"
              ],
              "visualization": "tiles",
              "tileSettings": {
                "titleContent": {
                  "columnMatch": "Title",
                  "formatter": 1
                },
                "subtitleContent": {
                  "columnMatch": "SubTitle"
                },
                "leftContent": {
                  "columnMatch": "MCCVolume",
                  "formatter": 12,
                  "formatOptions": {
                    "palette": "auto"
                  },
                  "numberFormat": {
                    "unit": 2,
                    "options": {
                      "style": "decimal",
                      "maximumFractionDigits": 2
                    }
                  }
                },
                "showBorder": true,
                "size": "auto"
              }
            },
            "customWidth": "0",
            "name": "DownloadVolumeMCC",
            "styleSettings": {
              "margin": "10px 10px"
            }
          },
          {
            "type": 3,
            "content": {
              "version": "KqlItem/1.0",
              "query": "let _SnapshotTime = datetime({DOSnapshotTime});\r\n\r\nUCDOAggregatedStatus| where TimeGenerated == _SnapshotTime\r\n| summarize TotalVolume = sum(BytesFromPeers +BytesFromGroupPeers +BytesFromCDN +BytesFromCache)\r\n| extend Title = \"Download Volume\" , SubTitle = \"Total\" , TotalVolume ",
              "size": 3,
              "queryType": 0,
              "resourceType": "microsoft.operationalinsights/workspaces",
              "crossComponentResources": [
                "{mappedWorkspace}"
              ],
              "visualization": "tiles",
              "tileSettings": {
                "titleContent": {
                  "columnMatch": "Title",
                  "formatter": 1
                },
                "subtitleContent": {
                  "columnMatch": "SubTitle"
                },
                "leftContent": {
                  "columnMatch": "TotalVolume",
                  "formatter": 12,
                  "formatOptions": {
                    "palette": "auto"
                  },
                  "numberFormat": {
                    "unit": 2,
                    "options": {
                      "style": "decimal",
                      "maximumFractionDigits": 2                      
                    }
                  }
                },
                "showBorder": true,
                "size": "auto"
              }
            },
            "customWidth": "0",
            "name": "TotalDownloadVolume",
            "styleSettings": {
              "margin": "10px 10px"
            }
          },
          {
            "type": 11,
            "content": {
              "version": "LinkItem/1.0",
              "style": "tabs",
              "links": [
                {
                  "id": "2fbb7d72-ec25-4e77-9a6d-a6b0d79d2b41",
                  "cellValue": "selTab",
                  "linkTarget": "parameter",
                  "linkLabel": "Device Configuration",
                  "subTarget": "DeviceConfiguration",
                  "style": "link"
                },
                {
                  "id": "672fd790-0e2a-4be7-ba09-820bfdf18e6b",
                  "cellValue": "selTab",
                  "linkTarget": "parameter",
                  "linkLabel": "Content Distribution",
                  "subTarget": "ContentDistribution",
                  "style": "link"
                },
                {
                  "id": "ba7976d9-7cd8-4be8-8713-348df07b277b",
                  "cellValue": "selTab",
                  "linkTarget": "parameter",
                  "linkLabel": "Efficiency By Group",
                  "subTarget": "EfficiencyByGroup",
                  "style": "link"
                }
              ]
            },
            "name": "DOTabs"
          },
          {
            "type": 12,
            "content": {
              "version": "NotebookGroup/1.0",
              "groupType": "editable",
              "title": "Top 10 groups based on number of devices",
              "items": [
                {
                  "type": 11,
                  "content": {
                    "version": "LinkItem/1.0",
                    "style": "tabs",
                    "links": [
                      {
                        "id": "e5e0fdd7-0bd5-4944-8461-b460fc94d75f",
                        "cellValue": "EfficiencyByGroupTab",
                        "linkTarget": "parameter",
                        "linkLabel": "GroupID",
                        "subTarget": "GroupID",
                        "style": "link"
                      },
                      {
                        "id": "73bf1e39-1fab-4155-9049-e201abeef752",
                        "cellValue": "EfficiencyByGroupTab",
                        "linkTarget": "parameter",
                        "linkLabel": "City",
                        "subTarget": "City",
                        "style": "link"
                      },
                      {
                        "id": "babf2768-e64c-42d0-9ae7-a666994f1a52",
                        "cellValue": "EfficiencyByGroupTab",
                        "linkTarget": "parameter",
                        "linkLabel": "Country",
                        "subTarget": "Country",
                        "style": "link"
                      },
                      {
                        "id": "34d8b2c3-2073-4b8f-a95b-b33765200518",
                        "cellValue": "EfficiencyByGroupTab",
                        "linkTarget": "parameter",
                        "linkLabel": "ISP",
                        "subTarget": "ISP",
                        "style": "link"
                      }
                    ]
                  },
                  "conditionalVisibility": {
                    "parameterName": "selTab",
                    "comparison": "isEqualTo",
                    "value": "EfficiencyByGroup"
                  },
                  "name": "GroupTabs"
                },
                {
                  "type": 3,
                  "content": {
                    "version": "KqlItem/1.0",
                    "query": "let _SnapshotTime = datetime({DOSnapshotTime});\r\n\r\nUCDOStatus  | where TimeGenerated == _SnapshotTime\r\n| summarize sum(BytesFromCDN) ,  sum(BytesFromGroupPeers) , sum(BytesFromPeers) , sum(BytesFromCache) ,\r\nDeviceCount = count_distinct(GlobalDeviceId) by GroupID | top 10 by DeviceCount desc \r\n| extend TotalBytes = (sum_BytesFromPeers + sum_BytesFromGroupPeers+sum_BytesFromCDN+sum_BytesFromCache)\r\n| extend P2PPercentage = ((0.0 + sum_BytesFromPeers + sum_BytesFromGroupPeers)/TotalBytes ) * 100.0  \r\n| extend  MCCPercentage = ((0.0 + sum_BytesFromCache)/ TotalBytes) * 100.0  , \r\n VolumeBytesFromPeers = sum_BytesFromPeers + sum_BytesFromGroupPeers\r\n| extend VolumeBytesFromMCC = sum_BytesFromCache , VolumeByCDN = sum_BytesFromCDN\r\n| project  GroupID , P2PPercentage , MCCPercentage ,  VolumeBytesFromPeers , VolumeBytesFromMCC ,VolumeByCDN , DeviceCount \r\n\r\n",
                    "size": 0,
                    "queryType": 0,
                    "resourceType": "microsoft.operationalinsights/workspaces",
                    "crossComponentResources": [
                      "{mappedWorkspace}"
                    ],
                    "gridSettings": {
                      "formatters": [
                        {
                          "columnMatch": "P2PPercentage",
                          "formatter": 0,
                          "numberFormat": {
                            "unit": 0,
                            "options": {
                              "style": "decimal",
                              "maximumFractionDigits": 2
                            }
                          }
                        },
                        {
                          "columnMatch": "MCCPercentage",
                          "formatter": 0,
                          "numberFormat": {
                            "unit": 0,
                            "options": {
                              "style": "decimal",
                              "maximumFractionDigits": 2
                            }
                          }
                        },
                        {
                          "columnMatch": "VolumeBytesFromPeers",
                          "formatter": 0,
                          "numberFormat": {
                            "unit": 2,
                            "options": {
                              "style": "decimal",
                              "maximumFractionDigits": 2
                            }
                          }
                        },
                        {
                          "columnMatch": "VolumeBytesFromMCC",
                          "formatter": 0,
                          "numberFormat": {
                            "unit": 2,
                            "options": {
                              "style": "decimal",
                              "maximumFractionDigits": 2
                            }
                          }
                        },
                        {
                          "columnMatch": "VolumeByCDN",
                          "formatter": 0,
                          "numberFormat": {
                            "unit": 2,
                            "options": {
                              "style": "decimal",
                              "maximumFractionDigits": 2
                            }
                          }
                        },
                        {
                          "columnMatch": "DeviceCount",
                          "formatter": 4,
                          "formatOptions": {
                            "palette": "blue"
                          }
                        }
                      ],
                      "sortBy": [
                        {
                          "itemKey": "GroupID",
                          "sortOrder": 1
                        }
                      ],
                      "labelSettings": [
                        {
                          "columnId": "GroupID",
                          "label": "GroupID"
                        },
                        {
                          "columnId": "P2PPercentage",
                          "label": "P2P %"
                        },
                        {
                          "columnId": "MCCPercentage",
                          "label": "MCC %"
                        },
                        {
                          "columnId": "VolumeBytesFromPeers",
                          "label": "Volume by P2P"
                        },
                        {
                          "columnId": "VolumeBytesFromMCC",
                          "label": "Volume by MCC"
                        },
                        {
                          "columnId": "VolumeByCDN",
                          "label": "Volume by CDN"
                        },
                        {
                          "columnId": "DeviceCount",
                          "label": "Device Count"
                        }
                      ]
                    },
                    "sortBy": [
                      {
                        "itemKey": "GroupID",
                        "sortOrder": 1
                      }
                    ]
                  },
                  "customWidth": "0",
                  "conditionalVisibility": {
                    "parameterName": "EfficiencyByGroupTab",
                    "comparison": "isEqualTo",
                    "value": "GroupID"
                  },
                  "name": "GroupIDResults"
                },
                {
                  "type": 3,
                  "content": {
                    "version": "KqlItem/1.0",
                    "query": "let _SnapshotTime = datetime({DOSnapshotTime});\r\n\r\nUCDOStatus  | where TimeGenerated == _SnapshotTime\r\n| summarize sum(BytesFromCDN) ,  sum(BytesFromGroupPeers) , sum(BytesFromPeers) , sum(BytesFromCache) ,\r\nDeviceCount = count_distinct(GlobalDeviceId) by City | top 10 by DeviceCount desc \r\n| extend TotalBytes = (sum_BytesFromPeers + sum_BytesFromGroupPeers+sum_BytesFromCDN+sum_BytesFromCache)\r\n| extend P2PPercentage = ((0.0 + sum_BytesFromPeers + sum_BytesFromGroupPeers)/TotalBytes ) * 100.0  \r\n| extend  MCCPercentage = ((0.0 + sum_BytesFromCache)/ TotalBytes) * 100.0  , \r\n VolumeBytesFromPeers = sum_BytesFromPeers + sum_BytesFromGroupPeers\r\n| extend VolumeBytesFromMCC = sum_BytesFromCache , VolumeByCDN = sum_BytesFromCDN\r\n| project  City , P2PPercentage , MCCPercentage ,  VolumeBytesFromPeers , VolumeBytesFromMCC ,VolumeByCDN , DeviceCount \r\n\r\n",
                    "size": 0,
                    "queryType": 0,
                    "resourceType": "microsoft.operationalinsights/workspaces",
                    "crossComponentResources": [
                      "{mappedWorkspace}"
                    ],
                    "gridSettings": {
                      "formatters": [
                        {
                          "columnMatch": "P2PPercentage",
                          "formatter": 0,
                          "numberFormat": {
                            "unit": 0,
                            "options": {
                              "style": "decimal",
                              "maximumFractionDigits": 2
                            }
                          }
                        },
                        {
                          "columnMatch": "MCCPercentage",
                          "formatter": 0,
                          "numberFormat": {
                            "unit": 0,
                            "options": {
                              "style": "decimal",
                              "maximumFractionDigits": 2
                            }
                          }
                        },
                        {
                          "columnMatch": "VolumeBytesFromPeers",
                          "formatter": 0,
                          "numberFormat": {
                            "unit": 2,
                            "options": {
                              "style": "decimal",
                              "maximumFractionDigits": 2
                            }
                          }
                        },
                        {
                          "columnMatch": "VolumeBytesFromMCC",
                          "formatter": 0,
                          "numberFormat": {
                            "unit": 2,
                            "options": {
                              "style": "decimal",
                              "maximumFractionDigits": 2
                            }
                          }
                        },
                        {
                          "columnMatch": "VolumeByCDN",
                          "formatter": 0,
                          "numberFormat": {
                            "unit": 2,
                            "options": {
                              "style": "decimal",
                              "maximumFractionDigits": 2
                            }
                          }
                        },
                        {
                          "columnMatch": "DeviceCount",
                          "formatter": 4,
                          "formatOptions": {
                            "palette": "blue"
                          }
                        }
                      ],
                      "labelSettings": [
                        {
                          "columnId": "City",
                          "label": "City"
                        },
                        {
                          "columnId": "P2PPercentage",
                          "label": "P2P %"
                        },
                        {
                          "columnId": "MCCPercentage",
                          "label": "MCC %"
                        },
                        {
                          "columnId": "VolumeBytesFromPeers",
                          "label": "Volume By P2P"
                        },
                        {
                          "columnId": "VolumeBytesFromMCC",
                          "label": "Volume By MCC"
                        },
                        {
                          "columnId": "VolumeByCDN",
                          "label": "Volume By CDN"
                        },
                        {
                          "columnId": "DeviceCount",
                          "label": "Device Count"
                        }
                      ]
                    }
                  },
                  "conditionalVisibility": {
                    "parameterName": "EfficiencyByGroupTab",
                    "comparison": "isEqualTo",
                    "value": "City"
                  },
                  "name": "EfficiencyByCity"
                },
                {
                  "type": 3,
                  "content": {
                    "version": "KqlItem/1.0",
                    "query": "let _SnapshotTime = datetime({DOSnapshotTime});\r\n\r\nUCDOStatus  | where TimeGenerated == _SnapshotTime\r\n| summarize sum(BytesFromCDN) ,  sum(BytesFromGroupPeers) , sum(BytesFromPeers) , sum(BytesFromCache) ,\r\nDeviceCount = count_distinct(GlobalDeviceId) by Country | top 10 by DeviceCount desc \r\n| extend TotalBytes = (sum_BytesFromPeers + sum_BytesFromGroupPeers+sum_BytesFromCDN+sum_BytesFromCache)\r\n| extend P2PPercentage = ((0.0 + sum_BytesFromPeers + sum_BytesFromGroupPeers)/TotalBytes ) * 100.0  \r\n| extend  MCCPercentage = ((0.0 + sum_BytesFromCache)/ TotalBytes) * 100.0  , \r\n VolumeBytesFromPeers = sum_BytesFromPeers + sum_BytesFromGroupPeers\r\n| extend VolumeBytesFromMCC = sum_BytesFromCache , VolumeByCDN = sum_BytesFromCDN\r\n| project  Country , P2PPercentage , MCCPercentage ,  VolumeBytesFromPeers , VolumeBytesFromMCC ,VolumeByCDN , DeviceCount \r\n\r\n",
                    "size": 0,
                    "title": "Country is determined based on the location of the device where the maximum amount of data is downloaded.",
                    "queryType": 0,
                    "resourceType": "microsoft.operationalinsights/workspaces",
                    "crossComponentResources": [
                      "{mappedWorkspace}"
                    ],
                    "gridSettings": {
                      "formatters": [
                        {
                          "columnMatch": "P2PPercentage",
                          "formatter": 0,
                          "numberFormat": {
                            "unit": 0,
                            "options": {
                              "style": "decimal",
                              "maximumFractionDigits": 2
                            }
                          }
                        },
                        {
                          "columnMatch": "MCCPercentage",
                          "formatter": 0,
                          "numberFormat": {
                            "unit": 0,
                            "options": {
                              "style": "decimal",
                              "maximumFractionDigits": 2
                            }
                          }
                        },
                        {
                          "columnMatch": "VolumeBytesFromPeers",
                          "formatter": 0,
                          "numberFormat": {
                            "unit": 2,
                            "options": {
                              "style": "decimal",
                              "maximumFractionDigits": 2
                            }
                          }
                        },
                        {
                          "columnMatch": "VolumeBytesFromMCC",
                          "formatter": 0,
                          "numberFormat": {
                            "unit": 2,
                            "options": {
                              "style": "decimal",
                              "maximumFractionDigits": 2
                            }
                          }
                        },
                        {
                          "columnMatch": "VolumeByCDN",
                          "formatter": 0,
                          "numberFormat": {
                            "unit": 2,
                            "options": {
                              "style": "decimal",
                              "maximumFractionDigits": 2
                            }
                          }
                        },
                        {
                          "columnMatch": "DeviceCount",
                          "formatter": 4,
                          "formatOptions": {
                            "palette": "blue"
                          }
                        }
                      ],
                      "labelSettings": [
                        {
                          "columnId": "P2PPercentage",
                          "label": "P2P %"
                        },
                        {
                          "columnId": "MCCPercentage",
                          "label": "MCC %"
                        },
                        {
                          "columnId": "VolumeBytesFromPeers",
                          "label": "Volume By P2P"
                        },
                        {
                          "columnId": "VolumeBytesFromMCC",
                          "label": "Volume By MCC"
                        },
                        {
                          "columnId": "VolumeByCDN",
                          "label": "Volume By CDN"
                        },
                        {
                          "columnId": "DeviceCount",
                          "label": "Device Count"
                        }
                      ]
                    }
                  },
                  "conditionalVisibility": {
                    "parameterName": "EfficiencyByGroupTab",
                    "comparison": "isEqualTo",
                    "value": "Country"
                  },
                  "name": "EfficiencyByCountry"
                },
                {
                  "type": 3,
                  "content": {
                    "version": "KqlItem/1.0",
                    "query": "let _SnapshotTime = datetime({DOSnapshotTime});\r\n\r\nUCDOStatus  | where TimeGenerated == _SnapshotTime\r\n| summarize sum(BytesFromCDN) ,  sum(BytesFromGroupPeers) , sum(BytesFromPeers) , sum(BytesFromCache) ,\r\nDeviceCount = count_distinct(GlobalDeviceId) by ISP | top 10 by DeviceCount desc \r\n| extend TotalBytes = (sum_BytesFromPeers + sum_BytesFromGroupPeers+sum_BytesFromCDN+sum_BytesFromCache)\r\n| extend P2PPercentage = ((0.0 + sum_BytesFromPeers + sum_BytesFromGroupPeers)/TotalBytes ) * 100.0  \r\n| extend  MCCPercentage = ((0.0 + sum_BytesFromCache)/ TotalBytes) * 100.0  , \r\n VolumeBytesFromPeers = sum_BytesFromPeers + sum_BytesFromGroupPeers\r\n| extend VolumeBytesFromMCC = sum_BytesFromCache , VolumeByCDN = sum_BytesFromCDN\r\n| project  ISP , P2PPercentage , MCCPercentage ,  VolumeBytesFromPeers , VolumeBytesFromMCC ,VolumeByCDN , DeviceCount \r\n\r\n",
                    "size": 0,
                    "queryType": 0,
                    "resourceType": "microsoft.operationalinsights/workspaces",
                    "crossComponentResources": [
                      "{mappedWorkspace}"
                    ],
                    "gridSettings": {
                      "formatters": [
                        {
                          "columnMatch": "P2PPercentage",
                          "formatter": 0,
                          "numberFormat": {
                            "unit": 0,
                            "options": {
                              "style": "decimal",
                              "maximumFractionDigits": 2
                            }
                          }
                        },
                        {
                          "columnMatch": "MCCPercentage",
                          "formatter": 0,
                          "numberFormat": {
                            "unit": 0,
                            "options": {
                              "style": "decimal",
                              "maximumFractionDigits": 2
                            }
                          }
                        },
                        {
                          "columnMatch": "VolumeBytesFromPeers",
                          "formatter": 0,
                          "numberFormat": {
                            "unit": 2,
                            "options": {
                              "style": "decimal",
                              "maximumFractionDigits": 2
                            }
                          }
                        },
                        {
                          "columnMatch": "VolumeBytesFromMCC",
                          "formatter": 0,
                          "numberFormat": {
                            "unit": 2,
                            "options": {
                              "style": "decimal",
                              "maximumFractionDigits": 2
                            }
                          }
                        },
                        {
                          "columnMatch": "VolumeByCDN",
                          "formatter": 0,
                          "numberFormat": {
                            "unit": 2,
                            "options": {
                              "style": "decimal",
                              "maximumFractionDigits": 2
                            }
                          }
                        },
                        {
                          "columnMatch": "DeviceCount",
                          "formatter": 4,
                          "formatOptions": {
                            "palette": "blue"
                          }
                        }
                      ],
                      "labelSettings": [
                        {
                          "columnId": "P2PPercentage",
                          "label": "P2P %"
                        },
                        {
                          "columnId": "MCCPercentage",
                          "label": "MCC %"
                        },
                        {
                          "columnId": "VolumeBytesFromPeers",
                          "label": "Volume By P2P"
                        },
                        {
                          "columnId": "VolumeBytesFromMCC",
                          "label": "Volume By MCC"
                        },
                        {
                          "columnId": "VolumeByCDN",
                          "label": "Volume By CDN"
                        },
                        {
                          "columnId": "DeviceCount",
                          "label": "Device Count"
                        }
                      ]
                    }
                  },
                  "conditionalVisibility": {
                    "parameterName": "EfficiencyByGroupTab",
                    "comparison": "isEqualTo",
                    "value": "ISP"
                  },
                  "name": "EfficiencyByISP"
                }
              ]
            },
            "conditionalVisibility": {
              "parameterName": "selTab",
              "comparison": "isEqualTo",
              "value": "EfficiencyByGroup"
            },
            "name": "EfficiencyByGroup"
          },
          {
            "type": 12,
            "content": {
              "version": "NotebookGroup/1.0",
              "groupType": "editable",
              "items": [
                {
                  "type": 3,
                  "content": {
                    "version": "KqlItem/1.0",
                    "query": "let _SnapshotTime = datetime({DOSnapshotTime});\r\n\r\nUCDOStatus | where TimeGenerated == _SnapshotTime \r\n| distinct GlobalDeviceId , PeeringStatus\r\n| extend PeerCheck = iff(PeeringStatus == \"On\" , 1 , 0) \r\n| summarize count() by PeeringStatus ",
                    "size": 0,
                    "title": "Peering Status",
                    "queryType": 0,
                    "resourceType": "microsoft.operationalinsights/workspaces",
                    "crossComponentResources": [
                      "{mappedWorkspace}"
                    ],
                    "visualization": "piechart",
                    "chartSettings": {
                      "seriesLabelSettings": [
                        {
                          "seriesName": "On",
                          "label": "Peering On"
                        },
                        {
                          "seriesName": "Off",
                          "label": "Peering Off"
                        }
                      ]
                    }
                  },
                  "customWidth": "0",
                  "conditionalVisibility": {
                    "parameterName": "selTab",
                    "comparison": "isEqualTo",
                    "value": "DeviceConfiguration"
                  },
                  "name": "DeviceCountPeering",
                  "styleSettings": {
                    "maxWidth": "50%"
                  }
                },
                {
                  "type": 3,
                  "content": {
                    "version": "KqlItem/1.0",
                    "query": "let _SnapshotTime = datetime({DOSnapshotTime});\r\n\r\nUCDOStatus | where TimeGenerated == _SnapshotTime\r\n| extend Configuration = DownloadMode \r\n| summarize DeviceCount = count_distinct(GlobalDeviceId) by Configuration\r\n",
                    "size": 0,
                    "title": "Configuration Details",
                    "queryType": 0,
                    "resourceType": "microsoft.operationalinsights/workspaces",
                    "crossComponentResources": [
                      "{mappedWorkspace}"
                    ],
                    "gridSettings": {
                      "formatters": [
                        {
                          "columnMatch": "Configuration",
                          "formatter": 1,
                          "formatOptions": {
                            "linkTarget": "WorkbookTemplate",
                            "workbookContext": {
                              "componentIdSource": "workbook",
                              "resourceIdsSource": "workbook",
                              "templateIdSource": "static",
                              "templateId": "community-workbooks/UpdateCompliance/DO Device Configuration breakdown",
                              "typeSource": "workbook",
                              "gallerySource": "workbook",
                              "locationSource": "default",
                              "passSpecificParams": true,
                              "templateParameters": [
                                {
                                  "name": "Configuration",
                                  "source": "column",
                                  "value": "Configuration"
                                },
                                {
                                  "name": "mappedSubscription",
                                  "source": "parameter",
                                  "value": "mappedSubscription"
                                },
                                {
                                  "name": "mappedWorkspace",
                                  "source": "parameter",
                                  "value": "mappedWorkspace"
                                }
                              ]
                            }
                          }
                        },
                        {
                          "columnMatch": "DeviceCount",
                          "formatter": 4,
                          "formatOptions": {
                            "palette": "blue"
                          },
                          "numberFormat": {
                            "unit": 0,
                            "options": {
                              "style": "decimal"
                            }
                          }
                        }
                      ],
                      "labelSettings": [
                        {
                          "columnId": "DeviceCount",
                          "label": "Device Count"
                        }
                      ]
                    },
                    "tileSettings": {
                      "showBorder": false,
                      "titleContent": {
                        "columnMatch": "Configuration",
                        "formatter": 1
                      },
                      "leftContent": {
                        "columnMatch": "DeviceCount",
                        "formatter": 12,
                        "formatOptions": {
                          "palette": "auto"
                        },
                        "numberFormat": {
                          "unit": 17,
                          "options": {
                            "maximumFractionDigits": 2
                          }
                        }
                      }
                    },
                    "graphSettings": {
                      "type": 0,
                      "topContent": {
                        "columnMatch": "Configuration",
                        "formatter": 1
                      },
                      "centerContent": {
                        "columnMatch": "DeviceCount",
                        "formatter": 1,
                        "numberFormat": {
                          "unit": 17,
                          "options": {
                            "maximumFractionDigits": 2
                          }
                        }
                      }
                    }
                  },
                  "customWidth": "0",
                  "conditionalVisibility": {
                    "parameterName": "selTab",
                    "comparison": "isEqualTo",
                    "value": "DeviceConfiguration"
                  },
                  "name": "DeviceConfigration",
                  "styleSettings": {
                    "maxWidth": "50%"
                  }
                }
              ]
            },
            "name": "DeviceConfigurationGroup"
          },
          {
            "type": 12,
            "content": {
              "version": "NotebookGroup/1.0",
              "groupType": "editable",
              "items": [
                {
                  "type": 3,
                  "content": {
                    "version": "KqlItem/1.0",
                    "query": "\r\nlet _SnapshotTime = datetime({DOSnapshotTime});\r\n\r\nUCDOAggregatedStatus | where TimeGenerated == _SnapshotTime| summarize BytesFromPeersPer = (sum(0.0 + BytesFromPeers + BytesFromGroupPeers)/ sum(BytesFromPeers + BytesFromGroupPeers + BytesFromCache+BytesFromCDN)) * 100.0 , BytesFromCDNPer = (sum(0.0 + BytesFromCDN)/ sum(BytesFromPeers + BytesFromGroupPeers + BytesFromCache+BytesFromCDN)) * 100.0 ,  BytesFromCachePer = (sum(0.0 + BytesFromCache)/ sum(BytesFromPeers + BytesFromGroupPeers + BytesFromCache+BytesFromCDN)) * 100.0 \r\n| project BytesFromSources = pack(\"BytesFromCDN\" , BytesFromCDNPer , \"BytesFromPeers\" , BytesFromPeersPer , \"BytesFromCache\" , BytesFromCachePer )| mv-expand BytesFromSources \r\n| extend BytesPercentageType = tostring(bag_keys(BytesFromSources)[0] )\r\n| extend BytesPercentage = todouble(BytesFromSources[BytesPercentageType])\r\n| project BytesPercentageType , BytesPercentage | render piechart",
                    "size": 0,
                    "title": "Volume by source",
                    "queryType": 0,
                    "resourceType": "microsoft.operationalinsights/workspaces",
                    "crossComponentResources": [
                      "{mappedWorkspace}"
                    ],
                    "visualization": "piechart",
                    "chartSettings": {
                      "seriesLabelSettings": [
                        {
                          "seriesName": "BytesFromCDN",
                          "label": "CDN %"
                        },
                        {
                          "seriesName": "BytesFromPeers",
                          "label": "PEERS %"
                        },
                        {
                          "seriesName": "BytesFromCache",
                          "label": "MCC %"
                        }
                      ]
                    }
                  },
                  "customWidth": "0",
                  "conditionalVisibility": {
                    "parameterName": "selTab",
                    "comparison": "isEqualTo",
                    "value": "ContentDistribution"
                  },
                  "name": "VolumeBySource",
                  "styleSettings": {
                    "maxWidth": "50%"
                  }
                },
                {
                  "type": 3,
                  "content": {
                    "version": "KqlItem/1.0",
                    "query": "\r\nlet _SnapshotTime = datetime({DOSnapshotTime});\r\n\r\nUCDOAggregatedStatus | where TimeGenerated == _SnapshotTime| summarize BytesFromPeers = sum(BytesFromPeers) , BytesFromGroupPeers = sum(BytesFromGroupPeers) , BytesFromCDN =  sum(BytesFromCDN), BytesFromCache = sum(BytesFromCache) by ContentType \r\n| project ContentType, BytesFromPeers, BytesFromGroupPeers, BytesFromCDN, BytesFromCache\r\n",
                    "size": 0,
                    "title": "Volume by content type and source",
                    "queryType": 0,
                    "resourceType": "microsoft.operationalinsights/workspaces",
                    "crossComponentResources": [
                      "{mappedWorkspace}"
                    ],
                    "visualization": "barchart",
                    "chartSettings": {
                      "xAxis": "ContentType",
                      "ySettings": {
                        "numberFormatSettings": {
                          "unit": 2,
                          "options": {
                            "style": "decimal",
                            "useGrouping": true,
                            "maximumFractionDigits": 2
                          }
                        }
                      }
                    }
                  },
                  "customWidth": "0",
                  "conditionalVisibility": {
                    "parameterName": "selTab",
                    "comparison": "isEqualTo",
                    "value": "ContentDistribution"
                  },
                  "name": "VolumeByContentAndSource",
                  "styleSettings": {
                    "maxWidth": "50%"
                  }
                },
                {
                  "type": 3,
                  "content": {
                    "version": "KqlItem/1.0",
                    "query": "let _SnapshotTime = datetime({DOSnapshotTime});\r\n\r\nUCDOAggregatedStatus | where TimeGenerated == _SnapshotTime| summarize BytesFromPeers = sum(BytesFromPeers) , BytesFromGroupPeers = sum(BytesFromGroupPeers) , BytesFromCDN =  sum(BytesFromCDN), BytesFromCache = sum(BytesFromCache) , DeviceCount = sum(DeviceCount) by ContentType \r\n| extend \r\nLocalSources_BWSAV = round(((0.0 + BytesFromPeers + BytesFromGroupPeers + BytesFromCache)/(BytesFromPeers + BytesFromGroupPeers+BytesFromCDN + BytesFromCache)) * 100.0 ,2)| project ContentType , LocalSources_BWSAV , BytesFromPeers , BytesFromGroupPeers , BytesFromCDN  ,BytesFromCache , DeviceCount  \r\n",
                    "size": 0,
                    "title": "Content distribution(%) Details",
                    "exportFieldName": "ContentType",
                    "exportParameterName": "_ContentTypeContentDistributionPer",
                    "queryType": 0,
                    "resourceType": "microsoft.operationalinsights/workspaces",
                    "crossComponentResources": [
                      "{mappedWorkspace}"
                    ],
                    "gridSettings": {
                      "formatters": [
                        {
                          "columnMatch": "ContentType",
                          "formatter": 1,
                          "formatOptions": {
                            "linkTarget": "WorkbookTemplate",
                            "linkIsContextBlade": false,
                            "workbookContext": {
                              "componentIdSource": "workbook",
                              "resourceIdsSource": "workbook",
                              "templateIdSource": "static",
                              "templateId": "community-workbooks/UpdateCompliance/DO ContentType breakout",
                              "typeSource": "workbook",
                              "gallerySource": "workbook",
                              "locationSource": "default",
                              "passSpecificParams": true,
                              "templateParameters": [
                                {
                                  "name": "ContentType",
                                  "source": "column",
                                  "value": "ContentType"
                                },
                                {
                                  "name": "mappedSubscription",
                                  "source": "parameter",
                                  "value": "mappedSubscription"
                                },
                                {
                                  "name": "mappedWorkspace",
                                  "source": "parameter",
                                  "value": "mappedWorkspace"
                                }
                              ]
                            }
                          }
                        },
                        {
                          "columnMatch": "LocalSources_BWSAV",
                          "formatter": 0,
                          "numberFormat": {
                            "unit": 0,
                            "options": {
                              "style": "decimal",
                              "maximumFractionDigits": 2
                            }
                          }
                        },
                        {
                          "columnMatch": "BytesFromPeers",
                          "formatter": 0,
                          "numberFormat": {
                            "unit": 2,
                            "options": {
                              "style": "decimal",
                              "maximumFractionDigits": 2
                            }
                          }
                        },
                        {
                          "columnMatch": "BytesFromGroupPeers",
                          "formatter": 0,
                          "numberFormat": {
                            "unit": 2,
                            "options": {
                              "style": "decimal",
                              "maximumFractionDigits": 2
                            }
                          }
                        },
                        {
                          "columnMatch": "BytesFromCDN",
                          "formatter": 0,
                          "numberFormat": {
                            "unit": 2,
                            "options": {
                              "style": "decimal",
                              "maximumFractionDigits": 2
                            }
                          }
                        },
                        {
                          "columnMatch": "BytesFromCache",
                          "formatter": 0,
                          "numberFormat": {
                            "unit": 2,
                            "options": {
                              "style": "decimal",
                              "maximumFractionDigits": 2
                            }
                          }
                        },
                        {
                          "columnMatch": "DeviceCount",
                          "formatter": 4,
                          "formatOptions": {
                            "palette": "blue"
                          }
                        }
                      ],
                      "labelSettings": [
                        {
                          "columnId": "ContentType",
                          "label": "Content"
                        },
                        {
                          "columnId": "LocalSources_BWSAV",
                          "label": "BW SAV %"
                        },
                        {
                          "columnId": "BytesFromPeers",
                          "label": "LAN BYTES %"
                        },
                        {
                          "columnId": "BytesFromGroupPeers",
                          "label": "GROUP BYTES"
                        },
                        {
                          "columnId": "BytesFromCDN",
                          "label": "CDN BYTES"
                        },
                        {
                          "columnId": "BytesFromCache",
                          "label": "MCC BYTES"
                        },
                        {
                          "columnId": "DeviceCount",
                          "label": "Device Count"
                        }
                      ]
                    },
                    "sortBy": []
                  },
                  "customWidth": "0",
                  "conditionalVisibility": {
                    "parameterName": "selTab",
                    "comparison": "isEqualTo",
                    "value": "ContentDistribution"
                  },
                  "name": "ContentDistributionPercentageDetails"
                }
              ]
            },
            "name": "ContentDistributionGroup"
          }
        ],
        "exportParameters": true
      },
      "conditionalVisibilities": [
        {
          "parameterName": "mappedSubscription",
          "comparison": "isNotEqualTo"
        },
        {
          "parameterName": "mappedWorkspace",
          "comparison": "isNotEqualTo"
        },
        {
          "parameterName": "isDOOnboarded",
          "comparison": "isEqualTo",
          "value": "true"
        }
      ],
      "name": "DODataGroup"
    }
  ],
  "$schema": "https://github.com/Microsoft/Application-Insights-Workbooks/blob/master/schema/workbook.json"
}