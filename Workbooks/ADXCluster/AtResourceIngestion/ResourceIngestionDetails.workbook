{
  "version": "Notebook/1.0",
  "items": [
    {
      "type": 9,
      "content": {
        "version": "KqlParameterItem/1.0",
        "parameters": [
          {
            "version": "KqlParameterItem/1.0",
            "name": "Resource",
            "label": "ADX-Cluster",
            "type": 5,
            "isRequired": true,
            "value": "value::1",
            "isHiddenWhenLocked": true,
            "typeSettings": {
              "resourceTypeFilter": {
                "microsoft.kusto/clusters": true
              },
              "additionalResourceOptions": [
                "value::1"
              ],
              "showDefault": false
            }
          },
          {
            "version": "KqlParameterItem/1.0",
            "name": "TimeRange",
            "label": "Time range",
            "type": 4,
            "isRequired": true,
            "isGlobal": true,
            "value": {
              "durationMs": 604800000
            },
            "isHiddenWhenLocked": true,
            "typeSettings": {
              "selectableValues": [
                {
                  "durationMs": 900000
                },
                {
                  "durationMs": 1800000
                },
                {
                  "durationMs": 3600000
                },
                {
                  "durationMs": 14400000
                },
                {
                  "durationMs": 43200000
                },
                {
                  "durationMs": 86400000
                },
                {
                  "durationMs": 172800000
                },
                {
                  "durationMs": 259200000
                },
                {
                  "durationMs": 604800000
                },
                {
                  "durationMs": 2592000000
                }
              ],
              "allowCustom": true
            }
          }
        ],
        "style": "pills",
        "queryType": 0,
        "resourceType": "microsoft.kusto/clusters"
      },
      "name": "parameters - 0",
      "styleSettings": {
        "margin": "15px 0 0 0"
      }
    },
    {
      "type": 9,
      "content": {
        "version": "KqlParameterItem/1.0",
        "crossComponentResources": [
          "{Resource}"
        ],
        "parameters": [
          {
            "version": "KqlParameterItem/1.0",
            "name": "SuccessLogs",
            "type": 1,
            "isRequired": true,
            "query": "let present = toscalar( \r\n   ( SucceededIngestion | where TimeGenerated > ago(30d) | take 1 | count as Count )\r\n   ) > 0;\r\n\r\nprint  IsPresent=iif(present, \"present\", \"not present\")",
            "crossComponentResources": [
              "{Resource}"
            ],
            "isHiddenWhenLocked": true,
            "queryType": 0,
            "resourceType": "microsoft.kusto/clusters"
          },
          {
            "version": "KqlParameterItem/1.0",
            "name": "FailLogs",
            "type": 1,
            "isRequired": true,
            "query": "let present = toscalar( \r\n   ( FailedIngestion | where TimeGenerated > ago(30d) | take 1 | count as Count )\r\n   ) > 0;\r\n\r\nprint  IsPresent=iif(present, \"present\", \"not present\")",
            "crossComponentResources": [
              "{Resource}"
            ],
            "isHiddenWhenLocked": true,
            "queryType": 0,
            "resourceType": "microsoft.kusto/clusters"
          },
          {
            "version": "KqlParameterItem/1.0",
            "name": "BatchLogs",
            "type": 1,
            "isRequired": true,
            "query": "let present = toscalar( \r\n   ( ADXIngestionBatching | where TimeGenerated > ago(30d) | take 1 | count as Count )\r\n   ) > 0;\r\n\r\nprint  IsPresent=iif(present, \"present\", \"not present\")",
            "crossComponentResources": [
              "{Resource}"
            ],
            "isHiddenWhenLocked": true,
            "queryType": 0,
            "resourceType": "microsoft.kusto/clusters"
          }
        ],
        "style": "above",
        "queryType": 0,
        "resourceType": "microsoft.kusto/clusters"
      },
      "conditionalVisibility": {
        "parameterName": "1",
        "comparison": "isEqualTo",
        "value": "2"
      },
      "name": "parameters - 4"
    },
    {
      "type": 12,
      "content": {
        "version": "NotebookGroup/1.0",
        "groupType": "editable",
        "items": [
          {
            "type": 1,
            "content": {
              "json": "* This page provides monitoring of the batching ingestion process. [Learn more about batching ingestion and its metrics](https://docs.microsoft.com/azure/data-explorer/monitor-batching-ingestion?WT.mc_id=Portal-AppInsightsExtension)\r\n* To monitor streaming ingestion, use the [streaming ingest metrics](https://docs.microsoft.com/azure/data-explorer/using-metrics?WT.mc_id=Portal-AppInsightsExtension#streaming-ingest-metrics). Learn more about [batching versus streaming ingestion](https://docs.microsoft.com/azure/data-explorer/ingest-data-overview?WT.mc_id=Portal-AppInsightsExtension#batching-vs-streaming-ingestion)"
            },
            "name": "IngestionHelp"
          },
          {
            "type": 12,
            "content": {
              "version": "NotebookGroup/1.0",
              "groupType": "editable",
              "items": [
                {
                  "type": 10,
                  "content": {
                    "chartId": "workbook46587178-7d74-4ca2-9ea5-86af399881db",
                    "version": "MetricsItem/2.0",
                    "size": 3,
                    "chartType": -1,
                    "resourceType": "microsoft.kusto/clusters",
                    "metricScope": 0,
                    "resourceParameter": "Resource",
                    "resourceIds": [
                      "{Resource}"
                    ],
                    "timeContextFromParameter": "TimeRange",
                    "timeContext": {
                      "durationMs": 8035200000
                    },
                    "metrics": [
                      {
                        "namespace": "microsoft.kusto/clusters",
                        "metric": "microsoft.kusto/clusters-Ingestion health and performance-IngestionResult",
                        "aggregation": 1,
                        "columnName": "Failures"
                      }
                    ],
                    "gridFormatType": 1,
                    "tileSettings": {
                      "titleContent": {
                        "columnMatch": "Segment",
                        "formatter": 18,
                        "formatOptions": {
                          "thresholdsOptions": "colors",
                          "thresholdsGrid": [
                            {
                              "operator": "Default",
                              "thresholdValue": null,
                              "representation": "redBright",
                              "text": "Failures (permanent)"
                            }
                          ]
                        }
                      },
                      "leftContent": {
                        "columnMatch": "Value",
                        "formatter": 12,
                        "formatOptions": {
                          "palette": "none"
                        },
                        "numberFormat": {
                          "unit": 17,
                          "options": {
                            "style": "decimal",
                            "maximumFractionDigits": 2,
                            "maximumSignificantDigits": 3
                          },
                          "emptyValCustomText": "0"
                        }
                      },
                      "secondaryContent": {
                        "columnMatch": "Timeline",
                        "formatter": 9,
                        "formatOptions": {
                          "palette": "red"
                        }
                      },
                      "showBorder": false,
                      "size": "full"
                    },
                    "filters": [
                      {
                        "id": "1",
                        "key": "FailureKind",
                        "operator": 0,
                        "values": [
                          "Permanent"
                        ]
                      }
                    ],
                    "gridSettings": {
                      "formatters": [
                        {
                          "columnMatch": "Subscription",
                          "formatter": 5
                        },
                        {
                          "columnMatch": "Name",
                          "formatter": 13,
                          "formatOptions": {
                            "linkTarget": "Resource"
                          }
                        },
                        {
                          "columnMatch": "Metric",
                          "formatter": 1
                        },
                        {
                          "columnMatch": "Aggregation",
                          "formatter": 5
                        },
                        {
                          "columnMatch": "Value",
                          "formatter": 1
                        },
                        {
                          "columnMatch": "Timeline",
                          "formatter": 9
                        }
                      ],
                      "rowLimit": 10000
                    },
                    "exportedParameters": [
                      {
                        "fieldName": "Segment",
                        "parameterName": "field"
                      },
                      {
                        "fieldName": "Segment Field",
                        "parameterName": "SegmentField",
                        "parameterType": 1
                      },
                      {
                        "parameterName": "test",
                        "parameterType": 1
                      }
                    ]
                  },
                  "customWidth": "1",
                  "conditionalVisibility": {
                    "parameterName": "1",
                    "comparison": "isEqualTo",
                    "value": "2"
                  },
                  "showPin": false,
                  "name": "failures"
                },
                {
                  "type": 10,
                  "content": {
                    "chartId": "workbook46587178-7d74-4ca2-9ea5-86af399881db",
                    "version": "MetricsItem/2.0",
                    "size": 3,
                    "chartType": -1,
                    "resourceType": "microsoft.kusto/clusters",
                    "metricScope": 0,
                    "resourceParameter": "Resource",
                    "resourceIds": [
                      "{Resource}"
                    ],
                    "timeContextFromParameter": "TimeRange",
                    "timeContext": {
                      "durationMs": 8035200000
                    },
                    "metrics": [
                      {
                        "namespace": "microsoft.kusto/clusters",
                        "metric": "microsoft.kusto/clusters-Ingestion health and performance-IngestionResult",
                        "aggregation": 1,
                        "splitBy": "IngestionResultDetails",
                        "splitBySortOrder": -1,
                        "splitByLimit": 5,
                        "columnName": "Success"
                      }
                    ],
                    "gridFormatType": 1,
                    "tileSettings": {
                      "titleContent": {
                        "columnMatch": "Segment",
                        "formatter": 18,
                        "formatOptions": {
                          "thresholdsOptions": "colors",
                          "thresholdsGrid": [
                            {
                              "operator": "Default",
                              "thresholdValue": null,
                              "representation": "green",
                              "text": "Success"
                            }
                          ]
                        }
                      },
                      "leftContent": {
                        "columnMatch": "Value",
                        "formatter": 12,
                        "formatOptions": {
                          "palette": "none"
                        },
                        "numberFormat": {
                          "unit": 17,
                          "options": {
                            "style": "decimal",
                            "useGrouping": false,
                            "maximumFractionDigits": 2,
                            "maximumSignificantDigits": 3
                          },
                          "emptyValCustomText": "0"
                        }
                      },
                      "secondaryContent": {
                        "columnMatch": "Timeline",
                        "formatter": 9,
                        "formatOptions": {
                          "palette": "green"
                        }
                      },
                      "showBorder": false,
                      "size": "full"
                    },
                    "filters": [
                      {
                        "id": "1",
                        "key": "IngestionResultDetails",
                        "operator": 0,
                        "values": [
                          "Success"
                        ]
                      }
                    ],
                    "gridSettings": {
                      "formatters": [
                        {
                          "columnMatch": "Subscription",
                          "formatter": 5
                        },
                        {
                          "columnMatch": "Name",
                          "formatter": 13,
                          "formatOptions": {
                            "linkTarget": "Resource"
                          }
                        },
                        {
                          "columnMatch": "Metric",
                          "formatter": 1
                        },
                        {
                          "columnMatch": "Aggregation",
                          "formatter": 5
                        },
                        {
                          "columnMatch": "Value",
                          "formatter": 1
                        },
                        {
                          "columnMatch": "Timeline",
                          "formatter": 9
                        }
                      ],
                      "rowLimit": 10000
                    },
                    "exportedParameters": [
                      {
                        "fieldName": "Segment",
                        "parameterName": "field"
                      },
                      {
                        "parameterName": "test",
                        "parameterType": 1
                      },
                      {
                        "fieldName": "Segment Field",
                        "parameterName": "SegmentField",
                        "parameterType": 1
                      }
                    ]
                  },
                  "customWidth": "1",
                  "conditionalVisibility": {
                    "parameterName": "1",
                    "comparison": "isEqualTo",
                    "value": "2"
                  },
                  "name": "success"
                },
                {
                  "type": 3,
                  "content": {
                    "version": "KqlItem/1.0",
                    "query": "{\"version\":\"Merge/1.0\",\"merges\":[{\"id\":\"60bb43ba-b002-420a-98e0-514727a214ab\",\"mergeType\":\"union\",\"leftTable\":\"success\",\"rightTable\":\"failures\"}],\"projectRename\":[{\"originalName\":\"Subscription\",\"mergedName\":\"Subscription\",\"fromId\":\"unknown\"},{\"originalName\":\"Name\",\"mergedName\":\"Name\",\"fromId\":\"unknown\"},{\"originalName\":\"Namespace\",\"mergedName\":\"Namespace\",\"fromId\":\"unknown\"},{\"originalName\":\"Metric\",\"mergedName\":\"Metric\",\"fromId\":\"unknown\"},{\"originalName\":\"Metric ID\",\"mergedName\":\"Metric ID\",\"fromId\":\"unknown\"},{\"originalName\":\"Aggregation\",\"mergedName\":\"Aggregation\",\"fromId\":\"unknown\"},{\"originalName\":\"Segment Field\",\"mergedName\":\"Segment Field\",\"fromId\":\"unknown\"},{\"originalName\":\"Segment\",\"mergedName\":\"Segment\",\"fromId\":\"unknown\"},{\"originalName\":\"Value\",\"mergedName\":\"Value\",\"fromId\":\"unknown\"},{\"originalName\":\"Timeline\",\"mergedName\":\"Timeline\",\"fromId\":\"unknown\"},{\"originalName\":\"[success].Subscription\",\"mergedName\":\"Subscription1\",\"fromId\":\"60bb43ba-b002-420a-98e0-514727a214ab\"},{\"originalName\":\"[success].Name\",\"mergedName\":\"Name1\",\"fromId\":\"60bb43ba-b002-420a-98e0-514727a214ab\"},{\"originalName\":\"[success].Namespace\",\"mergedName\":\"Namespace1\",\"fromId\":\"60bb43ba-b002-420a-98e0-514727a214ab\"},{\"originalName\":\"[success].Metric\",\"mergedName\":\"Metric1\",\"fromId\":\"60bb43ba-b002-420a-98e0-514727a214ab\"},{\"originalName\":\"[success].Metric ID\",\"mergedName\":\"Metric ID1\",\"fromId\":\"60bb43ba-b002-420a-98e0-514727a214ab\"},{\"originalName\":\"[success].Aggregation\",\"mergedName\":\"Aggregation1\",\"fromId\":\"60bb43ba-b002-420a-98e0-514727a214ab\"},{\"originalName\":\"[success].Segment Field\",\"mergedName\":\"Segment Field1\",\"fromId\":\"60bb43ba-b002-420a-98e0-514727a214ab\"},{\"originalName\":\"[success].Segment\",\"mergedName\":\"Segment1\",\"fromId\":\"60bb43ba-b002-420a-98e0-514727a214ab\"},{\"originalName\":\"[success].Value\",\"mergedName\":\"Value1\",\"fromId\":\"60bb43ba-b002-420a-98e0-514727a214ab\"},{\"originalName\":\"[success].Timeline\",\"mergedName\":\"Timeline1\",\"fromId\":\"60bb43ba-b002-420a-98e0-514727a214ab\"}]}",
                    "size": 3,
                    "exportFieldName": "Segment Field",
                    "exportParameterName": "SegmentField",
                    "queryType": 7,
                    "visualization": "tiles",
                    "tileSettings": {
                      "titleContent": {
                        "columnMatch": "Metric",
                        "formatter": 18,
                        "formatOptions": {
                          "thresholdsOptions": "colors",
                          "thresholdsGrid": [
                            {
                              "operator": "==",
                              "thresholdValue": "Success",
                              "representation": "green",
                              "text": "Success"
                            },
                            {
                              "operator": "==",
                              "thresholdValue": "Failures",
                              "representation": "redBright",
                              "text": "Failures (permanent)"
                            },
                            {
                              "operator": "Default",
                              "thresholdValue": null,
                              "representation": "redBright",
                              "text": "Failures (permanent)"
                            }
                          ]
                        },
                        "numberFormat": {
                          "unit": 0,
                          "options": {
                            "style": "decimal"
                          }
                        }
                      },
                      "leftContent": {
                        "columnMatch": "Value",
                        "formatter": 12,
                        "formatOptions": {
                          "palette": "none"
                        },
                        "numberFormat": {
                          "unit": 17,
                          "options": {
                            "style": "decimal",
                            "useGrouping": false,
                            "maximumFractionDigits": 2,
                            "maximumSignificantDigits": 3
                          },
                          "emptyValCustomText": "0"
                        }
                      },
                      "secondaryContent": {
                        "columnMatch": "Timeline",
                        "formatter": 9,
                        "formatOptions": {
                          "palette": "blue"
                        },
                        "tooltipFormat": {
                          "tooltip": "Ingetion result timeline"
                        }
                      },
                      "showBorder": false
                    }
                  },
                  "customWidth": "0",
                  "showPin": false,
                  "name": "failures and succes",
                  "styleSettings": {
                    "margin": "-30px 0px 0px 0px"
                  }
                },
                {
                  "type": 10,
                  "content": {
                    "chartId": "workbook68781407-6437-4759-8ce9-1d5dae30a2d9",
                    "version": "MetricsItem/2.0",
                    "size": 3,
                    "chartType": -1,
                    "resourceType": "microsoft.kusto/clusters",
                    "metricScope": 0,
                    "resourceParameter": "Resource",
                    "resourceIds": [
                      "{Resource}"
                    ],
                    "timeContextFromParameter": "TimeRange",
                    "timeContext": {
                      "durationMs": 8035200000
                    },
                    "metrics": [
                      {
                        "namespace": "microsoft.kusto/clusters",
                        "metric": "microsoft.kusto/clusters-Ingestion health and performance-StageLatency",
                        "aggregation": 4,
                        "columnName": "Total Latency",
                        "filters": [
                          {
                            "key": "ComponentType",
                            "operator": 0,
                            "values": [
                              "StorageEngine"
                            ]
                          }
                        ]
                      }
                    ],
                    "gridFormatType": 1,
                    "tileSettings": {
                      "titleContent": {
                        "columnMatch": "Metric",
                        "formatter": 18,
                        "formatOptions": {
                          "thresholdsOptions": "colors",
                          "thresholdsGrid": [
                            {
                              "operator": ">=",
                              "thresholdValue": "900",
                              "representation": "orange",
                              "text": "Total latency (avg)"
                            },
                            {
                              "operator": "Default",
                              "thresholdValue": null,
                              "representation": "blueDark",
                              "text": "Total latency (avg)"
                            }
                          ]
                        },
                        "tooltipFormat": {
                          "tooltip": "Time from when a message is accepted by Azure Data Explorer, until its content is received by the Engine Storage and is available for query."
                        }
                      },
                      "leftContent": {
                        "columnMatch": "Value",
                        "formatter": 1,
                        "numberFormat": {
                          "unit": 24,
                          "options": {
                            "style": "decimal",
                            "maximumFractionDigits": 2,
                            "maximumSignificantDigits": 3
                          },
                          "emptyValCustomText": "0"
                        },
                        "tooltipFormat": {
                          "tooltip": "Time from when a message is accepted by Azure Data Explorer, until its content is received by the Engine Storage and is available for query."
                        }
                      },
                      "secondaryContent": {
                        "columnMatch": "Timeline",
                        "formatter": 9,
                        "formatOptions": {
                          "palette": "blue"
                        },
                        "tooltipFormat": {
                          "tooltip": "Time from when a message is accepted by Azure Data Explorer, until its content is received by the Engine Storage and is available for query."
                        }
                      },
                      "showBorder": false,
                      "size": "full"
                    },
                    "gridSettings": {
                      "rowLimit": 10000
                    }
                  },
                  "customWidth": "0",
                  "name": "Total Latency (avg)",
                  "styleSettings": {
                    "margin": "14px 0px 0px -20px"
                  }
                },
                {
                  "type": 1,
                  "content": {
                    "json": "ðŸ’¡ Click on **Success** or **Failures** to drill down (additional monitoring coverage is based on the diagnostic logs of FailedIngestion and SucceededIngestion in Log Analytics.)"
                  },
                  "name": "text - 11"
                },
                {
                  "type": 3,
                  "content": {
                    "version": "KqlItem/1.0",
                    "query": "let tenant=\r\nFailedIngestion\r\n| where TimeGenerated {TimeRange}\r\n| parse _ResourceId with * \"providers/microsoft.kusto/clusters/\" cluster_name\r\n| where cluster_name =~ '{Resource:name}'\r\n| distinct TenantId\r\n| take 1; //choose one tenant as logs are transferred to many tenants which represents workSpace\r\n\r\nlet sampleDetailedError = \r\nFailedIngestion\r\n| where TimeGenerated {TimeRange}\r\n| parse _ResourceId with * \"providers/microsoft.kusto/clusters/\" cluster_name\r\n| where cluster_name =~ '{Resource:name}'\r\n| summarize Details=any(Details) by Database, Table, FailureStatus, ErrorCode; //take sample details per error\r\n\r\n\r\n\r\nlet results = FailedIngestion\r\n| where TimeGenerated {TimeRange}\r\n| parse _ResourceId with * \"providers/microsoft.kusto/clusters/\" cluster_name\r\n| where cluster_name =~ '{Resource:name}'\r\n| where TenantId == toscalar(tenant)\r\n| summarize Count=count() by Database, Table, FailureStatus, ErrorCode;\r\n\r\n\r\nresults\r\n| join kind=leftouter sampleDetailedError on Database, Table, FailureStatus, ErrorCode\r\n| extend clickToSeeTimechart = \"Click to see the timechart\"\r\n| project Database, Table, FailureStatus, ErrorCode, Count, clickToSeeTimechart, Details\r\n| order by ['Count'],Database,Table",
                    "size": 3,
                    "showAnalytics": true,
                    "title": "Failed ingestions by table and error",
                    "timeContext": {
                      "durationMs": 8035200000
                    },
                    "timeContextFromParameter": "TimeRange",
                    "exportParameterName": "AllFields",
                    "queryType": 0,
                    "resourceType": "microsoft.kusto/clusters",
                    "crossComponentResources": [
                      "{Resource}"
                    ],
                    "visualization": "table",
                    "gridSettings": {
                      "formatters": [
                        {
                          "columnMatch": "Database",
                          "formatter": 0,
                          "formatOptions": {
                            "customColumnWidthSetting": "11%"
                          }
                        },
                        {
                          "columnMatch": "Table",
                          "formatter": 0,
                          "formatOptions": {
                            "customColumnWidthSetting": "14%"
                          }
                        },
                        {
                          "columnMatch": "FailureStatus",
                          "formatter": 0,
                          "formatOptions": {
                            "customColumnWidthSetting": "10%"
                          }
                        },
                        {
                          "columnMatch": "ErrorCode",
                          "formatter": 0,
                          "formatOptions": {
                            "customColumnWidthSetting": "15%"
                          }
                        },
                        {
                          "columnMatch": "Count",
                          "formatter": 4,
                          "formatOptions": {
                            "palette": "red",
                            "customColumnWidthSetting": "14%"
                          },
                          "numberFormat": {
                            "unit": 17,
                            "options": {
                              "style": "decimal",
                              "useGrouping": false
                            }
                          }
                        },
                        {
                          "columnMatch": "clickToSeeTimechart",
                          "formatter": 18,
                          "formatOptions": {
                            "thresholdsOptions": "icons",
                            "thresholdsGrid": [
                              {
                                "operator": "Default",
                                "thresholdValue": null,
                                "representation": "Diagnostics",
                                "text": "Show timechart"
                              }
                            ],
                            "customColumnWidthSetting": "14%"
                          },
                          "tooltipFormat": {
                            "tooltip": "Click to see the ingestion failures timechart"
                          }
                        },
                        {
                          "columnMatch": "Details",
                          "formatter": 7,
                          "formatOptions": {
                            "linkTarget": "CellDetails",
                            "linkLabel": "ðŸ”Ž Show sample error details",
                            "linkIsContextBlade": true,
                            "customColumnWidthSetting": "20%"
                          },
                          "tooltipFormat": {
                            "tooltip": "Click to see sample error details"
                          }
                        },
                        {
                          "columnMatch": "cluster_name",
                          "formatter": 5
                        },
                        {
                          "columnMatch": "count",
                          "formatter": 3,
                          "formatOptions": {
                            "palette": "red",
                            "compositeBarSettings": {
                              "labelText": "",
                              "columnSettings": []
                            },
                            "customColumnWidthSetting": "16%"
                          }
                        }
                      ],
                      "labelSettings": [
                        {
                          "columnId": "Database"
                        },
                        {
                          "columnId": "Table"
                        },
                        {
                          "columnId": "FailureStatus",
                          "label": "Failure status"
                        },
                        {
                          "columnId": "ErrorCode",
                          "label": "Error code"
                        },
                        {
                          "columnId": "Count",
                          "label": "Failed ingestions"
                        },
                        {
                          "columnId": "clickToSeeTimechart",
                          "label": "Timechart"
                        },
                        {
                          "columnId": "Details",
                          "label": "Sample error",
                          "comment": "Use the logs to see other errors"
                        }
                      ]
                    }
                  },
                  "customWidth": "90",
                  "conditionalVisibility": {
                    "parameterName": "SegmentField",
                    "comparison": "isEqualTo",
                    "value": "None"
                  },
                  "name": "Failed ingestions"
                },
                {
                  "type": 3,
                  "content": {
                    "version": "KqlItem/1.0",
                    "query": "let tenant=\r\nFailedIngestion\r\n| parse _ResourceId with * \"providers/microsoft.kusto/clusters/\" cluster_name\r\n| where cluster_name =~ '{Resource:name}'\r\n| where TimeGenerated {TimeRange}\r\n| distinct TenantId\r\n| take 1; //choose one tenant as logs are transferred to many tenants which represents workSpace\r\n\r\nFailedIngestion\r\n| parse _ResourceId with * \"providers/microsoft.kusto/clusters/\" cluster_name\r\n| where cluster_name =~ '{Resource:name}'\r\n| where TimeGenerated {TimeRange}\r\n| where TenantId == toscalar(tenant)\r\n| where iif('{AllFields:$.Database}'!='null', Database == '{AllFields:$.Database}',true) //if Database is null do not filter anything  \r\n| where iif('{AllFields:$.Table}'!='null', Table == '{AllFields:$.Table}',true) //if table is null do not filter anything\r\n| where ErrorCode == '{AllFields:$.ErrorCode}'\r\n| where FailureStatus == '{AllFields:$.FailureStatus}'\r\n| summarize count=count() by bin(TimeGenerated, 1h)",
                    "size": 1,
                    "showAnalytics": true,
                    "title": "Failed ingestions timechart",
                    "timeContext": {
                      "durationMs": 0
                    },
                    "timeContextFromParameter": "TimeRange",
                    "queryType": 0,
                    "resourceType": "microsoft.kusto/clusters",
                    "crossComponentResources": [
                      "{Resource}"
                    ],
                    "visualization": "linechart",
                    "chartSettings": {
                      "xAxis": "TimeGenerated",
                      "yAxis": [
                        "count"
                      ],
                      "seriesLabelSettings": [
                        {
                          "seriesName": "count",
                          "color": "redBright"
                        }
                      ],
                      "ySettings": {
                        "numberFormatSettings": {
                          "unit": 17,
                          "options": {
                            "style": "decimal",
                            "useGrouping": true
                          }
                        }
                      }
                    }
                  },
                  "customWidth": "88",
                  "conditionalVisibilities": [
                    {
                      "parameterName": "AllFields",
                      "comparison": "isNotEqualTo"
                    },
                    {
                      "parameterName": "SegmentField",
                      "comparison": "isEqualTo",
                      "value": "None"
                    }
                  ],
                  "name": "Failed ingestions timechart"
                },
                {
                  "type": 12,
                  "content": {
                    "version": "NotebookGroup/1.0",
                    "groupType": "editable",
                    "title": "Fail logs not present",
                    "items": [
                      {
                        "type": 1,
                        "content": {
                          "json": "The logs need to be enabled and sent to a Log Analytics workspace. After enabling the diagnostic settings, it may take several hours to generate the logs. Once the log data is available, this message will not be displayed. "
                        },
                        "name": "Status of logs text"
                      },
                      {
                        "type": 3,
                        "content": {
                          "version": "KqlItem/1.0",
                          "query": "{\"version\":\"ARMEndpoint/1.0\",\"data\":null,\"headers\":[],\"method\":\"GET\",\"path\":\"{Resource}/providers/microsoft.insights/diagnosticSettings\",\"urlParams\":[{\"key\":\"api-version\",\"value\":\"2017-05-01-preview\"},{\"key\":\"resourceUri\",\"value\":\"{Resource}\"}],\"batchDisabled\":false,\"transformers\":[{\"type\":\"jsonpath\",\"settings\":{\"tablePath\":\"$.value[*][?(@.workspaceId !=null)]\",\"columns\":[{\"path\":\"$.workspaceId\",\"columnid\":\"workspace\"},{\"path\":\"$.logs[?(@.category==\\\"FailedIngestion\\\")].enabled\",\"columnid\":\"isFailedEnabled\"}]}}]}",
                          "size": 3,
                          "noDataMessage": "You have not enabled any diagnostic logs to a Log Analytics workspace.",
                          "noDataMessageStyle": 2,
                          "queryType": 12,
                          "gridSettings": {
                            "formatters": [
                              {
                                "columnMatch": "workspace",
                                "formatter": 13,
                                "formatOptions": {
                                  "linkTarget": null,
                                  "showIcon": true
                                }
                              },
                              {
                                "columnMatch": "isFailedEnabled",
                                "formatter": 18,
                                "formatOptions": {
                                  "thresholdsOptions": "icons",
                                  "thresholdsGrid": [
                                    {
                                      "operator": "==",
                                      "thresholdValue": "true",
                                      "representation": "Available",
                                      "text": "Enabled"
                                    },
                                    {
                                      "operator": "==",
                                      "thresholdValue": "false",
                                      "representation": "error",
                                      "text": "Disabled"
                                    },
                                    {
                                      "operator": "Default",
                                      "thresholdValue": null,
                                      "representation": "Blank",
                                      "text": "{0}{1}"
                                    }
                                  ]
                                }
                              }
                            ],
                            "labelSettings": [
                              {
                                "columnId": "workspace",
                                "label": "Log Analytics workspace"
                              }
                            ]
                          }
                        },
                        "name": "Logs Not Enabled Yet"
                      },
                      {
                        "type": 11,
                        "content": {
                          "version": "LinkItem/1.0",
                          "style": "paragraph",
                          "links": [
                            {
                              "cellValue": "{Resource}",
                              "linkTarget": "Resource",
                              "linkLabel": "Configure Logs for Monitoring >",
                              "subTarget": "diagnostics",
                              "style": "primary"
                            }
                          ]
                        },
                        "name": "links - 2"
                      }
                    ]
                  },
                  "conditionalVisibilities": [
                    {
                      "parameterName": "FailLogs",
                      "comparison": "isEqualTo",
                      "value": "not present"
                    },
                    {
                      "parameterName": "SegmentField",
                      "comparison": "isEqualTo",
                      "value": "None"
                    },
                    {
                      "parameterName": "FailLogs",
                      "comparison": "isEqualTo",
                      "value": "xxxx"
                    }
                  ],
                  "name": "Fail logs not present"
                },
                {
                  "type": 3,
                  "content": {
                    "version": "KqlItem/1.0",
                    "query": "//SucceededIngestion\r\n//| where TimeGenerated {TimeRange}\r\n//| parse _ResourceId with * \"providers/microsoft.kusto/clusters/\" cluster_name\r\n//| where cluster_name =~ '{Resource:name}'\r\n//| summarize count=dcount(IngestionSourcePath) by Database, Table\r\n//| order by ['count'],Database, Table\r\nlet tenant=\r\nFailedIngestion\r\n| where TimeGenerated {TimeRange}\r\n| parse _ResourceId with * \"providers/microsoft.kusto/clusters/\" cluster_name\r\n| where cluster_name =~ '{Resource:name}'\r\n| distinct TenantId\r\n| take 1; //choose one tenant as logs are transferred to many tenants which represents workSpace\r\n\r\nlet failures = FailedIngestion\r\n| where TimeGenerated {TimeRange}\r\n| parse _ResourceId with * \"providers/microsoft.kusto/clusters/\" cluster_name\r\n| where cluster_name =~ '{Resource:name}'\r\n| where TenantId == toscalar(tenant)\r\n| summarize f_count=count() by Database, Table;\r\n\r\nlet tenant_success=\r\nSucceededIngestion\r\n| where TimeGenerated {TimeRange}\r\n| parse _ResourceId with * \"providers/microsoft.kusto/clusters/\" cluster_name\r\n| where cluster_name =~ '{Resource:name}'\r\n| distinct TenantId\r\n| take 1; //choose one tenant as logs are transferred to many tenants which represents workSpace\r\n\r\nlet success = SucceededIngestion\r\n| where TimeGenerated {TimeRange}\r\n| parse _ResourceId with * \"providers/microsoft.kusto/clusters/\" cluster_name\r\n| where cluster_name =~ '{Resource:name}'\r\n| where TenantId == toscalar(tenant_success)\r\n| summarize s_count=count() by Database, Table;\r\n\r\nsuccess | join kind=leftouter failures on Database, Table\r\n| extend f_count = iif(isnull(f_count), 0,f_count)\r\n| extend s_count = iif(isnull(s_count), 0,s_count)\r\n| extend overall = iif(isnull(s_count), 0.0,s_count*100.0/(s_count+f_count))\r\n| extend clickToSeeTimechart = \"Click to see the timechart\"\r\n| project Database, Table, s_count, overall, clickToSeeTimechart\r\n| order by s_count,Database, Table",
                    "size": 3,
                    "showAnalytics": true,
                    "title": "Succeeded ingestions by table",
                    "timeContext": {
                      "durationMs": 8035200000
                    },
                    "timeContextFromParameter": "TimeRange",
                    "exportParameterName": "AllFields2",
                    "queryType": 0,
                    "resourceType": "microsoft.kusto/clusters",
                    "crossComponentResources": [
                      "{Resource}"
                    ],
                    "visualization": "table",
                    "gridSettings": {
                      "formatters": [
                        {
                          "columnMatch": "Database",
                          "formatter": 0,
                          "formatOptions": {
                            "customColumnWidthSetting": "20%"
                          }
                        },
                        {
                          "columnMatch": "Table",
                          "formatter": 0,
                          "formatOptions": {
                            "customColumnWidthSetting": "20%"
                          }
                        },
                        {
                          "columnMatch": "count",
                          "formatter": 4,
                          "formatOptions": {
                            "palette": "green",
                            "compositeBarSettings": {
                              "labelText": "",
                              "columnSettings": []
                            },
                            "customColumnWidthSetting": "20%"
                          },
                          "numberFormat": {
                            "unit": 17,
                            "options": {
                              "style": "decimal"
                            }
                          }
                        },
                        {
                          "columnMatch": "overall",
                          "formatter": 1,
                          "formatOptions": {
                            "customColumnWidthSetting": "20%"
                          },
                          "numberFormat": {
                            "unit": 1,
                            "options": {
                              "style": "decimal",
                              "useGrouping": false
                            }
                          }
                        },
                        {
                          "columnMatch": "clickToSeeTimechart",
                          "formatter": 18,
                          "formatOptions": {
                            "thresholdsOptions": "icons",
                            "thresholdsGrid": [
                              {
                                "operator": "Default",
                                "thresholdValue": null,
                                "representation": "Diagnostics",
                                "text": "Show timechart"
                              }
                            ],
                            "bladeOpenContext": {
                              "bladeParameters": []
                            },
                            "customColumnWidthSetting": "20%"
                          },
                          "tooltipFormat": {
                            "tooltip": "Click to see suceeded ingestion timechart"
                          }
                        },
                        {
                          "columnMatch": "cluster_name",
                          "formatter": 5
                        }
                      ],
                      "labelSettings": [
                        {
                          "columnId": "Database"
                        },
                        {
                          "columnId": "Table"
                        },
                        {
                          "columnId": "s_count",
                          "label": "Success ingestions"
                        },
                        {
                          "columnId": "overall",
                          "label": "Success rate (per table)"
                        },
                        {
                          "columnId": "clickToSeeTimechart",
                          "label": "Timechart",
                          "comment": "Click to see timechart"
                        }
                      ]
                    }
                  },
                  "customWidth": "70",
                  "conditionalVisibility": {
                    "parameterName": "SegmentField",
                    "comparison": "isEqualTo",
                    "value": "ingestionresultdetails"
                  },
                  "showPin": false,
                  "name": "Succeeded ingestions timechart"
                },
                {
                  "type": 3,
                  "content": {
                    "version": "KqlItem/1.0",
                    "query": "let tenant_success=\r\nSucceededIngestion\r\n| where TimeGenerated {TimeRange}\r\n| parse _ResourceId with * \"providers/microsoft.kusto/clusters/\" cluster_name\r\n| where cluster_name =~ '{Resource:name}'\r\n| distinct TenantId\r\n| take 1; //choose one tenant as logs are transferred to many tenants which represents workSpace\r\n\r\n\r\nSucceededIngestion \r\n| parse _ResourceId with * \"providers/microsoft.kusto/clusters/\" cluster_name\r\n| where cluster_name =~ '{Resource:name}'\r\n| where TimeGenerated {TimeRange}\r\n| where iif('{AllFields2:$.Database}'!='null', Database == '{AllFields2:$.Database}',true) //if Database is null do not filter anything  \r\n| where iif('{AllFields2:$.Table}'!='null', Table == '{AllFields2:$.Table}',true) //if table is null do not filter anything\r\n| where TenantId == toscalar(tenant_success)\r\n| summarize count = count() by bin(TimeGenerated, 1h) ",
                    "size": 1,
                    "showAnalytics": true,
                    "title": "Succeeded ingestions timechart",
                    "color": "green",
                    "timeContext": {
                      "durationMs": 0
                    },
                    "timeContextFromParameter": "TimeRange",
                    "queryType": 0,
                    "resourceType": "microsoft.kusto/clusters",
                    "crossComponentResources": [
                      "{Resource}"
                    ],
                    "visualization": "linechart",
                    "chartSettings": {
                      "xAxis": "TimeGenerated",
                      "yAxis": [
                        "count"
                      ],
                      "xSettings": {
                        "numberFormatSettings": {
                          "unit": 0,
                          "options": {
                            "style": "decimal",
                            "useGrouping": true
                          }
                        }
                      },
                      "ySettings": {
                        "numberFormatSettings": {
                          "unit": 17,
                          "options": {
                            "style": "decimal",
                            "useGrouping": true
                          }
                        }
                      }
                    }
                  },
                  "customWidth": "68",
                  "conditionalVisibilities": [
                    {
                      "parameterName": "AllFields2",
                      "comparison": "isNotEqualTo"
                    },
                    {
                      "parameterName": "SegmentField",
                      "comparison": "isEqualTo",
                      "value": "ingestionresultdetails"
                    }
                  ],
                  "name": "Succeeded Ingestions timechart"
                },
                {
                  "type": 12,
                  "content": {
                    "version": "NotebookGroup/1.0",
                    "groupType": "editable",
                    "title": "Success logs not present",
                    "items": [
                      {
                        "type": 1,
                        "content": {
                          "json": "The logs need to be enabled and sent to a Log Analytics workspace. After enabling the diagnostic settings, it may take several hours to generate the logs. Once the log data is available, this message will not be displayed. "
                        },
                        "name": "Status of logs text"
                      },
                      {
                        "type": 3,
                        "content": {
                          "version": "KqlItem/1.0",
                          "query": "{\"version\":\"ARMEndpoint/1.0\",\"data\":null,\"headers\":[],\"method\":\"GET\",\"path\":\"{Resource}/providers/microsoft.insights/diagnosticSettings\",\"urlParams\":[{\"key\":\"api-version\",\"value\":\"2017-05-01-preview\"},{\"key\":\"resourceUri\",\"value\":\"{Resource}\"}],\"batchDisabled\":false,\"transformers\":[{\"type\":\"jsonpath\",\"settings\":{\"tablePath\":\"$.value[*][?(@.workspaceId !=null)]\",\"columns\":[{\"path\":\"$.workspaceId\",\"columnid\":\"workspace\"},{\"path\":\"$.logs[?(@.category==\\\"SucceededIngestion\\\")].enabled\",\"columnid\":\"isSuccessEnabled\"}]}}]}",
                          "size": 3,
                          "noDataMessage": "You have not enabled any diagnostic logs to a Log Analytics workspace.",
                          "noDataMessageStyle": 2,
                          "queryType": 12,
                          "gridSettings": {
                            "formatters": [
                              {
                                "columnMatch": "workspace",
                                "formatter": 13,
                                "formatOptions": {
                                  "linkTarget": null,
                                  "showIcon": true
                                }
                              },
                              {
                                "columnMatch": "isSuccessEnabled",
                                "formatter": 18,
                                "formatOptions": {
                                  "thresholdsOptions": "icons",
                                  "thresholdsGrid": [
                                    {
                                      "operator": "==",
                                      "thresholdValue": "true",
                                      "representation": "Available",
                                      "text": "Enabled"
                                    },
                                    {
                                      "operator": "==",
                                      "thresholdValue": "false",
                                      "representation": "error",
                                      "text": "Disabled"
                                    },
                                    {
                                      "operator": "Default",
                                      "thresholdValue": null,
                                      "representation": "Blank",
                                      "text": "{0}{1}"
                                    }
                                  ]
                                }
                              }
                            ],
                            "labelSettings": [
                              {
                                "columnId": "workspace",
                                "label": "Log Analytics workspace"
                              },
                              {
                                "columnId": "isSuccessEnabled",
                                "label": "Succeeded Ingestion logs"
                              }
                            ]
                          }
                        },
                        "name": "Logs Not Enabled Yet"
                      },
                      {
                        "type": 11,
                        "content": {
                          "version": "LinkItem/1.0",
                          "style": "paragraph",
                          "links": [
                            {
                              "cellValue": "{Resource}",
                              "linkTarget": "Resource",
                              "linkLabel": "Configure Logs for Monitoring >",
                              "subTarget": "diagnostics",
                              "style": "primary"
                            }
                          ]
                        },
                        "name": "links - 2"
                      }
                    ]
                  },
                  "conditionalVisibilities": [
                    {
                      "parameterName": "SuccessLogs",
                      "comparison": "isEqualTo",
                      "value": "not present"
                    },
                    {
                      "parameterName": "SegmentField",
                      "comparison": "isEqualTo",
                      "value": "ingestionresultdetails"
                    },
                    {
                      "parameterName": "SuccessLogs",
                      "comparison": "isEqualTo",
                      "value": "xxxx"
                    }
                  ],
                  "name": "Success logs not present"
                }
              ]
            },
            "name": "Overview",
            "styleSettings": {
              "margin": "0px 0px 0px 0px",
              "showBorder": true
            }
          },
          {
            "type": 12,
            "content": {
              "version": "NotebookGroup/1.0",
              "groupType": "editable",
              "items": [
                {
                  "type": 1,
                  "content": {
                    "json": "<span style=\"font-family: Open Sans; font-weight: 620; font-size: 14px;font-style: bold;\"> Total latency\r\n</span> <br>Time from when a message is accepted by Azure Data Explorer until its content is received by the Engine Storage and available for query (accumulative latency)."
                  },
                  "customWidth": "50",
                  "name": "text - 13 - Copy - Copy - Copy - Copy - Copy - Copy - Copy"
                },
                {
                  "type": 1,
                  "content": {
                    "json": "<span style=\"font-family: Open Sans; font-weight: 620; font-size: 14px;font-style: bold;\"> Data processed successfully\r\n</span> <br>Number of blobs processed by the Storage Engine. This data is ready for query."
                  },
                  "customWidth": "50",
                  "name": "Data Processed Successfuly"
                },
                {
                  "type": 1,
                  "content": {
                    "json": ""
                  },
                  "customWidth": "100",
                  "name": "placeholderData",
                  "styleSettings": {
                    "margin": "-40px 0px 0px 0px"
                  }
                },
                {
                  "type": 10,
                  "content": {
                    "chartId": "workbook384521a1-6cb5-4dda-bde9-b32a3faeebd9",
                    "version": "MetricsItem/2.0",
                    "size": 1,
                    "chartType": 2,
                    "color": "blue",
                    "resourceType": "microsoft.kusto/clusters",
                    "metricScope": 0,
                    "resourceParameter": "Resource",
                    "resourceIds": [
                      "{Resource}"
                    ],
                    "timeContextFromParameter": "TimeRange",
                    "timeContext": {
                      "durationMs": 8035200000
                    },
                    "metrics": [
                      {
                        "namespace": "microsoft.kusto/clusters",
                        "metric": "microsoft.kusto/clusters-Ingestion health and performance-StageLatency",
                        "aggregation": 4,
                        "splitBy": null,
                        "columnName": "Stage Latency"
                      }
                    ],
                    "showOpenInMe": true,
                    "filters": [
                      {
                        "id": "5",
                        "key": "ComponentType",
                        "operator": 0,
                        "values": [
                          "StorageEngine"
                        ]
                      },
                      {
                        "id": "2",
                        "key": "ComponentType",
                        "operator": 0,
                        "values": [
                          "StorageEngine"
                        ]
                      }
                    ],
                    "timeBrushParameterName": "TimeRange",
                    "gridSettings": {
                      "rowLimit": 10000
                    }
                  },
                  "customWidth": "50",
                  "name": "Data processed successfuly",
                  "styleSettings": {
                    "margin": "-40px 0px 0px 0px"
                  }
                },
                {
                  "type": 10,
                  "content": {
                    "chartId": "workbook384521a1-6cb5-4dda-bde9-b32a3faeebd9",
                    "version": "MetricsItem/2.0",
                    "size": 1,
                    "chartType": 2,
                    "resourceType": "microsoft.kusto/clusters",
                    "metricScope": 0,
                    "resourceParameter": "Resource",
                    "resourceIds": [
                      "{Resource}"
                    ],
                    "timeContextFromParameter": "TimeRange",
                    "timeContext": {
                      "durationMs": 8035200000
                    },
                    "metrics": [
                      {
                        "namespace": "microsoft.kusto/clusters",
                        "metric": "microsoft.kusto/clusters-Ingestion health and performance-BlobsProcessed",
                        "aggregation": 1,
                        "splitBy": null,
                        "columnName": "Blobs Processed"
                      }
                    ],
                    "showOpenInMe": true,
                    "filters": [
                      {
                        "id": "5",
                        "key": "ComponentType",
                        "operator": 0,
                        "values": [
                          "StorageEngine"
                        ]
                      }
                    ],
                    "timeBrushParameterName": "TimeRange",
                    "gridSettings": {
                      "rowLimit": 10000
                    }
                  },
                  "customWidth": "50",
                  "name": "Data processed successfuly",
                  "styleSettings": {
                    "margin": "-40px 0px 0px 0px"
                  }
                }
              ]
            },
            "customWidth": "100",
            "name": "Amount of data processed"
          },
          {
            "type": 1,
            "content": {
              "json": " \r\n ---\r\n "
            },
            "customWidth": "100",
            "name": "line"
          },
          {
            "type": 12,
            "content": {
              "version": "NotebookGroup/1.0",
              "groupType": "editable",
              "items": [
                {
                  "type": 1,
                  "content": {
                    "json": "<span style=\"font-family: Open Sans; font-weight: 620; font-size: 14px;font-style: bold;\"> Monitor the batching ingestion stages\r\n</span>"
                  },
                  "customWidth": "0",
                  "name": "header - Copy",
                  "styleSettings": {
                    "margin": "6px 20px 0px 0px"
                  }
                },
                {
                  "type": 9,
                  "content": {
                    "version": "KqlParameterItem/1.0",
                    "parameters": [
                      {
                        "id": "dd1c6ffb-b64e-4e54-b9bb-ed4c88b853ba",
                        "version": "KqlParameterItem/1.0",
                        "name": "ShowHelp",
                        "label": "Show help?",
                        "type": 10,
                        "isRequired": true,
                        "typeSettings": {
                          "additionalResourceOptions": [],
                          "showDefault": false
                        },
                        "jsonData": " [{ \"value\": \"Yes\", \"label\": \"Yes\"  }, { \"value\": \"No\", \"label\": \"No\", \"selected\":true}]",
                        "timeContext": {
                          "durationMs": 86400000
                        }
                      }
                    ],
                    "style": "formHorizontal",
                    "queryType": 0,
                    "resourceType": "microsoft.kusto/clusters"
                  },
                  "customWidth": "50",
                  "name": "parameters - 11"
                },
                {
                  "type": 1,
                  "content": {
                    "json": "<div style=\"background-color:rgba(0, 0, 255, 0.04470588); padding:6px 6px 1px 6px\">\r\n<ul>\r\n<li>In the batching ingestion process, Azure Data Explorer optimizes data ingestion for high throughput by batching incoming small chunks of data into batches based on a configurable ingestion batching policy.\r\n</li>\r\n<li>Batching ingestion occurs in stages, and each stage is governed by an ingestion component. \r\n<a href=\"https://docs.microsoft.com//azure/data-explorer/monitor-batching-ingestion\">Lean more</a>\r\n</li> \r\n</ul>\r\n</div>"
                  },
                  "conditionalVisibility": {
                    "parameterName": "ShowHelp",
                    "comparison": "isEqualTo",
                    "value": "Yes"
                  },
                  "name": "HelpForIngestionSteps"
                },
                {
                  "type": 11,
                  "content": {
                    "version": "LinkItem/1.0",
                    "style": "tabs",
                    "links": [
                      {
                        "id": "91fc33ec-f289-4d68-b045-f918eb15075b",
                        "cellValue": "step",
                        "linkTarget": "parameter",
                        "linkLabel": "Data Connection   ",
                        "subTarget": "dataConnection",
                        "postText": "",
                        "style": "primary"
                      },
                      {
                        "id": "afbea367-4bc1-4e42-b5a2-a42bacff0ca0",
                        "cellValue": "step",
                        "linkTarget": "parameter",
                        "linkLabel": "Batching Manager    ",
                        "subTarget": "BatchingProcess",
                        "postText": "",
                        "style": "primary"
                      },
                      {
                        "id": "b8175213-f569-4d72-bcef-917974a74da4",
                        "cellValue": "step",
                        "linkTarget": "parameter",
                        "linkLabel": "Ingestion Manager ",
                        "subTarget": "IngestionManager",
                        "postText": "",
                        "style": "primary"
                      },
                      {
                        "id": "c3364d51-92c1-4eea-873e-eec8d2cabec4",
                        "cellValue": "step",
                        "linkTarget": "parameter",
                        "linkLabel": "Engine Storage",
                        "subTarget": "EngineStorage",
                        "postText": "",
                        "style": "primary"
                      }
                    ]
                  },
                  "name": "links - 12"
                },
                {
                  "type": 1,
                  "content": {
                    "json": "<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"488\" height=\"46\" viewBox=\"0 0 488 46\" fill=\"none\">\r\n<line x1=\"48\" y1=\"22\" x2=\"474\" y2=\"22\" stroke=\"#8A8886\" stroke-width=\"2\"/>\r\n<g filter=\"url(#filter0_dd)\">\r\n<rect x=\"32\" y=\"5\" width=\"32\" height=\"32\" rx=\"16\" fill=\"#106EBE\"/>\r\n<path d=\"M49.9233 15.3636H47.9176L45.0256 17.2216V19.1534L47.7472 17.4148H47.8153V27H49.9233V15.3636Z\" fill=\"white\"/>\r\n<rect x=\"30.5\" y=\"3.5\" width=\"35\" height=\"35\" rx=\"17.5\" stroke=\"#C7E0F4\" stroke-width=\"3\"/>\r\n</g>\r\n<g filter=\"url(#filter1_dd)\">\r\n<rect x=\"168\" y=\"5\" width=\"32\" height=\"32\" rx=\"16\" fill=\"#8A8886\"/>\r\n<path d=\"M180.065 27H188.043V25.2386H182.974V25.1591L184.98 23.1193C187.241 20.9489 187.866 19.892 187.866 18.5795C187.866 16.6307 186.281 15.2045 183.94 15.2045C181.634 15.2045 179.997 16.6364 179.997 18.8466H182.003C182.003 17.6591 182.753 16.9148 183.912 16.9148C185.02 16.9148 185.844 17.5909 185.844 18.6875C185.844 19.6591 185.253 20.3523 184.105 21.517L180.065 25.4773V27Z\" fill=\"white\"/>\r\n</g>\r\n<g filter=\"url(#filter2_dd)\">\r\n<rect x=\"311\" y=\"5\" width=\"32\" height=\"32\" rx=\"16\" fill=\"#8A8886\"/>\r\n<path d=\"M326.999 27.1591C329.488 27.1591 331.3 25.733 331.295 23.767C331.3 22.3125 330.391 21.267 328.761 21.0341V20.9432C330.022 20.6705 330.869 19.733 330.863 18.4261C330.869 16.6534 329.357 15.2045 327.033 15.2045C324.772 15.2045 323.022 16.5511 322.977 18.5H325.005C325.039 17.5227 325.948 16.9148 327.022 16.9148C328.107 16.9148 328.829 17.5739 328.823 18.5511C328.829 19.5682 327.988 20.2443 326.783 20.2443H325.755V21.8693H326.783C328.255 21.8693 329.13 22.608 329.124 23.6591C329.13 24.6875 328.238 25.392 326.994 25.392C325.823 25.392 324.92 24.7841 324.869 23.8352H322.732C322.789 25.8011 324.545 27.1591 326.999 27.1591Z\" fill=\"white\"/>\r\n</g>\r\n<g filter=\"url(#filter3_dd)\">\r\n<rect x=\"448\" y=\"5\" width=\"32\" height=\"32\" rx=\"16\" fill=\"#8A8886\"/>\r\n<path d=\"M459.496 24.8409H465.047V27H467.058V24.8409H468.547V23.108H467.058V15.3636H464.433L459.496 23.1648V24.8409ZM465.07 23.108H461.655V23.017L464.979 17.75H465.07V23.108Z\" fill=\"white\"/>\r\n</g>\r\n<defs>\r\n<filter id=\"filter0_dd\" x=\"25.4\" y=\"1.19209e-07\" width=\"45.2\" height=\"45.2\" filterUnits=\"userSpaceOnUse\" color-interpolation-filters=\"sRGB\">\r\n<feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\"/>\r\n<feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\" result=\"hardAlpha\"/>\r\n<feOffset dy=\"1.6\"/>\r\n<feGaussianBlur stdDeviation=\"1.8\"/>\r\n<feColorMatrix type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.13 0\"/>\r\n<feBlend mode=\"normal\" in2=\"BackgroundImageFix\" result=\"effect1_dropShadow\"/>\r\n<feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\" result=\"hardAlpha\"/>\r\n<feOffset dy=\"0.3\"/>\r\n<feGaussianBlur stdDeviation=\"0.45\"/>\r\n<feColorMatrix type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0\"/>\r\n<feBlend mode=\"normal\" in2=\"effect1_dropShadow\" result=\"effect2_dropShadow\"/>\r\n<feBlend mode=\"normal\" in=\"SourceGraphic\" in2=\"effect2_dropShadow\" result=\"shape\"/>\r\n</filter>\r\n<filter id=\"filter1_dd\" x=\"164.4\" y=\"3\" width=\"39.2\" height=\"39.2\" filterUnits=\"userSpaceOnUse\" color-interpolation-filters=\"sRGB\">\r\n<feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\"/>\r\n<feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\" result=\"hardAlpha\"/>\r\n<feOffset dy=\"1.6\"/>\r\n<feGaussianBlur stdDeviation=\"1.8\"/>\r\n<feColorMatrix type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.13 0\"/>\r\n<feBlend mode=\"normal\" in2=\"BackgroundImageFix\" result=\"effect1_dropShadow\"/>\r\n<feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\" result=\"hardAlpha\"/>\r\n<feOffset dy=\"0.3\"/>\r\n<feGaussianBlur stdDeviation=\"0.45\"/>\r\n<feColorMatrix type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0\"/>\r\n<feBlend mode=\"normal\" in2=\"effect1_dropShadow\" result=\"effect2_dropShadow\"/>\r\n<feBlend mode=\"normal\" in=\"SourceGraphic\" in2=\"effect2_dropShadow\" result=\"shape\"/>\r\n</filter>\r\n<filter id=\"filter2_dd\" x=\"307.4\" y=\"3\" width=\"39.2\" height=\"39.2\" filterUnits=\"userSpaceOnUse\" color-interpolation-filters=\"sRGB\">\r\n<feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\"/>\r\n<feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\" result=\"hardAlpha\"/>\r\n<feOffset dy=\"1.6\"/>\r\n<feGaussianBlur stdDeviation=\"1.8\"/>\r\n<feColorMatrix type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.13 0\"/>\r\n<feBlend mode=\"normal\" in2=\"BackgroundImageFix\" result=\"effect1_dropShadow\"/>\r\n<feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\" result=\"hardAlpha\"/>\r\n<feOffset dy=\"0.3\"/>\r\n<feGaussianBlur stdDeviation=\"0.45\"/>\r\n<feColorMatrix type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0\"/>\r\n<feBlend mode=\"normal\" in2=\"effect1_dropShadow\" result=\"effect2_dropShadow\"/>\r\n<feBlend mode=\"normal\" in=\"SourceGraphic\" in2=\"effect2_dropShadow\" result=\"shape\"/>\r\n</filter>\r\n<filter id=\"filter3_dd\" x=\"444.4\" y=\"3\" width=\"39.2\" height=\"39.2\" filterUnits=\"userSpaceOnUse\" color-interpolation-filters=\"sRGB\">\r\n<feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\"/>\r\n<feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\" result=\"hardAlpha\"/>\r\n<feOffset dy=\"1.6\"/>\r\n<feGaussianBlur stdDeviation=\"1.8\"/>\r\n<feColorMatrix type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.13 0\"/>\r\n<feBlend mode=\"normal\" in2=\"BackgroundImageFix\" result=\"effect1_dropShadow\"/>\r\n<feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\" result=\"hardAlpha\"/>\r\n<feOffset dy=\"0.3\"/>\r\n<feGaussianBlur stdDeviation=\"0.45\"/>\r\n<feColorMatrix type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0\"/>\r\n<feBlend mode=\"normal\" in2=\"effect1_dropShadow\" result=\"effect2_dropShadow\"/>\r\n<feBlend mode=\"normal\" in=\"SourceGraphic\" in2=\"effect2_dropShadow\" result=\"shape\"/>\r\n</filter>\r\n</defs>\r\n</svg>"
                  },
                  "conditionalVisibility": {
                    "parameterName": "step",
                    "comparison": "isEqualTo",
                    "value": "dataConnection"
                  },
                  "name": "IngesationProcessImages"
                },
                {
                  "type": 1,
                  "content": {
                    "json": "<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"488\" height=\"46\" viewBox=\"0 0 488 46\" fill=\"none\">\r\n<line x1=\"48\" y1=\"22\" x2=\"474\" y2=\"22\" stroke=\"#8A8886\" stroke-width=\"2\"/>\r\n<g filter=\"url(#filter0_dd)\">\r\n<rect x=\"32\" y=\"5\" width=\"32\" height=\"32\" rx=\"16\" fill=\"#8A8886\"/>\r\n<path d=\"M49.9233 15.3636H47.9176L45.0256 17.2216V19.1534L47.7472 17.4148H47.8153V27H49.9233V15.3636Z\" fill=\"white\"/>\r\n</g>\r\n<g filter=\"url(#filter1_dd)\">\r\n<rect x=\"168\" y=\"5\" width=\"32\" height=\"32\" rx=\"16\" fill=\"#106EBE\"/>\r\n<path d=\"M180.065 27H188.043V25.2386H182.974V25.1591L184.98 23.1193C187.241 20.9489 187.866 19.892 187.866 18.5795C187.866 16.6307 186.281 15.2045 183.94 15.2045C181.634 15.2045 179.997 16.6364 179.997 18.8466H182.003C182.003 17.6591 182.753 16.9148 183.912 16.9148C185.02 16.9148 185.844 17.5909 185.844 18.6875C185.844 19.6591 185.253 20.3523 184.105 21.517L180.065 25.4773V27Z\" fill=\"white\"/>\r\n<rect x=\"166.5\" y=\"3.5\" width=\"35\" height=\"35\" rx=\"17.5\" stroke=\"#C7E0F4\" stroke-width=\"3\"/>\r\n</g>\r\n<g filter=\"url(#filter2_dd)\">\r\n<rect x=\"311\" y=\"5\" width=\"32\" height=\"32\" rx=\"16\" fill=\"#8A8886\"/>\r\n<path d=\"M326.999 27.1591C329.488 27.1591 331.3 25.733 331.295 23.767C331.3 22.3125 330.391 21.267 328.761 21.0341V20.9432C330.022 20.6705 330.869 19.733 330.863 18.4261C330.869 16.6534 329.357 15.2045 327.033 15.2045C324.772 15.2045 323.022 16.5511 322.977 18.5H325.005C325.039 17.5227 325.948 16.9148 327.022 16.9148C328.107 16.9148 328.829 17.5739 328.823 18.5511C328.829 19.5682 327.988 20.2443 326.783 20.2443H325.755V21.8693H326.783C328.255 21.8693 329.13 22.608 329.124 23.6591C329.13 24.6875 328.238 25.392 326.994 25.392C325.823 25.392 324.92 24.7841 324.869 23.8352H322.732C322.789 25.8011 324.545 27.1591 326.999 27.1591Z\" fill=\"white\"/>\r\n</g>\r\n<g filter=\"url(#filter3_dd)\">\r\n<rect x=\"448\" y=\"5\" width=\"32\" height=\"32\" rx=\"16\" fill=\"#8A8886\"/>\r\n<path d=\"M459.496 24.8409H465.047V27H467.058V24.8409H468.547V23.108H467.058V15.3636H464.433L459.496 23.1648V24.8409ZM465.07 23.108H461.655V23.017L464.979 17.75H465.07V23.108Z\" fill=\"white\"/>\r\n</g>\r\n<defs>\r\n<filter id=\"filter0_dd\" x=\"28.4\" y=\"3\" width=\"39.2\" height=\"39.2\" filterUnits=\"userSpaceOnUse\" color-interpolation-filters=\"sRGB\">\r\n<feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\"/>\r\n<feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\" result=\"hardAlpha\"/>\r\n<feOffset dy=\"1.6\"/>\r\n<feGaussianBlur stdDeviation=\"1.8\"/>\r\n<feColorMatrix type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.13 0\"/>\r\n<feBlend mode=\"normal\" in2=\"BackgroundImageFix\" result=\"effect1_dropShadow\"/>\r\n<feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\" result=\"hardAlpha\"/>\r\n<feOffset dy=\"0.3\"/>\r\n<feGaussianBlur stdDeviation=\"0.45\"/>\r\n<feColorMatrix type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0\"/>\r\n<feBlend mode=\"normal\" in2=\"effect1_dropShadow\" result=\"effect2_dropShadow\"/>\r\n<feBlend mode=\"normal\" in=\"SourceGraphic\" in2=\"effect2_dropShadow\" result=\"shape\"/>\r\n</filter>\r\n<filter id=\"filter1_dd\" x=\"161.4\" y=\"1.19209e-07\" width=\"45.2\" height=\"45.2\" filterUnits=\"userSpaceOnUse\" color-interpolation-filters=\"sRGB\">\r\n<feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\"/>\r\n<feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\" result=\"hardAlpha\"/>\r\n<feOffset dy=\"1.6\"/>\r\n<feGaussianBlur stdDeviation=\"1.8\"/>\r\n<feColorMatrix type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.13 0\"/>\r\n<feBlend mode=\"normal\" in2=\"BackgroundImageFix\" result=\"effect1_dropShadow\"/>\r\n<feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\" result=\"hardAlpha\"/>\r\n<feOffset dy=\"0.3\"/>\r\n<feGaussianBlur stdDeviation=\"0.45\"/>\r\n<feColorMatrix type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0\"/>\r\n<feBlend mode=\"normal\" in2=\"effect1_dropShadow\" result=\"effect2_dropShadow\"/>\r\n<feBlend mode=\"normal\" in=\"SourceGraphic\" in2=\"effect2_dropShadow\" result=\"shape\"/>\r\n</filter>\r\n<filter id=\"filter2_dd\" x=\"307.4\" y=\"3\" width=\"39.2\" height=\"39.2\" filterUnits=\"userSpaceOnUse\" color-interpolation-filters=\"sRGB\">\r\n<feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\"/>\r\n<feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\" result=\"hardAlpha\"/>\r\n<feOffset dy=\"1.6\"/>\r\n<feGaussianBlur stdDeviation=\"1.8\"/>\r\n<feColorMatrix type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.13 0\"/>\r\n<feBlend mode=\"normal\" in2=\"BackgroundImageFix\" result=\"effect1_dropShadow\"/>\r\n<feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\" result=\"hardAlpha\"/>\r\n<feOffset dy=\"0.3\"/>\r\n<feGaussianBlur stdDeviation=\"0.45\"/>\r\n<feColorMatrix type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0\"/>\r\n<feBlend mode=\"normal\" in2=\"effect1_dropShadow\" result=\"effect2_dropShadow\"/>\r\n<feBlend mode=\"normal\" in=\"SourceGraphic\" in2=\"effect2_dropShadow\" result=\"shape\"/>\r\n</filter>\r\n<filter id=\"filter3_dd\" x=\"444.4\" y=\"3\" width=\"39.2\" height=\"39.2\" filterUnits=\"userSpaceOnUse\" color-interpolation-filters=\"sRGB\">\r\n<feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\"/>\r\n<feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\" result=\"hardAlpha\"/>\r\n<feOffset dy=\"1.6\"/>\r\n<feGaussianBlur stdDeviation=\"1.8\"/>\r\n<feColorMatrix type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.13 0\"/>\r\n<feBlend mode=\"normal\" in2=\"BackgroundImageFix\" result=\"effect1_dropShadow\"/>\r\n<feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\" result=\"hardAlpha\"/>\r\n<feOffset dy=\"0.3\"/>\r\n<feGaussianBlur stdDeviation=\"0.45\"/>\r\n<feColorMatrix type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0\"/>\r\n<feBlend mode=\"normal\" in2=\"effect1_dropShadow\" result=\"effect2_dropShadow\"/>\r\n<feBlend mode=\"normal\" in=\"SourceGraphic\" in2=\"effect2_dropShadow\" result=\"shape\"/>\r\n</filter>\r\n</defs>\r\n</svg>"
                  },
                  "conditionalVisibility": {
                    "parameterName": "step",
                    "comparison": "isEqualTo",
                    "value": "BatchingProcess"
                  },
                  "name": "IngesationProcessImages - step2"
                },
                {
                  "type": 1,
                  "content": {
                    "json": "<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"488\" height=\"46\" viewBox=\"0 0 488 46\" fill=\"none\">\r\n<line x1=\"48\" y1=\"22\" x2=\"474\" y2=\"22\" stroke=\"#8A8886\" stroke-width=\"2\"/>\r\n<g filter=\"url(#filter0_dd)\">\r\n<rect x=\"32\" y=\"5\" width=\"32\" height=\"32\" rx=\"16\" fill=\"#8A8886\"/>\r\n<path d=\"M49.9233 15.3636H47.9176L45.0256 17.2216V19.1534L47.7472 17.4148H47.8153V27H49.9233V15.3636Z\" fill=\"white\"/>\r\n</g>\r\n<g filter=\"url(#filter1_dd)\">\r\n<rect x=\"168\" y=\"5\" width=\"32\" height=\"32\" rx=\"16\" fill=\"#8A8886\"/>\r\n<path d=\"M180.065 27H188.043V25.2386H182.974V25.1591L184.98 23.1193C187.241 20.9489 187.866 19.892 187.866 18.5795C187.866 16.6307 186.281 15.2045 183.94 15.2045C181.634 15.2045 179.997 16.6364 179.997 18.8466H182.003C182.003 17.6591 182.753 16.9148 183.912 16.9148C185.02 16.9148 185.844 17.5909 185.844 18.6875C185.844 19.6591 185.253 20.3523 184.105 21.517L180.065 25.4773V27Z\" fill=\"white\"/>\r\n</g>\r\n<g filter=\"url(#filter2_dd)\">\r\n<rect x=\"311\" y=\"5\" width=\"32\" height=\"32\" rx=\"16\" fill=\"#106EBE\"/>\r\n<path d=\"M326.999 27.1591C329.488 27.1591 331.3 25.733 331.295 23.767C331.3 22.3125 330.391 21.267 328.761 21.0341V20.9432C330.022 20.6705 330.869 19.733 330.863 18.4261C330.869 16.6534 329.357 15.2045 327.033 15.2045C324.772 15.2045 323.022 16.5511 322.977 18.5H325.005C325.039 17.5227 325.948 16.9148 327.022 16.9148C328.107 16.9148 328.829 17.5739 328.823 18.5511C328.829 19.5682 327.988 20.2443 326.783 20.2443H325.755V21.8693H326.783C328.255 21.8693 329.13 22.608 329.124 23.6591C329.13 24.6875 328.238 25.392 326.994 25.392C325.823 25.392 324.92 24.7841 324.869 23.8352H322.732C322.789 25.8011 324.545 27.1591 326.999 27.1591Z\" fill=\"white\"/>\r\n<rect x=\"309.5\" y=\"3.5\" width=\"35\" height=\"35\" rx=\"17.5\" stroke=\"#C7E0F4\" stroke-width=\"3\"/>\r\n</g>\r\n<g filter=\"url(#filter3_dd)\">\r\n<rect x=\"448\" y=\"5\" width=\"32\" height=\"32\" rx=\"16\" fill=\"#8A8886\"/>\r\n<path d=\"M459.496 24.8409H465.047V27H467.058V24.8409H468.547V23.108H467.058V15.3636H464.433L459.496 23.1648V24.8409ZM465.07 23.108H461.655V23.017L464.979 17.75H465.07V23.108Z\" fill=\"white\"/>\r\n</g>\r\n<defs>\r\n<filter id=\"filter0_dd\" x=\"28.4\" y=\"3\" width=\"39.2\" height=\"39.2\" filterUnits=\"userSpaceOnUse\" color-interpolation-filters=\"sRGB\">\r\n<feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\"/>\r\n<feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\" result=\"hardAlpha\"/>\r\n<feOffset dy=\"1.6\"/>\r\n<feGaussianBlur stdDeviation=\"1.8\"/>\r\n<feColorMatrix type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.13 0\"/>\r\n<feBlend mode=\"normal\" in2=\"BackgroundImageFix\" result=\"effect1_dropShadow\"/>\r\n<feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\" result=\"hardAlpha\"/>\r\n<feOffset dy=\"0.3\"/>\r\n<feGaussianBlur stdDeviation=\"0.45\"/>\r\n<feColorMatrix type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0\"/>\r\n<feBlend mode=\"normal\" in2=\"effect1_dropShadow\" result=\"effect2_dropShadow\"/>\r\n<feBlend mode=\"normal\" in=\"SourceGraphic\" in2=\"effect2_dropShadow\" result=\"shape\"/>\r\n</filter>\r\n<filter id=\"filter1_dd\" x=\"164.4\" y=\"3\" width=\"39.2\" height=\"39.2\" filterUnits=\"userSpaceOnUse\" color-interpolation-filters=\"sRGB\">\r\n<feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\"/>\r\n<feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\" result=\"hardAlpha\"/>\r\n<feOffset dy=\"1.6\"/>\r\n<feGaussianBlur stdDeviation=\"1.8\"/>\r\n<feColorMatrix type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.13 0\"/>\r\n<feBlend mode=\"normal\" in2=\"BackgroundImageFix\" result=\"effect1_dropShadow\"/>\r\n<feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\" result=\"hardAlpha\"/>\r\n<feOffset dy=\"0.3\"/>\r\n<feGaussianBlur stdDeviation=\"0.45\"/>\r\n<feColorMatrix type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0\"/>\r\n<feBlend mode=\"normal\" in2=\"effect1_dropShadow\" result=\"effect2_dropShadow\"/>\r\n<feBlend mode=\"normal\" in=\"SourceGraphic\" in2=\"effect2_dropShadow\" result=\"shape\"/>\r\n</filter>\r\n<filter id=\"filter2_dd\" x=\"304.4\" y=\"1.19209e-07\" width=\"45.2\" height=\"45.2\" filterUnits=\"userSpaceOnUse\" color-interpolation-filters=\"sRGB\">\r\n<feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\"/>\r\n<feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\" result=\"hardAlpha\"/>\r\n<feOffset dy=\"1.6\"/>\r\n<feGaussianBlur stdDeviation=\"1.8\"/>\r\n<feColorMatrix type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.13 0\"/>\r\n<feBlend mode=\"normal\" in2=\"BackgroundImageFix\" result=\"effect1_dropShadow\"/>\r\n<feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\" result=\"hardAlpha\"/>\r\n<feOffset dy=\"0.3\"/>\r\n<feGaussianBlur stdDeviation=\"0.45\"/>\r\n<feColorMatrix type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0\"/>\r\n<feBlend mode=\"normal\" in2=\"effect1_dropShadow\" result=\"effect2_dropShadow\"/>\r\n<feBlend mode=\"normal\" in=\"SourceGraphic\" in2=\"effect2_dropShadow\" result=\"shape\"/>\r\n</filter>\r\n<filter id=\"filter3_dd\" x=\"444.4\" y=\"3\" width=\"39.2\" height=\"39.2\" filterUnits=\"userSpaceOnUse\" color-interpolation-filters=\"sRGB\">\r\n<feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\"/>\r\n<feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\" result=\"hardAlpha\"/>\r\n<feOffset dy=\"1.6\"/>\r\n<feGaussianBlur stdDeviation=\"1.8\"/>\r\n<feColorMatrix type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.13 0\"/>\r\n<feBlend mode=\"normal\" in2=\"BackgroundImageFix\" result=\"effect1_dropShadow\"/>\r\n<feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\" result=\"hardAlpha\"/>\r\n<feOffset dy=\"0.3\"/>\r\n<feGaussianBlur stdDeviation=\"0.45\"/>\r\n<feColorMatrix type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0\"/>\r\n<feBlend mode=\"normal\" in2=\"effect1_dropShadow\" result=\"effect2_dropShadow\"/>\r\n<feBlend mode=\"normal\" in=\"SourceGraphic\" in2=\"effect2_dropShadow\" result=\"shape\"/>\r\n</filter>\r\n</defs>\r\n</svg>"
                  },
                  "conditionalVisibility": {
                    "parameterName": "step",
                    "comparison": "isEqualTo",
                    "value": "IngestionManager"
                  },
                  "name": "IngesationProcessImages - step3"
                },
                {
                  "type": 1,
                  "content": {
                    "json": "<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"488\" height=\"46\" viewBox=\"0 0 488 46\" fill=\"none\">\r\n<line x1=\"48\" y1=\"22\" x2=\"474\" y2=\"22\" stroke=\"#8A8886\" stroke-width=\"2\"/>\r\n<g filter=\"url(#filter0_dd)\">\r\n<rect x=\"32\" y=\"5\" width=\"32\" height=\"32\" rx=\"16\" fill=\"#8A8886\"/>\r\n<path d=\"M49.9233 15.3636H47.9176L45.0256 17.2216V19.1534L47.7472 17.4148H47.8153V27H49.9233V15.3636Z\" fill=\"white\"/>\r\n</g>\r\n<g filter=\"url(#filter1_dd)\">\r\n<rect x=\"168\" y=\"5\" width=\"32\" height=\"32\" rx=\"16\" fill=\"#8A8886\"/>\r\n<path d=\"M180.065 27H188.043V25.2386H182.974V25.1591L184.98 23.1193C187.241 20.9489 187.866 19.892 187.866 18.5795C187.866 16.6307 186.281 15.2045 183.94 15.2045C181.634 15.2045 179.997 16.6364 179.997 18.8466H182.003C182.003 17.6591 182.753 16.9148 183.912 16.9148C185.02 16.9148 185.844 17.5909 185.844 18.6875C185.844 19.6591 185.253 20.3523 184.105 21.517L180.065 25.4773V27Z\" fill=\"white\"/>\r\n</g>\r\n<g filter=\"url(#filter2_dd)\">\r\n<rect x=\"311\" y=\"5\" width=\"32\" height=\"32\" rx=\"16\" fill=\"#8A8886\"/>\r\n<path d=\"M326.999 27.1591C329.488 27.1591 331.3 25.733 331.295 23.767C331.3 22.3125 330.391 21.267 328.761 21.0341V20.9432C330.022 20.6705 330.869 19.733 330.863 18.4261C330.869 16.6534 329.357 15.2045 327.033 15.2045C324.772 15.2045 323.022 16.5511 322.977 18.5H325.005C325.039 17.5227 325.948 16.9148 327.022 16.9148C328.107 16.9148 328.829 17.5739 328.823 18.5511C328.829 19.5682 327.988 20.2443 326.783 20.2443H325.755V21.8693H326.783C328.255 21.8693 329.13 22.608 329.124 23.6591C329.13 24.6875 328.238 25.392 326.994 25.392C325.823 25.392 324.92 24.7841 324.869 23.8352H322.732C322.789 25.8011 324.545 27.1591 326.999 27.1591Z\" fill=\"white\"/>\r\n</g>\r\n<g filter=\"url(#filter3_dd)\">\r\n<rect x=\"448\" y=\"5\" width=\"32\" height=\"32\" rx=\"16\" fill=\"#106EBE\"/>\r\n<path d=\"M459.496 24.8409H465.047V27H467.058V24.8409H468.547V23.108H467.058V15.3636H464.433L459.496 23.1648V24.8409ZM465.07 23.108H461.655V23.017L464.979 17.75H465.07V23.108Z\" fill=\"white\"/>\r\n<rect x=\"446.5\" y=\"3.5\" width=\"35\" height=\"35\" rx=\"17.5\" stroke=\"#C7E0F4\" stroke-width=\"3\"/>\r\n</g>\r\n<defs>\r\n<filter id=\"filter0_dd\" x=\"28.4\" y=\"3\" width=\"39.2\" height=\"39.2\" filterUnits=\"userSpaceOnUse\" color-interpolation-filters=\"sRGB\">\r\n<feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\"/>\r\n<feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\" result=\"hardAlpha\"/>\r\n<feOffset dy=\"1.6\"/>\r\n<feGaussianBlur stdDeviation=\"1.8\"/>\r\n<feColorMatrix type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.13 0\"/>\r\n<feBlend mode=\"normal\" in2=\"BackgroundImageFix\" result=\"effect1_dropShadow\"/>\r\n<feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\" result=\"hardAlpha\"/>\r\n<feOffset dy=\"0.3\"/>\r\n<feGaussianBlur stdDeviation=\"0.45\"/>\r\n<feColorMatrix type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0\"/>\r\n<feBlend mode=\"normal\" in2=\"effect1_dropShadow\" result=\"effect2_dropShadow\"/>\r\n<feBlend mode=\"normal\" in=\"SourceGraphic\" in2=\"effect2_dropShadow\" result=\"shape\"/>\r\n</filter>\r\n<filter id=\"filter1_dd\" x=\"164.4\" y=\"3\" width=\"39.2\" height=\"39.2\" filterUnits=\"userSpaceOnUse\" color-interpolation-filters=\"sRGB\">\r\n<feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\"/>\r\n<feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\" result=\"hardAlpha\"/>\r\n<feOffset dy=\"1.6\"/>\r\n<feGaussianBlur stdDeviation=\"1.8\"/>\r\n<feColorMatrix type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.13 0\"/>\r\n<feBlend mode=\"normal\" in2=\"BackgroundImageFix\" result=\"effect1_dropShadow\"/>\r\n<feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\" result=\"hardAlpha\"/>\r\n<feOffset dy=\"0.3\"/>\r\n<feGaussianBlur stdDeviation=\"0.45\"/>\r\n<feColorMatrix type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0\"/>\r\n<feBlend mode=\"normal\" in2=\"effect1_dropShadow\" result=\"effect2_dropShadow\"/>\r\n<feBlend mode=\"normal\" in=\"SourceGraphic\" in2=\"effect2_dropShadow\" result=\"shape\"/>\r\n</filter>\r\n<filter id=\"filter2_dd\" x=\"307.4\" y=\"3\" width=\"39.2\" height=\"39.2\" filterUnits=\"userSpaceOnUse\" color-interpolation-filters=\"sRGB\">\r\n<feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\"/>\r\n<feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\" result=\"hardAlpha\"/>\r\n<feOffset dy=\"1.6\"/>\r\n<feGaussianBlur stdDeviation=\"1.8\"/>\r\n<feColorMatrix type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.13 0\"/>\r\n<feBlend mode=\"normal\" in2=\"BackgroundImageFix\" result=\"effect1_dropShadow\"/>\r\n<feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\" result=\"hardAlpha\"/>\r\n<feOffset dy=\"0.3\"/>\r\n<feGaussianBlur stdDeviation=\"0.45\"/>\r\n<feColorMatrix type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0\"/>\r\n<feBlend mode=\"normal\" in2=\"effect1_dropShadow\" result=\"effect2_dropShadow\"/>\r\n<feBlend mode=\"normal\" in=\"SourceGraphic\" in2=\"effect2_dropShadow\" result=\"shape\"/>\r\n</filter>\r\n<filter id=\"filter3_dd\" x=\"441.4\" y=\"1.19209e-07\" width=\"45.2\" height=\"45.2\" filterUnits=\"userSpaceOnUse\" color-interpolation-filters=\"sRGB\">\r\n<feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\"/>\r\n<feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\" result=\"hardAlpha\"/>\r\n<feOffset dy=\"1.6\"/>\r\n<feGaussianBlur stdDeviation=\"1.8\"/>\r\n<feColorMatrix type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.13 0\"/>\r\n<feBlend mode=\"normal\" in2=\"BackgroundImageFix\" result=\"effect1_dropShadow\"/>\r\n<feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\" result=\"hardAlpha\"/>\r\n<feOffset dy=\"0.3\"/>\r\n<feGaussianBlur stdDeviation=\"0.45\"/>\r\n<feColorMatrix type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0\"/>\r\n<feBlend mode=\"normal\" in2=\"effect1_dropShadow\" result=\"effect2_dropShadow\"/>\r\n<feBlend mode=\"normal\" in=\"SourceGraphic\" in2=\"effect2_dropShadow\" result=\"shape\"/>\r\n</filter>\r\n</defs>\r\n</svg>"
                  },
                  "conditionalVisibility": {
                    "parameterName": "step",
                    "comparison": "isEqualTo",
                    "value": "EngineStorage"
                  },
                  "name": "IngesationProcessImages - step4"
                },
                {
                  "type": 12,
                  "content": {
                    "version": "NotebookGroup/1.0",
                    "groupType": "editable",
                    "items": [
                      {
                        "type": 1,
                        "content": {
                          "json": "<div style=\"background-color:rgba(0, 0, 255, 0.04470588); padding:6px 6px 6px 6px\">\r\n<span style=\"font-family: Open Sans; font-weight: 620; font-size: 13px;font-style: bold;\"> What is Data Connection?\r\n</span><br>\r\nFor Event Grid, Event Hub, and IoT Hub ingestion, there is a Data Connection that gets the data from external sources and performs initial data rearrangement. You can skip this step if you don't use Event Grid, Event Hub, or IoT Hub ingestion.\r\n</div>\r\n"
                        },
                        "customWidth": "100",
                        "conditionalVisibility": {
                          "parameterName": "ShowHelp",
                          "comparison": "isEqualTo",
                          "value": "Yes"
                        },
                        "name": "header - Copy"
                      },
                      {
                        "type": 1,
                        "content": {
                          "json": "<span style=\"font-family: Open Sans; font-weight: 620; font-size: 14px;font-style: bold;\"> Received data size\r\n</span> <br>Size of data (sum) received by data connections from input stream."
                        },
                        "customWidth": "50",
                        "name": "text - 13 - Copy - Copy"
                      },
                      {
                        "type": 1,
                        "content": {
                          "json": "<span style=\"font-family: Open Sans; font-weight: 620; font-size: 14px;font-style: bold;\"> Discovery latency\r\n</span> <br>Time (avg) from data enqueue until discovery by data connections. This time isn't included in the Stage latency or in the Ingestion latency metrics"
                        },
                        "customWidth": "50",
                        "name": "text - 13 - Copy - Copy - Copy"
                      },
                      {
                        "type": 1,
                        "content": {
                          "json": ""
                        },
                        "customWidth": "100",
                        "name": "PlaceholderStep1",
                        "styleSettings": {
                          "margin": "-40px 0x 0px 0px"
                        }
                      },
                      {
                        "type": 10,
                        "content": {
                          "chartId": "workbook14d9f372-aecd-4b6d-8b15-abc265815fcc",
                          "version": "MetricsItem/2.0",
                          "size": 0,
                          "chartType": 2,
                          "resourceType": "microsoft.kusto/clusters",
                          "metricScope": 0,
                          "resourceParameter": "Resource",
                          "resourceIds": [
                            "{Resource}"
                          ],
                          "timeContextFromParameter": "TimeRange",
                          "timeContext": {
                            "durationMs": 0
                          },
                          "metrics": [
                            {
                              "namespace": "microsoft.kusto/clusters",
                              "metric": "microsoft.kusto/clusters-Ingestion health and performance-ReceivedDataSizeBytes",
                              "aggregation": 1,
                              "splitBy": "ComponentName",
                              "columnName": "Received Data Size (sum)"
                            }
                          ],
                          "showOpenInMe": true,
                          "timeBrushParameterName": "TimeRange",
                          "gridSettings": {
                            "rowLimit": 10000
                          }
                        },
                        "customWidth": "50",
                        "name": "Received Data Size",
                        "styleSettings": {
                          "margin": "-4px 0x 0px 0px"
                        }
                      },
                      {
                        "type": 10,
                        "content": {
                          "chartId": "workbook2bb5ba2f-1f0f-465d-ba5f-9d0fc4863013",
                          "version": "MetricsItem/2.0",
                          "size": 0,
                          "chartType": 2,
                          "resourceType": "microsoft.kusto/clusters",
                          "metricScope": 0,
                          "resourceParameter": "Resource",
                          "resourceIds": [
                            "{Resource}"
                          ],
                          "timeContextFromParameter": "TimeRange",
                          "timeContext": {
                            "durationMs": 0
                          },
                          "metrics": [
                            {
                              "namespace": "microsoft.kusto/clusters",
                              "metric": "microsoft.kusto/clusters-Ingestion health and performance-DiscoveryLatency",
                              "aggregation": 4,
                              "splitBy": "ComponentName",
                              "columnName": "Discovery Latency"
                            }
                          ],
                          "showOpenInMe": true,
                          "timeBrushParameterName": "TimeRange",
                          "gridSettings": {
                            "rowLimit": 10000
                          }
                        },
                        "customWidth": "50",
                        "name": "Discovery Latency",
                        "styleSettings": {
                          "margin": "-40px 0x 0px 0px"
                        }
                      },
                      {
                        "type": 1,
                        "content": {
                          "json": "<span style=\"font-family: Open Sans; font-weight: 620; font-size: 14px;font-style: bold;\"> Events received\r\n</span> <br>Number of events (sum) received by data connections from input stream."
                        },
                        "customWidth": "33",
                        "name": "events received tile"
                      },
                      {
                        "type": 1,
                        "content": {
                          "json": "<span style=\"font-family: Open Sans; font-weight: 620; font-size: 14px;font-style: bold;\"> Events processed\r\n</span> <br>Number of events (sum) processed by data connections."
                        },
                        "customWidth": "33",
                        "name": "text - 13 - Copy - Copy - Copy - Copy"
                      },
                      {
                        "type": 1,
                        "content": {
                          "json": "<span style=\"font-family: Open Sans; font-weight: 620; font-size: 14px;font-style: bold;\"> Events dropped\r\n</span> <br>Number of events (sum) permanently dropped by data connections."
                        },
                        "customWidth": "33",
                        "name": "text - 13 - Copy - Copy - Copy - Copy - Copy"
                      },
                      {
                        "type": 10,
                        "content": {
                          "chartId": "workbook14d9f372-aecd-4b6d-8b15-abc265815fcc",
                          "version": "MetricsItem/2.0",
                          "size": 0,
                          "chartType": 2,
                          "color": "blue",
                          "resourceType": "microsoft.kusto/clusters",
                          "metricScope": 0,
                          "resourceParameter": "Resource",
                          "resourceIds": [
                            "{Resource}"
                          ],
                          "timeContextFromParameter": "TimeRange",
                          "timeContext": {
                            "durationMs": 0
                          },
                          "metrics": [
                            {
                              "namespace": "microsoft.kusto/clusters",
                              "metric": "microsoft.kusto/clusters-Ingestion health and performance-EventsReceived",
                              "aggregation": 1,
                              "splitBy": "ComponentName",
                              "columnName": "Events Received"
                            }
                          ],
                          "showOpenInMe": true,
                          "timeBrushParameterName": "TimeRange",
                          "gridSettings": {
                            "rowLimit": 10000
                          }
                        },
                        "customWidth": "33",
                        "name": "Events received"
                      },
                      {
                        "type": 10,
                        "content": {
                          "chartId": "workbook14d9f372-aecd-4b6d-8b15-abc265815fcc",
                          "version": "MetricsItem/2.0",
                          "size": 0,
                          "chartType": 2,
                          "color": "blue",
                          "resourceType": "microsoft.kusto/clusters",
                          "metricScope": 0,
                          "resourceParameter": "Resource",
                          "resourceIds": [
                            "{Resource}"
                          ],
                          "timeContextFromParameter": "TimeRange",
                          "timeContext": {
                            "durationMs": 0
                          },
                          "metrics": [
                            {
                              "namespace": "microsoft.kusto/clusters",
                              "metric": "microsoft.kusto/clusters-Ingestion health and performance-EventsProcessed",
                              "aggregation": 1,
                              "splitBy": "ComponentName",
                              "columnName": "Events Processed"
                            }
                          ],
                          "showOpenInMe": true,
                          "timeBrushParameterName": "TimeRange",
                          "gridSettings": {
                            "rowLimit": 10000
                          }
                        },
                        "customWidth": "33",
                        "name": "Events Processed"
                      },
                      {
                        "type": 10,
                        "content": {
                          "chartId": "workbook14d9f372-aecd-4b6d-8b15-abc265815fcc",
                          "version": "MetricsItem/2.0",
                          "size": 0,
                          "chartType": 2,
                          "color": "red",
                          "resourceType": "microsoft.kusto/clusters",
                          "metricScope": 0,
                          "resourceParameter": "Resource",
                          "resourceIds": [
                            "{Resource}"
                          ],
                          "timeContextFromParameter": "TimeRange",
                          "timeContext": {
                            "durationMs": 0
                          },
                          "metrics": [
                            {
                              "namespace": "microsoft.kusto/clusters",
                              "metric": "microsoft.kusto/clusters-Ingestion health and performance-EventsDropped",
                              "aggregation": 1,
                              "splitBy": "ComponentName",
                              "columnName": "Events Dropped"
                            }
                          ],
                          "showOpenInMe": true,
                          "timeBrushParameterName": "TimeRange",
                          "gridSettings": {
                            "rowLimit": 10000
                          }
                        },
                        "customWidth": "33",
                        "name": "Events Dropped"
                      }
                    ]
                  },
                  "conditionalVisibility": {
                    "parameterName": "step",
                    "comparison": "isEqualTo",
                    "value": "dataConnection"
                  },
                  "name": "Data Connection"
                },
                {
                  "type": 12,
                  "content": {
                    "version": "NotebookGroup/1.0",
                    "groupType": "editable",
                    "items": [
                      {
                        "type": 1,
                        "content": {
                          "json": "<div style=\"background-color:rgba(0, 0, 255, 0.04470588); padding:6px 6px 6px 6px\">\r\n<span style=\"font-family: Open Sans; font-weight: 620; font-size: 13px;font-style: bold;\"> What is Batching Manager?\r\n</span><br>\r\nThe Batching Manager optimizes the ingestion throughput by taking the small ingress data chunks that it receives and batching them (to one or more blobs) based on the <a href=\"https://docs.microsoft.com/azure/data-explorer/kusto/management/batchingpolicy\">ingestion batching policy</a>.\r\n</div>\r\n"
                        },
                        "conditionalVisibility": {
                          "parameterName": "ShowHelp",
                          "comparison": "isEqualTo",
                          "value": "Yes"
                        },
                        "name": "header"
                      },
                      {
                        "type": 1,
                        "content": {
                          "json": "<span style=\"font-family: Open Sans; font-weight: 620; font-size: 14px;font-style: bold;\"> Stage latency (avg per database)\r\n</span> <br>Time from when a message is accepted by Azure Data Explorer, until its content is received by the batching manager for processing."
                        },
                        "customWidth": "50",
                        "name": "text - 13"
                      },
                      {
                        "type": 1,
                        "content": {
                          "json": "<span style=\"font-family: Open Sans; font-weight: 620; font-size: 14px;font-style: bold;\"> Amount of data processed\r\n</span>\r\n<ul>\r\n<li>Blobs received - Number of blobs received from input stream by the batching manager.</li>\r\n<li>Blobs processed - Number of blobs processed by the batching manager.</li>\r\n<li>Blobs dropped - Number of blobs permanently dropped by the batching manager. For each such blob, an Ingestion result metric with a failure reason is sent.\r\n</li>\r\n</ul>"
                        },
                        "customWidth": "50",
                        "name": "data processed tile"
                      },
                      {
                        "type": 10,
                        "content": {
                          "chartId": "workbook2bb5ba2f-1f0f-465d-ba5f-9d0fc4863013",
                          "version": "MetricsItem/2.0",
                          "size": 0,
                          "chartType": 2,
                          "resourceType": "microsoft.kusto/clusters",
                          "metricScope": 0,
                          "resourceParameter": "Resource",
                          "resourceIds": [
                            "{Resource}"
                          ],
                          "timeContextFromParameter": "TimeRange",
                          "timeContext": {
                            "durationMs": 8035200000
                          },
                          "metrics": [
                            {
                              "namespace": "microsoft.kusto/clusters",
                              "metric": "microsoft.kusto/clusters-Ingestion health and performance-StageLatency",
                              "aggregation": 4,
                              "splitBy": "Database",
                              "columnName": "Stage Latency"
                            }
                          ],
                          "showOpenInMe": true,
                          "filters": [
                            {
                              "id": "1",
                              "key": "ComponentType",
                              "operator": 0,
                              "values": [
                                "BatchingManager"
                              ]
                            }
                          ],
                          "timeBrushParameterName": "TimeRange",
                          "gridSettings": {
                            "rowLimit": 10000
                          }
                        },
                        "customWidth": "50",
                        "name": "Stage Latency"
                      },
                      {
                        "type": 10,
                        "content": {
                          "chartId": "workbook2bb5ba2f-1f0f-465d-ba5f-9d0fc4863013",
                          "version": "MetricsItem/2.0",
                          "size": 0,
                          "chartType": 2,
                          "resourceType": "microsoft.kusto/clusters",
                          "metricScope": 0,
                          "resourceParameter": "Resource",
                          "resourceIds": [
                            "{Resource}"
                          ],
                          "timeContextFromParameter": "TimeRange",
                          "timeContext": {
                            "durationMs": 0
                          },
                          "metrics": [
                            {
                              "namespace": "microsoft.kusto/clusters",
                              "metric": "microsoft.kusto/clusters-Ingestion health and performance-BlobsReceived",
                              "aggregation": 1,
                              "splitBy": null,
                              "columnName": "Blobs Received"
                            },
                            {
                              "namespace": "microsoft.kusto/clusters",
                              "metric": "microsoft.kusto/clusters-Ingestion health and performance-BlobsProcessed",
                              "aggregation": 1,
                              "columnName": "Blobs Processed"
                            },
                            {
                              "namespace": "microsoft.kusto/clusters",
                              "metric": "microsoft.kusto/clusters-Ingestion health and performance-BlobsDropped",
                              "aggregation": 1,
                              "columnName": "Blobs Dropped"
                            }
                          ],
                          "showOpenInMe": true,
                          "filters": [
                            {
                              "id": "1",
                              "key": "ComponentType",
                              "operator": 0,
                              "values": [
                                "BatchingManager"
                              ]
                            }
                          ],
                          "timeBrushParameterName": "TimeRange",
                          "gridSettings": {
                            "rowLimit": 10000
                          }
                        },
                        "customWidth": "50",
                        "name": "Blobs status"
                      },
                      {
                        "type": 1,
                        "content": {
                          "json": "<span style=\"font-family: Open Sans; font-weight: 620; font-size: 14px;font-style: bold;\"> Queue oldest message\r\n</span> <br>Time in seconds from when the oldest message (about a new batch) in the batching manager's input queue has been enqueued."
                        },
                        "customWidth": "50",
                        "name": "text - 13 - Copy"
                      },
                      {
                        "type": 1,
                        "content": {
                          "json": "<span style=\"font-family: Open Sans; font-weight: 620; font-size: 14px;font-style: bold;\"> Batching queue length\r\n</span> <br>Number of pending messages in in the Batching manager's input queue."
                        },
                        "customWidth": "50",
                        "name": "text - 13 - Copy - Copy"
                      },
                      {
                        "type": 10,
                        "content": {
                          "chartId": "workbook4261d058-0806-4200-b524-2ed45a1c137c",
                          "version": "MetricsItem/2.0",
                          "size": 0,
                          "chartType": 2,
                          "resourceType": "microsoft.kusto/clusters",
                          "metricScope": 0,
                          "resourceParameter": "Resource",
                          "resourceIds": [
                            "{Resource}"
                          ],
                          "timeContextFromParameter": "TimeRange",
                          "timeContext": {
                            "durationMs": 8035200000,
                            "endTime": "2021-08-20T13:08:00.000Z"
                          },
                          "metrics": [
                            {
                              "namespace": "microsoft.kusto/clusters",
                              "metric": "microsoft.kusto/clusters-Ingestion health and performance-QueueOldestMessage",
                              "aggregation": 4,
                              "splitBy": null,
                              "columnName": "Queue Oldest Message",
                              "filters": [
                                {
                                  "key": "ComponentType",
                                  "operator": 0,
                                  "values": [
                                    "BatchingManager"
                                  ]
                                }
                              ]
                            }
                          ],
                          "gridFormatType": 1,
                          "tileSettings": {
                            "titleContent": {
                              "formatter": 1
                            },
                            "leftContent": {
                              "columnMatch": "Value",
                              "formatter": 1,
                              "numberFormat": {
                                "unit": 24,
                                "options": {
                                  "style": "decimal",
                                  "maximumFractionDigits": 2,
                                  "maximumSignificantDigits": 3
                                }
                              }
                            },
                            "showBorder": false
                          },
                          "showOpenInMe": true,
                          "timeBrushParameterName": "TimeRange",
                          "gridSettings": {
                            "rowLimit": 10000
                          }
                        },
                        "customWidth": "50",
                        "name": "Queue Oldest Message"
                      },
                      {
                        "type": 10,
                        "content": {
                          "chartId": "workbook2bb5ba2f-1f0f-465d-ba5f-9d0fc4863013",
                          "version": "MetricsItem/2.0",
                          "size": 0,
                          "chartType": 2,
                          "resourceType": "microsoft.kusto/clusters",
                          "metricScope": 0,
                          "resourceParameter": "Resource",
                          "resourceIds": [
                            "{Resource}"
                          ],
                          "timeContextFromParameter": "TimeRange",
                          "timeContext": {
                            "durationMs": 8035200000
                          },
                          "metrics": [
                            {
                              "namespace": "microsoft.kusto/clusters",
                              "metric": "microsoft.kusto/clusters-Ingestion health and performance-QueueLength",
                              "aggregation": 4,
                              "splitBy": null,
                              "columnName": "Queue Length"
                            }
                          ],
                          "showOpenInMe": true,
                          "filters": [
                            {
                              "id": "2",
                              "key": "ComponentType",
                              "operator": 0,
                              "values": [
                                "BatchingManager"
                              ]
                            }
                          ],
                          "timeBrushParameterName": "TimeRange",
                          "gridSettings": {
                            "rowLimit": 10000
                          }
                        },
                        "customWidth": "50",
                        "name": "Batching queue"
                      },
                      {
                        "type": 1,
                        "content": {
                          "json": "<div style=\"background-color:rgba(231, 206, 243, 1); padding:6px 0px 6px 6px\">\r\n<span style=\"font-family: Open Sans; font-weight: 620; font-size: 15px;font-style: bold;\"> Batching per database\r\n</span><br>\r\n\r\n"
                        },
                        "customWidth": "50",
                        "name": "BatchingBorder",
                        "styleSettings": {
                          "margin": "0px 10px 0px 0px"
                        }
                      },
                      {
                        "type": 1,
                        "content": {
                          "json": "<div style=\"background-color:rgba(209, 228, 255, 1); padding:6px 6px 6px 6px\">\r\n<span style=\"font-family: Open Sans; font-weight: 620; font-size: 15px;font-style: bold;\"> Batching per table\r\n</span><br>\r\n\r\n\r\n\r\n"
                        },
                        "customWidth": "50",
                        "name": "BatchingBorder - Copy"
                      },
                      {
                        "type": 12,
                        "content": {
                          "version": "NotebookGroup/1.0",
                          "groupType": "editable",
                          "items": [
                            {
                              "type": 1,
                              "content": {
                                "json": "<span style=\"font-family: Open Sans; font-weight: 620; font-size: 14px;font-style: bold;\"> Batching duration (avg per database)\r\n</span> <br>The duration of the batching phase in the ingestion flow."
                              },
                              "customWidth": "100",
                              "name": "batching duration tile"
                            },
                            {
                              "type": 10,
                              "content": {
                                "chartId": "workbook2bb5ba2f-1f0f-465d-ba5f-9d0fc4863013",
                                "version": "MetricsItem/2.0",
                                "size": 0,
                                "chartType": 2,
                                "resourceType": "microsoft.kusto/clusters",
                                "metricScope": 0,
                                "resourceParameter": "Resource",
                                "resourceIds": [
                                  "{Resource}"
                                ],
                                "timeContextFromParameter": "TimeRange",
                                "timeContext": {
                                  "durationMs": 8035200000
                                },
                                "metrics": [
                                  {
                                    "namespace": "microsoft.kusto/clusters",
                                    "metric": "microsoft.kusto/clusters-Ingestion health and performance-BatchDuration",
                                    "aggregation": 4,
                                    "splitBy": "Database"
                                  }
                                ],
                                "showOpenInMe": true,
                                "timeBrushParameterName": "TimeRange",
                                "gridSettings": {
                                  "rowLimit": 10000
                                }
                              },
                              "customWidth": "100",
                              "name": "Ingestion batching duration (avg per db)"
                            }
                          ]
                        },
                        "customWidth": "50",
                        "name": "Batching duration (avg per database)"
                      },
                      {
                        "type": 12,
                        "content": {
                          "version": "NotebookGroup/1.0",
                          "groupType": "editable",
                          "title": "Additional log based monitoring coverage",
                          "expandable": true,
                          "items": [
                            {
                              "type": 1,
                              "content": {
                                "json": "The logs need to be enabled and sent to a Log Analytics workspace. After enabling the diagnostic settings, it may take several hours to generate the logs. Once the log data is available, this message will not be displayed. "
                              },
                              "name": "Status of logs text"
                            },
                            {
                              "type": 3,
                              "content": {
                                "version": "KqlItem/1.0",
                                "query": "{\"version\":\"ARMEndpoint/1.0\",\"data\":null,\"headers\":[],\"method\":\"GET\",\"path\":\"{Resource}/providers/microsoft.insights/diagnosticSettings\",\"urlParams\":[{\"key\":\"api-version\",\"value\":\"2017-05-01-preview\"},{\"key\":\"resourceUri\",\"value\":\"{Resource}\"}],\"batchDisabled\":false,\"transformers\":[{\"type\":\"jsonpath\",\"settings\":{\"tablePath\":\"$.value[*][?(@.workspaceId !=null)]\",\"columns\":[{\"path\":\"$.workspaceId\",\"columnid\":\"workspace\"},{\"path\":\"$.logs[?(@.category==\\\"IngestionBatching\\\")].enabled\",\"columnid\":\"isBatchEnabled\"}]}}]}",
                                "size": 3,
                                "noDataMessage": "You have not enabled any diagnostic logs to a Log Analytics workspace.",
                                "noDataMessageStyle": 2,
                                "queryType": 12,
                                "gridSettings": {
                                  "formatters": [
                                    {
                                      "columnMatch": "workspace",
                                      "formatter": 13,
                                      "formatOptions": {
                                        "linkTarget": null,
                                        "showIcon": true
                                      }
                                    },
                                    {
                                      "columnMatch": "isBatchEnabled",
                                      "formatter": 18,
                                      "formatOptions": {
                                        "thresholdsOptions": "icons",
                                        "thresholdsGrid": [
                                          {
                                            "operator": "==",
                                            "thresholdValue": "true",
                                            "representation": "Available",
                                            "text": "Enabled"
                                          },
                                          {
                                            "operator": "==",
                                            "thresholdValue": "false",
                                            "representation": "error",
                                            "text": "Disabled"
                                          },
                                          {
                                            "operator": "Default",
                                            "thresholdValue": null,
                                            "representation": "Blank",
                                            "text": "{0}{1}"
                                          }
                                        ]
                                      }
                                    }
                                  ],
                                  "labelSettings": [
                                    {
                                      "columnId": "workspace",
                                      "label": "Log Analytics workspace"
                                    },
                                    {
                                      "columnId": "isBatchEnabled",
                                      "label": "IngestionBatching logs"
                                    }
                                  ]
                                }
                              },
                              "name": "Logs Not Enabled Yet"
                            },
                            {
                              "type": 11,
                              "content": {
                                "version": "LinkItem/1.0",
                                "style": "paragraph",
                                "links": [
                                  {
                                    "id": "d5146773-5947-4eb0-9f14-738c635c066d",
                                    "cellValue": "{Resource}",
                                    "linkTarget": "Resource",
                                    "linkLabel": "Configure Logs for Monitoring >",
                                    "subTarget": "diagnostics",
                                    "style": "primary"
                                  }
                                ]
                              },
                              "name": "links - 2"
                            }
                          ]
                        },
                        "customWidth": "50",
                        "conditionalVisibility": {
                          "parameterName": "BatchLogs",
                          "comparison": "isEqualTo",
                          "value": "not present"
                        },
                        "name": "Batch logs not present"
                      },
                      {
                        "type": 12,
                        "content": {
                          "version": "NotebookGroup/1.0",
                          "groupType": "editable",
                          "items": [
                            {
                              "type": 1,
                              "content": {
                                "json": "<span style=\"font-family: Open Sans; font-weight: 620; font-size: 14px;font-style: bold;\"> Batching duration (avg per table, 1 hour bucket size)\r\n</span> <br>The duration of the batching phase in the ingestion flow."
                              },
                              "customWidth": "100",
                              "name": "text - 13 - Copy - Copy"
                            },
                            {
                              "type": 3,
                              "content": {
                                "version": "KqlItem/1.0",
                                "query": "ADXIngestionBatching\r\n| where TimeGenerated {TimeRange}\r\n| extend Category = strcat(Table , \" (DB: \", Database,\")\")\r\n| summarize avg(BatchTimeSeconds) by Category, bin(TimeGenerated, 1h)\r\n",
                                "size": 0,
                                "aggregation": 3,
                                "showAnalytics": true,
                                "timeContext": {
                                  "durationMs": 0
                                },
                                "timeContextFromParameter": "TimeRange",
                                "timeBrushParameterName": "TimeRange",
                                "queryType": 0,
                                "resourceType": "microsoft.kusto/clusters",
                                "crossComponentResources": [
                                  "{Resource}"
                                ],
                                "visualization": "linechart",
                                "chartSettings": {
                                  "xAxis": "TimeGenerated",
                                  "yAxis": [
                                    "avg_BatchTimeSeconds"
                                  ],
                                  "showLegend": true,
                                  "ySettings": {
                                    "numberFormatSettings": {
                                      "unit": 24,
                                      "options": {
                                        "style": "decimal",
                                        "useGrouping": true
                                      }
                                    }
                                  }
                                }
                              },
                              "customWidth": "100",
                              "name": "Ingestion batching duration"
                            }
                          ]
                        },
                        "customWidth": "50",
                        "conditionalVisibility": {
                          "parameterName": "BatchLogs",
                          "comparison": "isEqualTo",
                          "value": "present"
                        },
                        "name": "batching duration (sum per table)"
                      },
                      {
                        "type": 12,
                        "content": {
                          "version": "NotebookGroup/1.0",
                          "groupType": "editable",
                          "items": [
                            {
                              "type": 1,
                              "content": {
                                "json": "<span style=\"font-family: Open Sans; font-weight: 620; font-size: 14px;font-style: bold;\"> Batching size (avg per database)\r\n</span> <br>Uncompressed expected data size in an aggregated batch for ingestion."
                              },
                              "customWidth": "100",
                              "name": "text - 13 - Copy - Copy - Copy"
                            },
                            {
                              "type": 10,
                              "content": {
                                "chartId": "workbook2bb5ba2f-1f0f-465d-ba5f-9d0fc4863013",
                                "version": "MetricsItem/2.0",
                                "size": 0,
                                "chartType": 2,
                                "resourceType": "microsoft.kusto/clusters",
                                "metricScope": 0,
                                "resourceParameter": "Resource",
                                "resourceIds": [
                                  "{Resource}"
                                ],
                                "timeContextFromParameter": "TimeRange",
                                "timeContext": {
                                  "durationMs": 8035200000
                                },
                                "metrics": [
                                  {
                                    "namespace": "microsoft.kusto/clusters",
                                    "metric": "microsoft.kusto/clusters-Ingestion health and performance-BatchSize",
                                    "aggregation": 4,
                                    "splitBy": "Database",
                                    "columnName": "Batch Size"
                                  }
                                ],
                                "showOpenInMe": true,
                                "timeBrushParameterName": "TimeRange",
                                "gridSettings": {
                                  "rowLimit": 10000
                                }
                              },
                              "customWidth": "100",
                              "name": "Batch size"
                            }
                          ]
                        },
                        "customWidth": "50",
                        "name": "Batching size (avg per database)"
                      },
                      {
                        "type": 1,
                        "content": {
                          "json": ""
                        },
                        "customWidth": "50",
                        "conditionalVisibility": {
                          "parameterName": "BatchLogs",
                          "comparison": "isEqualTo",
                          "value": "not present"
                        },
                        "name": "placeholder"
                      },
                      {
                        "type": 12,
                        "content": {
                          "version": "NotebookGroup/1.0",
                          "groupType": "editable",
                          "items": [
                            {
                              "type": 1,
                              "content": {
                                "json": "<span style=\"font-family: Open Sans; font-weight: 620; font-size: 14px;font-style: bold;\"> Batching size (avg per table, 1 hour bucket size)\r\n</span> <br>Uncompressed expected data size in an aggregated batch for ingestion."
                              },
                              "customWidth": "100",
                              "conditionalVisibility": {
                                "parameterName": "BatchLogs",
                                "comparison": "isEqualTo",
                                "value": "present"
                              },
                              "name": "text - 13 - Copy - Copy - Copy - Copy - Copy"
                            },
                            {
                              "type": 3,
                              "content": {
                                "version": "KqlItem/1.0",
                                "query": "ADXIngestionBatching\r\n| where TimeGenerated {TimeRange}\r\n| extend Category = strcat(Table , \" (DB: \", Database,\")\")\r\n| summarize avg(BatchSizeBytes)  by Category, bin(TimeGenerated, 1h)",
                                "size": 0,
                                "aggregation": 3,
                                "showAnalytics": true,
                                "timeContext": {
                                  "durationMs": 0
                                },
                                "timeContextFromParameter": "TimeRange",
                                "timeBrushParameterName": "TimeRange",
                                "queryType": 0,
                                "resourceType": "microsoft.kusto/clusters",
                                "crossComponentResources": [
                                  "{Resource}"
                                ],
                                "visualization": "linechart",
                                "chartSettings": {
                                  "xAxis": "TimeGenerated",
                                  "yAxis": [
                                    "avg_BatchSizeBytes"
                                  ],
                                  "showLegend": true,
                                  "ySettings": {
                                    "numberFormatSettings": {
                                      "unit": 36,
                                      "options": {
                                        "style": "decimal",
                                        "useGrouping": true
                                      }
                                    }
                                  }
                                }
                              },
                              "customWidth": "100",
                              "conditionalVisibility": {
                                "parameterName": "BatchLogs",
                                "comparison": "isEqualTo",
                                "value": "present"
                              },
                              "name": "Ingestion batching size"
                            }
                          ]
                        },
                        "customWidth": "50",
                        "conditionalVisibility": {
                          "parameterName": "BatchLogs",
                          "comparison": "isEqualTo",
                          "value": "present"
                        },
                        "name": "Batching size (sum per table)"
                      },
                      {
                        "type": 12,
                        "content": {
                          "version": "NotebookGroup/1.0",
                          "groupType": "editable",
                          "items": [
                            {
                              "type": 1,
                              "content": {
                                "json": "<span style=\"font-family: Open Sans; font-weight: 620; font-size: 14px;font-style: bold;\"> Batching by type (cluster level) \r\n</span> <br>The types of triggers that sealed the batches (for example, the batch reached batching time, data size, or the number of files limit defined by the batching policy).\r\n</span>[Learn more about batching types](https://docs.microsoft.com/azure/data-explorer/kusto/management/batchingpolicy#batching-types)."
                              },
                              "customWidth": "100",
                              "name": "batch blob count tile"
                            },
                            {
                              "type": 10,
                              "content": {
                                "chartId": "workbook2bb5ba2f-1f0f-465d-ba5f-9d0fc4863013",
                                "version": "MetricsItem/2.0",
                                "size": 0,
                                "chartType": 1,
                                "resourceType": "microsoft.kusto/clusters",
                                "metricScope": 0,
                                "resourceParameter": "Resource",
                                "resourceIds": [
                                  "{Resource}"
                                ],
                                "timeContextFromParameter": "TimeRange",
                                "timeContext": {
                                  "durationMs": 0
                                },
                                "metrics": [
                                  {
                                    "namespace": "microsoft.kusto/clusters",
                                    "metric": "microsoft.kusto/clusters-Ingestion health and performance-BatchesProcessed",
                                    "aggregation": 1,
                                    "splitBy": "SealReason",
                                    "columnName": "Batches types"
                                  }
                                ],
                                "gridFormatType": 1,
                                "tileSettings": {
                                  "showBorder": false,
                                  "titleContent": {
                                    "columnMatch": "Name",
                                    "formatter": 13
                                  },
                                  "leftContent": {
                                    "columnMatch": "Value",
                                    "formatter": 12,
                                    "formatOptions": {
                                      "palette": "auto"
                                    },
                                    "numberFormat": {
                                      "unit": 17,
                                      "options": {
                                        "maximumSignificantDigits": 3,
                                        "maximumFractionDigits": 2
                                      }
                                    }
                                  }
                                },
                                "showOpenInMe": true,
                                "timeBrushParameterName": "TimeRange",
                                "gridSettings": {
                                  "formatters": [
                                    {
                                      "columnMatch": "Subscription",
                                      "formatter": 5
                                    },
                                    {
                                      "columnMatch": "Name",
                                      "formatter": 13,
                                      "formatOptions": {
                                        "linkTarget": "Resource"
                                      }
                                    },
                                    {
                                      "columnMatch": ".*\\/Batches types$",
                                      "formatter": 1
                                    }
                                  ],
                                  "rowLimit": 10000
                                }
                              },
                              "customWidth": "100",
                              "name": "Batch size - per DB"
                            }
                          ]
                        },
                        "customWidth": "50",
                        "name": "batches processed (avg per database)"
                      },
                      {
                        "type": 12,
                        "content": {
                          "version": "NotebookGroup/1.0",
                          "groupType": "editable",
                          "items": [
                            {
                              "type": 1,
                              "content": {
                                "json": "<span style=\"font-family: Open Sans; font-weight: 620; font-size: 14px;font-style: bold;\"> Batching by type (count per table)\r\n</span> <br>The types of triggers that sealed the batches (for example, the batch reached batching time, data size, or the number of files limit defined by the batching policy).\r\n</span>[Learn more about batching types](https://docs.microsoft.com/azure/data-explorer/kusto/management/batchingpolicy#batching-types)."
                              },
                              "customWidth": "100",
                              "conditionalVisibility": {
                                "parameterName": "BatchLogs",
                                "comparison": "isEqualTo",
                                "value": "present"
                              },
                              "name": "batching by type tile"
                            },
                            {
                              "type": 3,
                              "content": {
                                "version": "KqlItem/1.0",
                                "query": "ADXIngestionBatching\r\n| where TimeGenerated {TimeRange}\r\n| summarize count() by Database, Table, BatchingType \r\n| order by Database, Table, BatchingType",
                                "size": 1,
                                "showAnalytics": true,
                                "timeContext": {
                                  "durationMs": 0
                                },
                                "timeContextFromParameter": "TimeRange",
                                "queryType": 0,
                                "resourceType": "microsoft.kusto/clusters",
                                "crossComponentResources": [
                                  "{Resource}"
                                ],
                                "visualization": "table",
                                "gridSettings": {
                                  "formatters": [
                                    {
                                      "columnMatch": "Database",
                                      "formatter": 0,
                                      "formatOptions": {
                                        "customColumnWidthSetting": "25%"
                                      }
                                    },
                                    {
                                      "columnMatch": "Table",
                                      "formatter": 0,
                                      "formatOptions": {
                                        "customColumnWidthSetting": "25%"
                                      }
                                    },
                                    {
                                      "columnMatch": "BatchingType",
                                      "formatter": 0,
                                      "formatOptions": {
                                        "customColumnWidthSetting": "25%"
                                      }
                                    },
                                    {
                                      "columnMatch": "count_",
                                      "formatter": 3,
                                      "formatOptions": {
                                        "palette": "blue",
                                        "customColumnWidthSetting": "25%"
                                      },
                                      "numberFormat": {
                                        "unit": 17,
                                        "options": {
                                          "style": "decimal"
                                        }
                                      }
                                    }
                                  ],
                                  "sortBy": [
                                    {
                                      "itemKey": "$gen_bar_count__3",
                                      "sortOrder": 2
                                    }
                                  ],
                                  "labelSettings": [
                                    {
                                      "columnId": "Database"
                                    },
                                    {
                                      "columnId": "Table"
                                    },
                                    {
                                      "columnId": "BatchingType",
                                      "label": "Batching type"
                                    },
                                    {
                                      "columnId": "count_",
                                      "label": "Count"
                                    }
                                  ]
                                },
                                "sortBy": [
                                  {
                                    "itemKey": "$gen_bar_count__3",
                                    "sortOrder": 2
                                  }
                                ],
                                "chartSettings": {
                                  "xAxis": "Table",
                                  "yAxis": [
                                    "count_",
                                    "BatchingType"
                                  ]
                                }
                              },
                              "customWidth": "100",
                              "conditionalVisibility": {
                                "parameterName": "BatchLogs",
                                "comparison": "isEqualTo",
                                "value": "present"
                              },
                              "name": "Ingestion batching by type"
                            }
                          ]
                        },
                        "customWidth": "50",
                        "conditionalVisibility": {
                          "parameterName": "BatchLogs",
                          "comparison": "isEqualTo",
                          "value": "present"
                        },
                        "name": "Batching by type"
                      },
                      {
                        "type": 12,
                        "content": {
                          "version": "NotebookGroup/1.0",
                          "groupType": "editable",
                          "items": [
                            {
                              "type": 1,
                              "content": {
                                "json": "<span style=\"font-family: Open Sans; font-weight: 620; font-size: 14px;font-style: bold;\"> Batch blob count (avg per database)\r\n</span> <br>Number of data sources (blobs) in a completed batch for ingestion."
                              },
                              "customWidth": "100",
                              "name": "batch blob count tile"
                            },
                            {
                              "type": 10,
                              "content": {
                                "chartId": "workbook2bb5ba2f-1f0f-465d-ba5f-9d0fc4863013",
                                "version": "MetricsItem/2.0",
                                "size": 0,
                                "chartType": 2,
                                "resourceType": "microsoft.kusto/clusters",
                                "metricScope": 0,
                                "resourceParameter": "Resource",
                                "resourceIds": [
                                  "{Resource}"
                                ],
                                "timeContextFromParameter": "TimeRange",
                                "timeContext": {
                                  "durationMs": 8035200000,
                                  "endTime": "2021-08-20T13:08:00.000Z"
                                },
                                "metrics": [
                                  {
                                    "namespace": "microsoft.kusto/clusters",
                                    "metric": "microsoft.kusto/clusters-Ingestion health and performance-BatchBlobCount",
                                    "aggregation": 4,
                                    "splitBy": "Database",
                                    "columnName": "Batch Size"
                                  }
                                ],
                                "showOpenInMe": true,
                                "timeBrushParameterName": "TimeRange",
                                "gridSettings": {
                                  "rowLimit": 10000
                                }
                              },
                              "customWidth": "100",
                              "name": "Batch size - Copy"
                            }
                          ]
                        },
                        "customWidth": "51",
                        "name": "Batch blob count (avg per database)"
                      }
                    ]
                  },
                  "conditionalVisibility": {
                    "parameterName": "step",
                    "comparison": "isEqualTo",
                    "value": "BatchingProcess"
                  },
                  "name": "Batching Manager"
                },
                {
                  "type": 12,
                  "content": {
                    "version": "NotebookGroup/1.0",
                    "groupType": "editable",
                    "items": [
                      {
                        "type": 1,
                        "content": {
                          "json": "<div style=\"background-color:rgba(0, 0, 255, 0.04470588); padding:6px 6px 6px 6px\">\r\n<span style=\"font-family: Open Sans; font-weight: 620; font-size: 13px;font-style: bold;\"> What is Ingestion Manager?\r\n</span><br>\r\nThe Ingestion Manager sends the ingestion commands to the Azure Data Explorer Storage Engine.\r\n</div>\r\n"
                        },
                        "conditionalVisibility": {
                          "parameterName": "ShowHelp",
                          "comparison": "isEqualTo",
                          "value": "Yes"
                        },
                        "name": "text - 4"
                      },
                      {
                        "type": 1,
                        "content": {
                          "json": "<span style=\"font-family: Open Sans; font-weight: 620; font-size: 14px;font-style: bold;\"> Stage latency (avg per database)\r\n</span> <br>Time from when a message is accepted by Azure Data Explorer, until its content is received by the Ingestion manager for processing."
                        },
                        "customWidth": "50",
                        "name": "stage latency tile"
                      },
                      {
                        "type": 1,
                        "content": {
                          "json": "<span style=\"font-family: Open Sans; font-weight: 620; font-size: 14px;font-style: bold;\"> Amount of data processed\r\n</span>\r\n<ul>\r\n<li>Blobs received - Number of blobs received from input stream by the Ingestion manager.</li>\r\n<li>Blobs processed - Number of blobs processed by the Ingestion manager.</li>\r\n<li>Blobs dropped - Number of blobs permanently dropped by the Ingestion manager. For each such blob, an Ingestion result metric with a failure reason is sent.\r\n</li>\r\n</ul>"
                        },
                        "customWidth": "50",
                        "name": "processed data tile"
                      },
                      {
                        "type": 10,
                        "content": {
                          "chartId": "workbook2bb5ba2f-1f0f-465d-ba5f-9d0fc4863013",
                          "version": "MetricsItem/2.0",
                          "size": 0,
                          "chartType": 2,
                          "resourceType": "microsoft.kusto/clusters",
                          "metricScope": 0,
                          "resourceParameter": "Resource",
                          "resourceIds": [
                            "{Resource}"
                          ],
                          "timeContextFromParameter": "TimeRange",
                          "timeContext": {
                            "durationMs": 8035200000
                          },
                          "metrics": [
                            {
                              "namespace": "microsoft.kusto/clusters",
                              "metric": "microsoft.kusto/clusters-Ingestion health and performance-StageLatency",
                              "aggregation": 4,
                              "splitBy": "Database",
                              "columnName": "Stage Latency"
                            }
                          ],
                          "showOpenInMe": true,
                          "filters": [
                            {
                              "id": "2",
                              "key": "ComponentType",
                              "operator": 0,
                              "values": [
                                "IngestionManager"
                              ]
                            }
                          ],
                          "timeBrushParameterName": "TimeRange",
                          "gridSettings": {
                            "rowLimit": 10000
                          }
                        },
                        "customWidth": "50",
                        "name": "Stage Latency"
                      },
                      {
                        "type": 10,
                        "content": {
                          "chartId": "workbook2bb5ba2f-1f0f-465d-ba5f-9d0fc4863013",
                          "version": "MetricsItem/2.0",
                          "size": 0,
                          "chartType": 2,
                          "resourceType": "microsoft.kusto/clusters",
                          "metricScope": 0,
                          "resourceParameter": "Resource",
                          "resourceIds": [
                            "{Resource}"
                          ],
                          "timeContextFromParameter": "TimeRange",
                          "timeContext": {
                            "durationMs": 8035200000
                          },
                          "metrics": [
                            {
                              "namespace": "microsoft.kusto/clusters",
                              "metric": "microsoft.kusto/clusters-Ingestion health and performance-BlobsReceived",
                              "aggregation": 1,
                              "splitBy": null,
                              "columnName": "Blobs Received"
                            },
                            {
                              "namespace": "microsoft.kusto/clusters",
                              "metric": "microsoft.kusto/clusters-Ingestion health and performance-BlobsProcessed",
                              "aggregation": 1,
                              "columnName": "Blobs Processed"
                            },
                            {
                              "namespace": "microsoft.kusto/clusters",
                              "metric": "microsoft.kusto/clusters-Ingestion health and performance-BlobsDropped",
                              "aggregation": 1,
                              "columnName": "Blobs Dropped"
                            }
                          ],
                          "showOpenInMe": true,
                          "filters": [
                            {
                              "id": "2",
                              "key": "ComponentType",
                              "operator": 0,
                              "values": [
                                "IngestionManager"
                              ]
                            }
                          ],
                          "timeBrushParameterName": "TimeRange",
                          "gridSettings": {
                            "rowLimit": 10000
                          }
                        },
                        "customWidth": "50",
                        "name": "Blobs status"
                      },
                      {
                        "type": 1,
                        "content": {
                          "json": "<span style=\"font-family: Open Sans; font-weight: 620; font-size: 14px;font-style: bold;\"> Queue oldest message\r\n</span> <br>Time in seconds from when the oldest message (about a new batch) in the Ingestion manager's input queue has been enqueued."
                        },
                        "customWidth": "50",
                        "name": "text - 13 - Copy - Copy - Copy"
                      },
                      {
                        "type": 1,
                        "content": {
                          "json": "<span style=\"font-family: Open Sans; font-weight: 620; font-size: 14px;font-style: bold;\"> Ingestion queue length\r\n</span> <br>Number of pending messages in in the Ingestion manager's input queue."
                        },
                        "customWidth": "50",
                        "name": "queue length tile"
                      },
                      {
                        "type": 10,
                        "content": {
                          "chartId": "workbook4261d058-0806-4200-b524-2ed45a1c137c",
                          "version": "MetricsItem/2.0",
                          "size": 0,
                          "chartType": 2,
                          "resourceType": "microsoft.kusto/clusters",
                          "metricScope": 0,
                          "resourceParameter": "Resource",
                          "resourceIds": [
                            "{Resource}"
                          ],
                          "timeContextFromParameter": "TimeRange",
                          "timeContext": {
                            "durationMs": 8035200000
                          },
                          "metrics": [
                            {
                              "namespace": "microsoft.kusto/clusters",
                              "metric": "microsoft.kusto/clusters-Ingestion health and performance-QueueOldestMessage",
                              "aggregation": 4,
                              "splitBy": null,
                              "columnName": "Queue Oldest Message",
                              "filters": [
                                {
                                  "key": "ComponentType",
                                  "operator": 0,
                                  "values": [
                                    "IngestionManager"
                                  ]
                                }
                              ]
                            }
                          ],
                          "gridFormatType": 1,
                          "tileSettings": {
                            "titleContent": {
                              "formatter": 1
                            },
                            "leftContent": {
                              "columnMatch": "Value",
                              "formatter": 1,
                              "numberFormat": {
                                "unit": 24,
                                "options": {
                                  "style": "decimal",
                                  "maximumFractionDigits": 2,
                                  "maximumSignificantDigits": 3
                                }
                              }
                            },
                            "showBorder": false
                          },
                          "showOpenInMe": true,
                          "timeBrushParameterName": "TimeRange",
                          "gridSettings": {
                            "rowLimit": 10000
                          }
                        },
                        "customWidth": "50",
                        "name": "Queue Oldest Message"
                      },
                      {
                        "type": 10,
                        "content": {
                          "chartId": "workbook2bb5ba2f-1f0f-465d-ba5f-9d0fc4863013",
                          "version": "MetricsItem/2.0",
                          "size": 0,
                          "chartType": 2,
                          "resourceType": "microsoft.kusto/clusters",
                          "metricScope": 0,
                          "resourceParameter": "Resource",
                          "resourceIds": [
                            "{Resource}"
                          ],
                          "timeContextFromParameter": "TimeRange",
                          "timeContext": {
                            "durationMs": 0
                          },
                          "metrics": [
                            {
                              "namespace": "microsoft.kusto/clusters",
                              "metric": "microsoft.kusto/clusters-Ingestion health and performance-QueueLength",
                              "aggregation": 4,
                              "splitBy": null,
                              "columnName": "Queue Length"
                            }
                          ],
                          "showOpenInMe": true,
                          "filters": [
                            {
                              "id": "2",
                              "key": "ComponentType",
                              "operator": 0,
                              "values": [
                                "IngestionManager"
                              ]
                            }
                          ],
                          "timeBrushParameterName": "TimeRange",
                          "gridSettings": {
                            "rowLimit": 10000
                          }
                        },
                        "customWidth": "50",
                        "name": "Ingestion queue"
                      }
                    ]
                  },
                  "conditionalVisibility": {
                    "parameterName": "step",
                    "comparison": "isEqualTo",
                    "value": "IngestionManager"
                  },
                  "name": "Ingestion Manager"
                },
                {
                  "type": 12,
                  "content": {
                    "version": "NotebookGroup/1.0",
                    "groupType": "editable",
                    "items": [
                      {
                        "type": 1,
                        "content": {
                          "json": "<div style=\"background-color:rgba(0, 0, 255, 0.04470588); padding:6px 6px 6px 6px\">\r\n<span style=\"font-family: Open Sans; font-weight: 620; font-size: 13px;font-style: bold;\"> What is Engine Storage?\r\n</span><br>\r\nThe Azure Data Explorer Engine Storage stores the ingested data, making it available for query.\r\n</div>\r\n"
                        },
                        "conditionalVisibility": {
                          "parameterName": "ShowHelp",
                          "comparison": "isEqualTo",
                          "value": "Yes"
                        },
                        "name": "text - 2"
                      },
                      {
                        "type": 1,
                        "content": {
                          "json": "<span style=\"font-family: Open Sans; font-weight: 620; font-size: 14px;font-style: bold;\"> Stage latency (avg per database)\r\n</span> <br>Time from when a message is accepted by Azure Data Explorer, until its content is received by the Engine Storage and is available for query."
                        },
                        "customWidth": "50",
                        "name": "text - 13 - Copy - Copy - Copy - Copy - Copy"
                      },
                      {
                        "type": 1,
                        "content": {
                          "json": "<span style=\"font-family: Open Sans; font-weight: 620; font-size: 14px;font-style: bold;\"> Amount of data processed\r\n</span>\r\n<ul>\r\n<li>Blobs received - Number of blobs received from input stream by the Engine Storage.</li>\r\n<li>Blobs processed - Number of blobs processed by the Engine Storage. This data is ready for query.</li>\r\n<li>Blobs dropped - Number of blobs permanently dropped by the Engine Storage. For each such blob, an Ingestion result metric with a failure reason is sent.\r\n</li>\r\n</ul>"
                        },
                        "customWidth": "50",
                        "name": "data processed tile"
                      },
                      {
                        "type": 10,
                        "content": {
                          "chartId": "workbook2bb5ba2f-1f0f-465d-ba5f-9d0fc4863013",
                          "version": "MetricsItem/2.0",
                          "size": 0,
                          "chartType": 2,
                          "resourceType": "microsoft.kusto/clusters",
                          "metricScope": 0,
                          "resourceParameter": "Resource",
                          "resourceIds": [
                            "{Resource}"
                          ],
                          "timeContextFromParameter": "TimeRange",
                          "timeContext": {
                            "durationMs": 8035200000
                          },
                          "metrics": [
                            {
                              "namespace": "microsoft.kusto/clusters",
                              "metric": "microsoft.kusto/clusters-Ingestion health and performance-StageLatency",
                              "aggregation": 4,
                              "splitBy": "Database",
                              "columnName": "Stage Latency"
                            }
                          ],
                          "showOpenInMe": true,
                          "filters": [
                            {
                              "id": "2",
                              "key": "ComponentType",
                              "operator": 0,
                              "values": [
                                "StorageEngine"
                              ]
                            }
                          ],
                          "timeBrushParameterName": "TimeRange",
                          "gridSettings": {
                            "rowLimit": 10000
                          }
                        },
                        "customWidth": "50",
                        "name": "Stage Latency"
                      },
                      {
                        "type": 10,
                        "content": {
                          "chartId": "workbook2bb5ba2f-1f0f-465d-ba5f-9d0fc4863013",
                          "version": "MetricsItem/2.0",
                          "size": 0,
                          "chartType": 2,
                          "resourceType": "microsoft.kusto/clusters",
                          "metricScope": 0,
                          "resourceParameter": "Resource",
                          "resourceIds": [
                            "{Resource}"
                          ],
                          "timeContextFromParameter": "TimeRange",
                          "timeContext": {
                            "durationMs": 8035200000
                          },
                          "metrics": [
                            {
                              "namespace": "microsoft.kusto/clusters",
                              "metric": "microsoft.kusto/clusters-Ingestion health and performance-BlobsReceived",
                              "aggregation": 1,
                              "splitBy": null,
                              "columnName": "Blobs Received"
                            },
                            {
                              "namespace": "microsoft.kusto/clusters",
                              "metric": "microsoft.kusto/clusters-Ingestion health and performance-BlobsProcessed",
                              "aggregation": 1,
                              "columnName": "Blobs Processed"
                            },
                            {
                              "namespace": "microsoft.kusto/clusters",
                              "metric": "microsoft.kusto/clusters-Ingestion health and performance-BlobsDropped",
                              "aggregation": 1,
                              "columnName": "Blobs Dropped"
                            }
                          ],
                          "showOpenInMe": true,
                          "filters": [
                            {
                              "id": "1",
                              "key": "ComponentType",
                              "operator": 0,
                              "values": [
                                "StorageEngine"
                              ]
                            }
                          ],
                          "timeBrushParameterName": "TimeRange",
                          "gridSettings": {
                            "rowLimit": 10000
                          }
                        },
                        "customWidth": "50",
                        "name": "Blobs status"
                      }
                    ]
                  },
                  "conditionalVisibility": {
                    "parameterName": "step",
                    "comparison": "isEqualTo",
                    "value": "EngineStorage"
                  },
                  "name": "Engine storage"
                }
              ]
            },
            "customWidth": "100",
            "name": "Ingestion Process"
          }
        ]
      },
      "name": "IngestionDetailsGroup"
    }
  ],
  "$schema": "https://github.com/Microsoft/Application-Insights-Workbooks/blob/master/schema/workbook.json"
}
