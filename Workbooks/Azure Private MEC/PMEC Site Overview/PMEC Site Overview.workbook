{
  "version": "Notebook/1.0",
  "items": [
    {
      "type": 9,
      "content": {
        "version": "KqlParameterItem/1.0",
        "crossComponentResources": [
          "{pccp}"
        ],
        "parameters": [
          {
            "id": "1830d553-9a94-4f2f-89d4-203cdbbd67b1",
            "version": "KqlParameterItem/1.0",
            "name": "timespan",
            "label": "Timespan",
            "type": 4,
            "isRequired": true,
            "typeSettings": {
              "selectableValues": [
                {
                  "durationMs": 300000
                },
                {
                  "durationMs": 900000
                },
                {
                  "durationMs": 1800000
                },
                {
                  "durationMs": 3600000
                },
                {
                  "durationMs": 14400000
                },
                {
                  "durationMs": 43200000
                },
                {
                  "durationMs": 86400000
                },
                {
                  "durationMs": 172800000
                },
                {
                  "durationMs": 259200000
                },
                {
                  "durationMs": 604800000
                },
                {
                  "durationMs": 1209600000
                },
                {
                  "durationMs": 2419200000
                },
                {
                  "durationMs": 2592000000
                },
                {
                  "durationMs": 5184000000
                },
                {
                  "durationMs": 7776000000
                }
              ],
              "allowCustom": true
            },
            "timeContext": {
              "durationMs": 86400000
            },
            "value": {
              "durationMs": 3600000
            }
          },
          {
            "id": "5fea996a-8057-4839-8cee-2e4734de8e49",
            "version": "KqlParameterItem/1.0",
            "name": "site",
            "label": "Site",
            "type": 5,
            "description": "Select the Mobile Network Site to view",
            "isRequired": true,
            "isHiddenWhenLocked": true,
            "typeSettings": {
              "additionalResourceOptions": [],
              "showDefault": false,
              "componentIdOnly": true
            },
            "timeContext": {
              "durationMs": 86400000
            }
          },
          {
            "id": "c8c68811-cc98-4a0c-8859-db1dc5a5ea35",
            "version": "KqlParameterItem/1.0",
            "name": "mobilenetwork",
            "label": "Mobile Network",
            "type": 5,
            "description": "Select the Mobile Network to view",
            "isRequired": true,
            "query": "resources\r\n| where resourceGroup =~ \"{site:resourceGroup}\"\r\n| extend mobileNetworkName=split(\"{site:id}\", \"/\")[8]\r\n| where id =~ strcat(\"/subscriptions/{site:subscriptionId}/resourceGroups/{site:resourceGroup}/providers/microsoft.mobileNetwork/mobilenetworks/\", mobileNetworkName)\r\n| project id, selected=true",
            "crossComponentResources": [
              "{site}"
            ],
            "isHiddenWhenLocked": true,
            "typeSettings": {
              "additionalResourceOptions": [],
              "showDefault": false
            },
            "timeContext": {
              "durationMs": 86400000
            },
            "queryType": 1,
            "resourceType": "microsoft.resourcegraph/resources"
          },
          {
            "id": "a60083e2-69aa-4e66-84c0-0432dac9fae0",
            "version": "KqlParameterItem/1.0",
            "name": "pccp",
            "label": "Packet Core",
            "type": 5,
            "isRequired": true,
            "query": "resources\r\n| where type =~ \"microsoft.mobilenetwork/packetcorecontrolplanes\"\r\n| where properties.sites[0].id =~ \"{site}\"\r\n| project id, selected=\"true\"",
            "crossComponentResources": [
              "{site}"
            ],
            "typeSettings": {
              "additionalResourceOptions": [],
              "showDefault": false
            },
            "queryType": 1,
            "resourceType": "microsoft.resourcegraph/resources"
          },
          {
            "id": "e4eab5c1-b34d-4c73-af83-1b3dedeeaf37",
            "version": "KqlParameterItem/1.0",
            "name": "ase",
            "type": 5,
            "query": "resources\r\n| where id =~ \"{pccp:id}\"\r\n| project id = properties.platform.azureStackEdgeDevice.id, selected=\"true\"",
            "crossComponentResources": [
              "value::all"
            ],
            "isHiddenWhenLocked": true,
            "typeSettings": {
              "additionalResourceOptions": []
            },
            "queryType": 1,
            "resourceType": "microsoft.resourcegraph/resources"
          },
          {
            "id": "5a9431ad-55d9-4711-a482-552add6e428b",
            "version": "KqlParameterItem/1.0",
            "name": "kubernetesCluster",
            "type": 5,
            "query": "resources\r\n| where id =~ \"{pccp:id}\"\r\n| extend customLocationId = tostring(properties.platform.customLocation.id)\r\n| join (\r\n    resources\r\n    | where type =~ \"Microsoft.ExtendedLocation/customLocations\"\r\n    | extend clusterId = tostring(properties.hostResourceId)\r\n    | extend customLocationId = id\r\n) on customLocationId\r\n| project id=clusterId, selected=\"true\"",
            "crossComponentResources": [
              "{pccp}"
            ],
            "isHiddenWhenLocked": true,
            "typeSettings": {
              "additionalResourceOptions": [],
              "showDefault": false
            },
            "timeContext": {
              "durationMs": 86400000
            },
            "queryType": 1,
            "resourceType": "microsoft.resourcegraph/resources"
          },
          {
            "version": "KqlParameterItem/1.0",
            "name": "pcmeExtensionId",
            "type": 5,
            "isRequired": true,
            "query": "resources\r\n| where id =~ \"{pccp:id}\"\r\n| extend customLocationId = tostring(properties.platform.customLocation.id)\r\n| join (\r\n    resources\r\n    | where type =~ \"Microsoft.ExtendedLocation/customLocations\"\r\n    | extend clusterId = tostring(properties.hostResourceId)\r\n    | extend customLocationId = id\r\n) on customLocationId\r\n| project id=strcat(clusterId, \"/providers/Microsoft.KubernetesConfiguration/extensions/packet-core-monitor\"), selected=\"true\"",
            "crossComponentResources": [
              "{kubernetesCluster}"
            ],
            "isHiddenWhenLocked": true,
            "typeSettings": {
              "additionalResourceOptions": [],
              "showDefault": false
            },
            "timeContext": {
              "durationMs": 86400000
            },
            "queryType": 1,
            "resourceType": "microsoft.resourcegraph/resources"
          },
          {
            "id": "b91cdf84-cf8a-4254-82dc-4ebbb66ea0f0",
            "version": "KqlParameterItem/1.0",
            "name": "siteLowerCase",
            "type": 1,
            "query": "resources\r\n| where id =~ \"{site:id}\"\r\n| project tolower(id)",
            "crossComponentResources": [
              "{site}"
            ],
            "isHiddenWhenLocked": true,
            "timeContext": {
              "durationMs": 86400000
            },
            "queryType": 1,
            "resourceType": "microsoft.resourcegraph/resources"
          },
          {
            "version": "KqlParameterItem/1.0",
            "name": "subscriberLimit",
            "type": 1,
            "query": "resources\r\n| where id =~ \"{pccp:id}\"\r\n| extend sku=tostring(properties.sku)\r\n| extend skuMaxSubscribers = iff(sku==\"G0\", \"20\", iff(sku==\"G1\", \"100\", iff(sku==\"G2\", \"200\", iff(sku==\"G5\", \"500\", iff(sku==\"G10\", \"1000\", \"Unknown\")))))\r\n| project [\"Subscriber Limit\"]=skuMaxSubscribers",
            "crossComponentResources": [
              "{site}"
            ],
            "isHiddenWhenLocked": true,
            "timeContext": {
              "durationMs": 86400000
            },
            "queryType": 1,
            "resourceType": "microsoft.resourcegraph/resources",
            "id": "e604131a-ea27-4226-9f65-047ed592d9b6"
          },
          {
            "id": "a973f96b-6316-4331-bd03-f13d3b56e586",
            "version": "KqlParameterItem/1.0",
            "name": "subscriberLimitWarning",
            "type": 1,
            "isHiddenWhenLocked": true,
            "criteriaData": [
              {
                "criteriaContext": {
                  "operator": "Default",
                  "resultValType": "expression",
                  "resultVal": "{subscriberLimit} * 0.8"
                }
              }
            ],
            "timeContext": {
              "durationMs": 86400000
            }
          },
          {
            "id": "d46247c9-1fd0-4b4a-ab25-390fb9ca474a",
            "version": "KqlParameterItem/1.0",
            "name": "nodeBLimit",
            "type": 1,
            "query": "resources\r\n| where id =~ \"{pccp:id}\"\r\n| extend sku=tostring(properties.sku)\r\n| extend skuMaxRans = iff(sku==\"G0\", \"2\", iff(sku==\"G1\", \"5\", iff(sku==\"G2\", \"10\", iff(sku==\"G5\", \"999999\", iff(sku==\"G10\", \"999999\", \"Unknown\")))))\r\n| project [\"Connected NodeBs Limit\"]=skuMaxRans",
            "crossComponentResources": [
              "{site}"
            ],
            "isHiddenWhenLocked": true,
            "timeContext": {
              "durationMs": 86400000
            },
            "queryType": 1,
            "resourceType": "microsoft.resourcegraph/resources"
          },
          {
            "id": "80d9a980-8aa3-4fce-88cf-d28ec0fa8f4e",
            "version": "KqlParameterItem/1.0",
            "name": "nodeBLimitText",
            "type": 1,
            "isHiddenWhenLocked": true,
            "criteriaData": [
              {
                "criteriaContext": {
                  "leftOperand": "nodeBLimit",
                  "operator": "==",
                  "rightValType": "static",
                  "rightVal": "999999",
                  "resultValType": "static",
                  "resultVal": " (Unlimited)"
                }
              },
              {
                "criteriaContext": {
                  "operator": "Default",
                  "resultValType": "static",
                  "resultVal": " / {nodeBLimit}"
                }
              }
            ],
            "timeContext": {
              "durationMs": 86400000
            }
          },
          {
            "id": "f1f8af0c-3f5c-4f55-a46e-621291bd494d",
            "version": "KqlParameterItem/1.0",
            "name": "nodeBLimitWarning",
            "type": 1,
            "isHiddenWhenLocked": true,
            "criteriaData": [
              {
                "criteriaContext": {
                  "operator": "Default",
                  "resultValType": "expression",
                  "resultVal": "{nodeBLimit} * 0.8"
                }
              }
            ],
            "timeContext": {
              "durationMs": 86400000
            }
          }
        ],
        "style": "pills",
        "queryType": 1,
        "resourceType": "microsoft.resourcegraph/resources"
      },
      "name": "parameters - 5"
    },
    {
      "type": 11,
      "content": {
        "version": "LinkItem/1.0",
        "style": "tabs",
        "links": [
          {
            "id": "71387e0c-1aef-470d-9c2b-8547d436bd83",
            "cellValue": "tab",
            "linkTarget": "parameter",
            "linkLabel": "Overview",
            "subTarget": "overview",
            "style": "link"
          },
          {
            "id": "b0410882-1d0e-4d3f-b898-6580eaf8e54d",
            "cellValue": "tab",
            "linkTarget": "parameter",
            "linkLabel": "Subscriber Provisioning Information",
            "subTarget": "provisioningInfo",
            "style": "link"
          },
          {
            "id": "0fa1acdc-4410-4326-9f47-8520c97ef13a",
            "cellValue": "tab",
            "linkTarget": "parameter",
            "linkLabel": "Packet Core Control Plane Procedures",
            "subTarget": "pccpMetrics",
            "style": "link"
          },
          {
            "id": "45388586-1709-47ac-97e6-96bbbe374ff5",
            "cellValue": "tab",
            "linkTarget": "parameter",
            "linkLabel": "Azure Stack Edge Status",
            "subTarget": "aseStatus",
            "style": "link"
          }
        ]
      },
      "name": "links - 10"
    },
    {
      "type": 12,
      "content": {
        "version": "NotebookGroup/1.0",
        "groupType": "editable",
        "items": [
          {
            "type": 3,
            "content": {
              "version": "KqlItem/1.0",
              "query": "resources\r\n| where id == \"{mobilenetwork}\"\r\n| extend plmnid = todynamic(properties.publicLandMobileNetworkIdentifier)\r\n| extend MCC = tostring(plmnid.mcc)\r\n| extend MNC = tostring(plmnid.mnc)\r\n| extend plmnid_str = strcat(MCC, \" \", MNC)\r\n| project id, plmnid=\"PLMN ID\", plmnid_str",
              "size": 4,
              "queryType": 1,
              "resourceType": "microsoft.resourcegraph/resources",
              "crossComponentResources": [
                "{mobilenetwork}"
              ],
              "visualization": "tiles",
              "tileSettings": {
                "titleContent": {
                  "columnMatch": "plmnid",
                  "formatter": 1,
                  "tooltipFormat": {
                    "tooltip": "Public Land Mobile Network Identifier"
                  }
                },
                "subtitleContent": {
                  "columnMatch": "id",
                  "formatter": 13,
                  "formatOptions": {
                    "linkColumn": "id",
                    "linkTarget": "Resource",
                    "linkIsContextBlade": false,
                    "showIcon": true
                  }
                },
                "leftContent": {
                  "columnMatch": "plmnid_str",
                  "formatter": 1,
                  "numberFormat": {
                    "unit": 0,
                    "options": {
                      "style": "decimal"
                    }
                  }
                },
                "showBorder": false,
                "size": "auto"
              }
            },
            "customWidth": "0",
            "name": "query - 0"
          },
          {
            "type": 3,
            "content": {
              "version": "KqlItem/1.0",
              "query": "resources\r\n| where type =~ \"Microsoft.mobileNetwork/mobilenetworks/slices\"\r\n| where id startswith \"{mobilenetwork}/slices/\"\r\n| extend subtitle = \"SST | SD\"\r\n| extend sst=properties.snssai.sst\r\n| extend sd=properties.snssai.sd",
              "size": 4,
              "title": "Network Slices",
              "queryType": 1,
              "resourceType": "microsoft.resourcegraph/resources",
              "crossComponentResources": [
                "{mobilenetwork}"
              ],
              "visualization": "tiles",
              "tileSettings": {
                "titleContent": {
                  "columnMatch": "id",
                  "formatter": 13,
                  "formatOptions": {
                    "linkTarget": "Resource",
                    "linkIsContextBlade": false,
                    "showIcon": true
                  },
                  "tooltipFormat": {
                    "tooltip": "A Network Slice is an isolated end-to-end network within this instance of Packet Core"
                  }
                },
                "subtitleContent": {
                  "columnMatch": "subtitle",
                  "formatter": 1,
                  "tooltipFormat": {
                    "tooltip": "Slice/service type (SST), Slice differentiator (SD)."
                  }
                },
                "leftContent": {
                  "columnMatch": "sst",
                  "formatter": 1,
                  "tooltipFormat": {
                    "tooltip": "SST"
                  }
                },
                "rightContent": {
                  "columnMatch": "sd",
                  "formatter": 1,
                  "tooltipFormat": {
                    "tooltip": "SD"
                  }
                },
                "showBorder": false,
                "size": "auto"
              }
            },
            "customWidth": "0",
            "name": "query - 8"
          },
          {
            "type": 12,
            "content": {
              "version": "NotebookGroup/1.0",
              "groupType": "editable",
              "title": "Packet Core Status",
              "items": [
                {
                  "type": 3,
                  "content": {
                    "version": "KqlItem/1.0",
                    "query": "resources\r\n| where id =~ \"{pccp:id}\"\r\n| extend sku=tostring(properties.sku)\r\n| extend skuMaxSubscribers = iff(sku==\"G0\", \"20\", iff(sku==\"G1\", \"100\", iff(sku==\"G2\", \"200\", iff(sku==\"G5\", \"500\", iff(sku==\"G10\", \"1000\", \"Unknown\")))))\r\n| extend skuMaxRans = iff(sku==\"G0\", \"2\", iff(sku==\"G1\", \"5\", iff(sku==\"G2\", \"10\", iff(sku==\"G5\", \"Unlimited\", iff(sku==\"G10\", \"Unlimited\", \"Unknown\")))))\r\n| extend skuMaxThroughput = iff(sku==\"G0\", \"100 Mbps\", iff(sku==\"G1\", \"1 Gbps\", iff(sku==\"G2\", \"2 Gbps\", iff(sku==\"G5\", \"5 Gbps\", iff(sku==\"G10\", \"10 Gbps\", \"Unknown\")))))\r\n| project [\"Packet Core\"]=id, [\"Core Type\"]=properties.coreNetworkTechnology, [\"Installation State\"]=properties.installation.state, [\"Version\"]=properties.version, [\"Service Plan\"]=sku, [\"Subscriber Limit\"]=skuMaxSubscribers, [\"Connected NodeBs Limit\"]=skuMaxRans, [\"Throughput Limit\"]=skuMaxThroughput",
                    "size": 4,
                    "queryType": 1,
                    "resourceType": "microsoft.resourcegraph/resources",
                    "crossComponentResources": [
                      "{pccp}"
                    ],
                    "gridSettings": {
                      "formatters": [
                        {
                          "columnMatch": "Packet Core",
                          "formatter": 0,
                          "tooltipFormat": {
                            "tooltip": "Name of the Packet Core Control Plane resource"
                          }
                        },
                        {
                          "columnMatch": "Core Type",
                          "formatter": 1,
                          "tooltipFormat": {
                            "tooltip": " The core network technology generation (5G core, EPC / 4G core or EPC / 4G + 5G core)."
                          }
                        },
                        {
                          "columnMatch": "Installation State",
                          "formatter": 18,
                          "formatOptions": {
                            "thresholdsOptions": "icons",
                            "thresholdsGrid": [
                              {
                                "operator": "==",
                                "thresholdValue": "Upgrading",
                                "representation": "pending",
                                "text": "{0}{1}"
                              },
                              {
                                "operator": "==",
                                "thresholdValue": "Updating",
                                "representation": "pending",
                                "text": "{0}{1}"
                              },
                              {
                                "operator": "==",
                                "thresholdValue": "Uninstalling",
                                "representation": "pending",
                                "text": "{0}{1}"
                              },
                              {
                                "operator": "==",
                                "thresholdValue": "Uninstalled",
                                "representation": "stopped",
                                "text": "{0}{1}"
                              },
                              {
                                "operator": "==",
                                "thresholdValue": "RollingBack",
                                "representation": "pending",
                                "text": "{0}{1}"
                              },
                              {
                                "operator": "==",
                                "thresholdValue": "Reinstalling",
                                "representation": "pending",
                                "text": "{0}{1}"
                              },
                              {
                                "operator": "==",
                                "thresholdValue": "Installing",
                                "representation": "pending",
                                "text": "{0}{1}"
                              },
                              {
                                "operator": "==",
                                "thresholdValue": "Installed",
                                "representation": "success",
                                "text": "{0}{1}"
                              },
                              {
                                "operator": "==",
                                "thresholdValue": "Failed",
                                "representation": "failed",
                                "text": "{0}{1}"
                              },
                              {
                                "operator": "is Empty",
                                "representation": "disabled",
                                "text": "{0} Not Installed"
                              },
                              {
                                "operator": "Default",
                                "thresholdValue": null,
                                "representation": null,
                                "text": "{0}{1}"
                              }
                            ]
                          },
                          "tooltipFormat": {
                            "tooltip": "Indicates whether installation state of the packet core is Installed, Installing, Reinstalling, RollingBack, Uninstalled, Uninstalling, Updating, Upgrading, Failed"
                          }
                        },
                        {
                          "columnMatch": "Version",
                          "formatter": 1,
                          "tooltipFormat": {
                            "tooltip": "Version of packet core software"
                          }
                        },
                        {
                          "columnMatch": "Service Plan",
                          "formatter": 0,
                          "tooltipFormat": {
                            "tooltip": "The service plan package purchased for this instance of packet core. This affects maximum throughput, subscriber limit and NodeB limit."
                          }
                        },
                        {
                          "columnMatch": "Subscriber Limit",
                          "formatter": 0,
                          "tooltipFormat": {
                            "tooltip": "The maximum number of SIMs that can connect across this network, without additional charge."
                          }
                        },
                        {
                          "columnMatch": "Connected NodeBs Limit",
                          "formatter": 0,
                          "tooltipFormat": {
                            "tooltip": "Maximum number of Radio Access Network nodes (eNB and gNB) connected to this network, without additional charge."
                          }
                        },
                        {
                          "columnMatch": "Throughput Limit",
                          "formatter": 0,
                          "tooltipFormat": {
                            "tooltip": "Maximum provisioned capacity measured in throughput per second of Uplink plus Downlink of user plane traffic through this packet core instance, , without additional charge."
                          }
                        },
                        {
                          "columnMatch": "Platform",
                          "formatter": 0,
                          "tooltipFormat": {
                            "tooltip": "The platform type where packet core is deployed"
                          }
                        },
                        {
                          "columnMatch": "Billing Plan",
                          "formatter": 1
                        },
                        {
                          "columnMatch": "ASE",
                          "formatter": 13,
                          "formatOptions": {
                            "linkTarget": "Resource",
                            "linkIsContextBlade": false,
                            "showIcon": true
                          }
                        },
                        {
                          "columnMatch": "Kubernetes Cluster",
                          "formatter": 13,
                          "formatOptions": {
                            "linkTarget": "Resource",
                            "linkIsContextBlade": false,
                            "showIcon": true
                          }
                        }
                      ]
                    }
                  },
                  "name": "PCCP"
                },
                {
                  "type": 10,
                  "content": {
                    "chartId": "workbookf8dd8de0-d1a7-46eb-a350-7ef588c92788",
                    "version": "MetricsItem/2.0",
                    "size": 4,
                    "chartType": -1,
                    "resourceType": "microsoft.kubernetes/connectedclusters/providers/extensions",
                    "metricScope": 0,
                    "resourceParameter": "pcmeExtensionId",
                    "resourceIds": [
                      "{pcmeExtensionId}"
                    ],
                    "timeContext": {
                      "durationMs": 120000
                    },
                    "timeGrain": "PT1M",
                    "metrics": [
                      {
                        "namespace": "microsoft.kubernetesconfiguration/extensions",
                        "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-ProvisionedSubscribers",
                        "aggregation": 3,
                        "columnName": "Provisioned Subscribers"
                      }
                    ],
                    "gridFormatType": 1,
                    "tileSettings": {
                      "titleContent": {
                        "columnMatch": "Metric",
                        "formatter": 1
                      },
                      "leftContent": {
                        "columnMatch": "Value",
                        "formatter": 18,
                        "formatOptions": {
                          "thresholdsOptions": "colors",
                          "thresholdsGrid": [
                            {
                              "operator": ">",
                              "thresholdValue": "{subscriberLimit}",
                              "representation": "redBright",
                              "text": "{0} / {subscriberLimit}"
                            },
                            {
                              "operator": ">",
                              "thresholdValue": "{subscriberLimitWarning}",
                              "representation": "orange",
                              "text": "{0} / {subscriberLimit}"
                            },
                            {
                              "operator": "==",
                              "thresholdValue": "0",
                              "representation": "redBright",
                              "text": "{0} / {subscriberLimit}"
                            },
                            {
                              "operator": "Default",
                              "thresholdValue": null,
                              "text": "{0} / {subscriberLimit}"
                            }
                          ]
                        },
                        "numberFormat": {
                          "unit": 0,
                          "options": {
                            "style": "decimal"
                          }
                        },
                        "tooltipFormat": {
                          "tooltip": "Number of provisioned subscribers out of subscriber limit"
                        }
                      },
                      "showBorder": false
                    },
                    "gridSettings": {
                      "formatters": [
                        {
                          "columnMatch": "Subscription",
                          "formatter": 5
                        },
                        {
                          "columnMatch": "Name",
                          "formatter": 13,
                          "formatOptions": {
                            "linkTarget": "Resource"
                          }
                        },
                        {
                          "columnMatch": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs Timeline",
                          "formatter": 5
                        },
                        {
                          "columnMatch": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs",
                          "formatter": 1,
                          "numberFormat": {
                            "unit": 0,
                            "options": null
                          }
                        }
                      ],
                      "rowLimit": 10000,
                      "labelSettings": [
                        {
                          "columnId": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs",
                          "label": "Connected NodeBs (Sum)"
                        },
                        {
                          "columnId": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs Timeline",
                          "label": "Connected NodeBs Timeline"
                        }
                      ]
                    }
                  },
                  "customWidth": "0",
                  "conditionalVisibility": {
                    "parameterName": "pcmeExtensionId",
                    "comparison": "isNotEqualTo"
                  },
                  "name": "metric - 2 - Copy"
                },
                {
                  "type": 10,
                  "content": {
                    "chartId": "workbookf8dd8de0-d1a7-46eb-a350-7ef588c92788",
                    "version": "MetricsItem/2.0",
                    "size": 4,
                    "chartType": -1,
                    "resourceType": "microsoft.kubernetes/connectedclusters/providers/extensions",
                    "metricScope": 0,
                    "resourceParameter": "pcmeExtensionId",
                    "resourceIds": [
                      "{pcmeExtensionId}"
                    ],
                    "timeContext": {
                      "durationMs": 120000
                    },
                    "timeGrain": "PT1M",
                    "metrics": [
                      {
                        "namespace": "microsoft.kubernetesconfiguration/extensions",
                        "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs",
                        "aggregation": 3,
                        "columnName": "Connected NodeBs"
                      }
                    ],
                    "gridFormatType": 1,
                    "tileSettings": {
                      "titleContent": {
                        "columnMatch": "Metric",
                        "formatter": 1
                      },
                      "leftContent": {
                        "columnMatch": "Value",
                        "formatter": 18,
                        "formatOptions": {
                          "thresholdsOptions": "colors",
                          "thresholdsGrid": [
                            {
                              "operator": ">",
                              "thresholdValue": "{nodeBLimit}",
                              "representation": "redBright",
                              "text": "{0} {nodeBLimitText}"
                            },
                            {
                              "operator": ">",
                              "thresholdValue": "{nodeBLimitWarning}",
                              "representation": "orange",
                              "text": "{0} {nodeBLimitText}"
                            },
                            {
                              "operator": "==",
                              "thresholdValue": "0",
                              "representation": "redBright",
                              "text": "{0} {nodeBLimitText}"
                            },
                            {
                              "operator": "Default",
                              "thresholdValue": null,
                              "text": "{0} {nodeBLimitText}"
                            }
                          ]
                        },
                        "numberFormat": {
                          "unit": 17,
                          "options": {
                            "style": "decimal",
                            "useGrouping": false
                          },
                          "emptyValCustomText": "Error: metric not found"
                        },
                        "tooltipFormat": {
                          "tooltip": "Number of connected NodeBs out of NodeBs Limit"
                        }
                      },
                      "showBorder": false
                    },
                    "gridSettings": {
                      "formatters": [
                        {
                          "columnMatch": "Subscription",
                          "formatter": 5
                        },
                        {
                          "columnMatch": "Name",
                          "formatter": 13,
                          "formatOptions": {
                            "linkTarget": "Resource"
                          }
                        },
                        {
                          "columnMatch": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs Timeline",
                          "formatter": 5
                        },
                        {
                          "columnMatch": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs",
                          "formatter": 1,
                          "numberFormat": {
                            "unit": 0,
                            "options": null
                          }
                        }
                      ],
                      "rowLimit": 10000,
                      "labelSettings": [
                        {
                          "columnId": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs",
                          "label": "Connected NodeBs (Sum)"
                        },
                        {
                          "columnId": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs Timeline",
                          "label": "Connected NodeBs Timeline"
                        }
                      ]
                    }
                  },
                  "customWidth": "0",
                  "conditionalVisibility": {
                    "parameterName": "pcmeExtensionId",
                    "comparison": "isNotEqualTo"
                  },
                  "name": "metric - 2 - Copy - Copy"
                },
                {
                  "type": 10,
                  "content": {
                    "chartId": "workbookf8dd8de0-d1a7-46eb-a350-7ef588c92788",
                    "version": "MetricsItem/2.0",
                    "size": 4,
                    "chartType": -1,
                    "resourceType": "microsoft.kubernetes/connectedclusters/providers/extensions",
                    "metricScope": 0,
                    "resourceParameter": "pcmeExtensionId",
                    "resourceIds": [
                      "{pcmeExtensionId}"
                    ],
                    "timeContext": {
                      "durationMs": 120000
                    },
                    "timeGrain": "PT1M",
                    "metrics": [
                      {
                        "namespace": "microsoft.kubernetesconfiguration/extensions",
                        "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-RegisteredSubscribers",
                        "aggregation": 3
                      },
                      {
                        "namespace": "microsoft.kubernetesconfiguration/extensions",
                        "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-RegisteredSubscribersConnected",
                        "aggregation": 3,
                        "columnName": "Connected Subscribers"
                      }
                    ],
                    "gridFormatType": 1,
                    "tileSettings": {
                      "titleContent": {
                        "columnMatch": "Metric",
                        "formatter": 1
                      },
                      "leftContent": {
                        "columnMatch": "Value",
                        "formatter": 18,
                        "formatOptions": {
                          "thresholdsOptions": "colors",
                          "thresholdsGrid": [
                            {
                              "operator": "==",
                              "thresholdValue": "0",
                              "representation": "redBright",
                              "text": "{0}{1}"
                            },
                            {
                              "operator": "Default",
                              "thresholdValue": null,
                              "text": "{0}{1}"
                            }
                          ]
                        },
                        "numberFormat": {
                          "unit": 17,
                          "options": {
                            "style": "decimal",
                            "useGrouping": false
                          },
                          "emptyValCustomText": "Error: metric not found"
                        },
                        "tooltipFormat": {
                          "tooltip": "Number of registered/connected subscribers"
                        }
                      },
                      "showBorder": false
                    },
                    "gridSettings": {
                      "formatters": [
                        {
                          "columnMatch": "Subscription",
                          "formatter": 5
                        },
                        {
                          "columnMatch": "Name",
                          "formatter": 13,
                          "formatOptions": {
                            "linkTarget": "Resource"
                          }
                        },
                        {
                          "columnMatch": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs Timeline",
                          "formatter": 5
                        },
                        {
                          "columnMatch": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs",
                          "formatter": 1,
                          "numberFormat": {
                            "unit": 0,
                            "options": null
                          }
                        }
                      ],
                      "rowLimit": 10000,
                      "labelSettings": [
                        {
                          "columnId": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs",
                          "label": "Connected NodeBs (Sum)"
                        },
                        {
                          "columnId": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs Timeline",
                          "label": "Connected NodeBs Timeline"
                        }
                      ]
                    }
                  },
                  "customWidth": "0",
                  "conditionalVisibility": {
                    "parameterName": "pcmeExtensionId",
                    "comparison": "isNotEqualTo"
                  },
                  "name": "metric - 2"
                }
              ]
            },
            "name": "Packet Core Status",
            "styleSettings": {
              "showBorder": true
            }
          },
          {
            "type": 3,
            "content": {
              "version": "KqlItem/1.0",
              "query": "alertsmanagementresources\r\n| where type == 'microsoft.alertsmanagement/alerts'\r\n| extend severity = tostring(properties[\"essentials\"][\"severity\"])\r\n| extend startTime = properties[\"essentials\"][\"startDateTime\"]\r\n| extend description = properties[\"essentials\"][\"description\"]\r\n| extend condition = properties[\"essentials\"][\"monitorCondition\"]\r\n| where properties[\"essentials\"][\"targetResource\"] in~ (\"{ase}\", \"{pccp}\", \"{kubernetesCluster}\")\r\n| where condition == \"Fired\" or startTime {timespan:query}\r\n| project [\"Alert Time\"]=todatetime(startTime),[\"Severity\"]=severity,[\"Alert\"]=name,[\"Description\"]=description, [\"Alert Condition\"]=condition, [\"Resource\"]=tostring(properties[\"essentials\"][\"targetResource\"])\r\n| order by [\"Alert Time\"] desc",
              "size": 4,
              "title": "All Alerts",
              "noDataMessage": "No active alerts",
              "noDataMessageStyle": 3,
              "queryType": 1,
              "resourceType": "microsoft.resourcegraph/resources",
              "gridSettings": {
                "formatters": [
                  {
                    "columnMatch": "Alert Time",
                    "formatter": 6,
                    "dateFormat": {
                      "showUtcTime": null,
                      "formatName": null
                    }
                  },
                  {
                    "columnMatch": "Severity",
                    "formatter": 18,
                    "formatOptions": {
                      "thresholdsOptions": "icons",
                      "thresholdsGrid": [
                        {
                          "operator": "==",
                          "thresholdValue": "Sev0",
                          "representation": "Sev0",
                          "text": "0 - Critical"
                        },
                        {
                          "operator": "==",
                          "thresholdValue": "Sev1",
                          "representation": "Sev1",
                          "text": "1 - Error"
                        },
                        {
                          "operator": "==",
                          "thresholdValue": "Sev2",
                          "representation": "Sev2",
                          "text": "2 - Warning"
                        },
                        {
                          "operator": "==",
                          "thresholdValue": "Sev3",
                          "representation": "Sev3",
                          "text": "3 - Informational"
                        },
                        {
                          "operator": "==",
                          "thresholdValue": "Sev4",
                          "representation": "Sev4",
                          "text": "4 - Verbose"
                        },
                        {
                          "operator": "Default",
                          "thresholdValue": null,
                          "representation": "1",
                          "text": "{0}{1}"
                        }
                      ]
                    }
                  },
                  {
                    "columnMatch": "Description",
                    "formatter": 1
                  },
                  {
                    "columnMatch": "Alert Condition",
                    "formatter": 18,
                    "formatOptions": {
                      "thresholdsOptions": "icons",
                      "thresholdsGrid": [
                        {
                          "operator": "==",
                          "thresholdValue": "Resolved",
                          "representation": "success",
                          "text": "{0}{1}"
                        },
                        {
                          "operator": "==",
                          "thresholdValue": "Fired",
                          "representation": "warning",
                          "text": "{0}{1}"
                        },
                        {
                          "operator": "Default",
                          "thresholdValue": null,
                          "representation": "success",
                          "text": "{0}{1}"
                        }
                      ]
                    }
                  },
                  {
                    "columnMatch": "Start Time",
                    "formatter": 6
                  }
                ],
                "rowLimit": 50
              }
            },
            "name": "Alerts"
          },
          {
            "type": 3,
            "content": {
              "version": "KqlItem/1.0",
              "query": "resources\r\n| where type =~ \"Microsoft.DataBoxEdge/dataBoxEdgeDevices\"\r\n| where id =~ \"{ase}\"\r\n| project [\"ASE\"]=id, [\"Resource Group\"] = strcat(\"/subscriptions/\", subscriptionId, \"/resourceGroups/\", resourceGroup), [\"Status\"]=properties.dataBoxEdgeDeviceStatus, [\"Version\"]=properties.deviceSoftwareVersion",
              "size": 4,
              "queryType": 1,
              "resourceType": "microsoft.resourcegraph/resources",
              "crossComponentResources": [
                "{ase}"
              ],
              "gridSettings": {
                "formatters": [
                  {
                    "columnMatch": "ASE",
                    "formatter": 0,
                    "tooltipFormat": {
                      "tooltip": "Azure Stack Edge resource on which this instance of packet core is running."
                    }
                  },
                  {
                    "columnMatch": "Resource Group",
                    "formatter": 14,
                    "formatOptions": {
                      "linkTarget": "Resource",
                      "showIcon": true
                    },
                    "tooltipFormat": {
                      "tooltip": "Resource group in which Azure Stack Edge device resource is held"
                    }
                  },
                  {
                    "columnMatch": "Status",
                    "formatter": 18,
                    "formatOptions": {
                      "thresholdsOptions": "icons",
                      "thresholdsGrid": [
                        {
                          "operator": "==",
                          "thresholdValue": "Online",
                          "representation": "success",
                          "text": "{0}{1}"
                        },
                        {
                          "operator": "==",
                          "thresholdValue": "Disconnected",
                          "representation": "info",
                          "text": "{0}{1}"
                        },
                        {
                          "operator": "==",
                          "thresholdValue": "Maintenance",
                          "representation": "warning",
                          "text": "{0}{1}"
                        },
                        {
                          "operator": "==",
                          "thresholdValue": "NeedsAttention",
                          "representation": "critical",
                          "text": "{0}{1}"
                        },
                        {
                          "operator": "==",
                          "thresholdValue": "Offline",
                          "representation": "unknown",
                          "text": "{0}{1}"
                        },
                        {
                          "operator": "==",
                          "thresholdValue": "PartiallyDisconnected",
                          "representation": "info",
                          "text": "{0}{1}"
                        },
                        {
                          "operator": "==",
                          "thresholdValue": "ReadyToSetup",
                          "representation": "info",
                          "text": "{0}{1}"
                        },
                        {
                          "operator": "Default",
                          "thresholdValue": null,
                          "representation": "success",
                          "text": "{0}{1}"
                        }
                      ]
                    },
                    "tooltipFormat": {
                      "tooltip": "Inidicates whether ASE decvice is Online, Disconnected, Undergoing Maintenance, Needs Attention, Offline, Partially Disconnected or Ready To Setup"
                    }
                  },
                  {
                    "columnMatch": "Version",
                    "formatter": 1,
                    "tooltipFormat": {
                      "tooltip": "Current software version"
                    }
                  }
                ]
              }
            },
            "conditionalVisibility": {
              "parameterName": "ase",
              "comparison": "isNotEqualTo"
            },
            "name": "query - 0 - Copy"
          },
          {
            "type": 3,
            "content": {
              "version": "KqlItem/1.0",
              "query": "{\"version\":\"AzureHealthQuery/1.0\",\"queryType\":\"Detailed\"}",
              "size": 4,
              "noDataMessageStyle": 5,
              "queryType": 4,
              "resourceType": "{kubernetesCluster}",
              "crossComponentResources": [
                "{kubernetesCluster}"
              ],
              "gridSettings": {
                "formatters": [
                  {
                    "columnMatch": "Name",
                    "formatter": 0,
                    "tooltipFormat": {
                      "tooltip": "Kubernetes cluster on which this instance of packet core is running."
                    }
                  },
                  {
                    "columnMatch": "Availability state",
                    "formatter": 11,
                    "tooltipFormat": {
                      "tooltip": "Indicates availability of Kubernetes cluster"
                    }
                  },
                  {
                    "columnMatch": "Subscription",
                    "formatter": 5
                  }
                ],
                "labelSettings": [
                  {
                    "columnId": "Name",
                    "label": "Kubernetes cluster"
                  }
                ]
              },
              "tileSettings": {
                "showBorder": false
              }
            },
            "conditionalVisibility": {
              "parameterName": "kubernetesCluster",
              "comparison": "isNotEqualTo",
              "value": ""
            },
            "name": "clusterHealth"
          },
          {
            "type": 3,
            "content": {
              "version": "KqlItem/1.0",
              "query": "resources\r\n| where type =~ \"microsoft.mobilenetwork/packetcorecontrolplanes/packetcoredataplanes/attacheddatanetworks\"\r\n| where id startswith \"{pccp}\"\r\n| extend dynamicUePool=properties.userEquipmentAddressPoolPrefix[0]\r\n| extend staticUePool=properties.userEquipmentStaticAddressPoolPrefix[0]\r\n| extend dynamicUeSuffix = toint(split(dynamicUePool, \"/\", 1)[0])\r\n| extend staticUeSuffix = toint(split(staticUePool, \"/\", 1)[0])\r\n| extend dynamicUePoolSize = pow(2, 32-dynamicUeSuffix)\r\n| extend staticUePoolSize = pow(2, 32-staticUeSuffix)\r\n| project [\"Attached Data Network\"]=id, [\"DNN\"]=name, [\"NAPT\"]=properties.naptConfiguration.enabled, [\"Dynamic UE IP pool\"]=dynamicUePool, [\"Dynamic UE Pool size\"]=dynamicUePoolSize, [\"Static UE IP pool\"]=staticUePool, [\"Static UE Pool size\"]=staticUePoolSize",
              "size": 1,
              "title": "Attached Data Networks",
              "queryType": 1,
              "resourceType": "microsoft.resourcegraph/resources",
              "crossComponentResources": [
                "{pccp}"
              ],
              "gridSettings": {
                "formatters": [
                  {
                    "columnMatch": "Attached Data Network",
                    "formatter": 13,
                    "formatOptions": {
                      "linkTarget": "Resource",
                      "showIcon": true
                    }
                  },
                  {
                    "columnMatch": "DNN",
                    "formatter": 1,
                    "tooltipFormat": {
                      "tooltip": "Data network name"
                    }
                  },
                  {
                    "columnMatch": "NAPT",
                    "formatter": 1,
                    "tooltipFormat": {
                      "tooltip": "Indicates whether Network Address Port Translation is Enabled or Disabled"
                    }
                  },
                  {
                    "columnMatch": "UE IP pool",
                    "formatter": 1,
                    "tooltipFormat": {
                      "tooltip": "The user equipment (UE) address pool prefixes for the attached data network from which the packet core instance will assign IP addresses to UEs. The packet core instance assigns an IP address to a UE when the UE sets up a PDU session."
                    }
                  }
                ]
              },
              "sortBy": []
            },
            "name": "ADNs"
          },
          {
            "type": 10,
            "content": {
              "chartId": "workbookf8dd8de0-d1a7-46eb-a350-7ef588c92788",
              "version": "MetricsItem/2.0",
              "size": 0,
              "chartType": 3,
              "resourceType": "microsoft.kubernetes/connectedclusters/providers/extensions",
              "metricScope": 0,
              "resourceParameter": "pcmeExtensionId",
              "resourceIds": [
                "{pcmeExtensionId}"
              ],
              "timeContextFromParameter": "timespan",
              "timeContext": {
                "durationMs": 3600000
              },
              "metrics": [
                {
                  "namespace": "microsoft.kubernetesconfiguration/extensions",
                  "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-RegisteredSubscribersConnected",
                  "aggregation": 4,
                  "splitBy": null,
                  "columnName": "Connected"
                },
                {
                  "namespace": "microsoft.kubernetesconfiguration/extensions",
                  "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-RegisteredSubscribersIdle",
                  "aggregation": 4,
                  "columnName": "Idle"
                }
              ],
              "title": "Registered Subscribers",
              "gridFormatType": 1,
              "tileSettings": {
                "titleContent": {
                  "columnMatch": "Metric",
                  "formatter": 13,
                  "formatOptions": {
                    "linkTarget": null,
                    "showIcon": false
                  }
                },
                "leftContent": {
                  "columnMatch": "Value",
                  "formatter": 12,
                  "formatOptions": {
                    "palette": "auto"
                  },
                  "numberFormat": {
                    "unit": 17,
                    "options": {
                      "maximumSignificantDigits": 3,
                      "maximumFractionDigits": 2
                    }
                  }
                },
                "showBorder": false
              },
              "mapSettings": {
                "locInfo": "AzureResource",
                "sizeSettings": "Value",
                "sizeAggregation": "Sum",
                "legendMetric": "Value",
                "legendAggregation": "Sum",
                "itemColorSettings": {
                  "type": "heatmap",
                  "colorAggregation": "Sum",
                  "nodeColorField": "Value",
                  "heatmapPalette": "greenRed"
                },
                "locInfoColumn": "Name"
              },
              "graphSettings": {
                "type": 0,
                "topContent": {
                  "columnMatch": "Subscription",
                  "formatter": 1
                },
                "centerContent": {
                  "columnMatch": "Value",
                  "formatter": 1,
                  "numberFormat": {
                    "unit": 17,
                    "options": {
                      "maximumSignificantDigits": 3,
                      "maximumFractionDigits": 2
                    }
                  }
                }
              },
              "showOpenInMe": true,
              "timeBrushParameterName": "timebrush",
              "timeBrushExportOnlyWhenBrushed": true,
              "gridSettings": {
                "formatters": [
                  {
                    "columnMatch": "Subscription",
                    "formatter": 5
                  },
                  {
                    "columnMatch": "Name",
                    "formatter": 13,
                    "formatOptions": {
                      "linkTarget": "Resource"
                    }
                  },
                  {
                    "columnMatch": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs Timeline",
                    "formatter": 5
                  },
                  {
                    "columnMatch": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs",
                    "formatter": 1,
                    "numberFormat": {
                      "unit": 0,
                      "options": null
                    }
                  },
                  {
                    "columnMatch": "Metric",
                    "formatter": 1
                  },
                  {
                    "columnMatch": "Aggregation",
                    "formatter": 5
                  },
                  {
                    "columnMatch": "Value",
                    "formatter": 1
                  },
                  {
                    "columnMatch": "Timeline",
                    "formatter": 9
                  },
                  {
                    "columnMatch": "Bandwidth (bps)",
                    "formatter": 1,
                    "numberFormat": {
                      "unit": 0,
                      "options": null
                    }
                  }
                ],
                "rowLimit": 10000,
                "labelSettings": [
                  {
                    "columnId": "Bandwidth (bps)",
                    "label": "Bandwidth (bps)"
                  },
                  {
                    "columnId": "Bandwidth (bps) Timeline",
                    "label": "Bandwidth (bps) Timeline"
                  }
                ]
              }
            },
            "conditionalVisibility": {
              "parameterName": "pcmeExtensionId",
              "comparison": "isNotEqualTo"
            },
            "showPin": true,
            "name": "connected devices"
          },
          {
            "type": 10,
            "content": {
              "chartId": "workbookf8dd8de0-d1a7-46eb-a350-7ef588c92788",
              "version": "MetricsItem/2.0",
              "size": 0,
              "chartType": 3,
              "resourceType": "microsoft.kubernetes/connectedclusters/providers/extensions",
              "metricScope": 0,
              "resourceParameter": "pcmeExtensionId",
              "resourceIds": [
                "{pcmeExtensionId}"
              ],
              "timeContextFromParameter": "timespan",
              "timeContext": {
                "durationMs": 3600000
              },
              "metrics": [
                {
                  "namespace": "microsoft.kubernetesconfiguration/extensions",
                  "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-UserPlaneBandwidth",
                  "aggregation": 4,
                  "splitBy": "Interface",
                  "columnName": "Bandwidth (bps)"
                }
              ],
              "title": "User Plane Throughput",
              "gridFormatType": 1,
              "tileSettings": {
                "titleContent": {
                  "columnMatch": "Metric",
                  "formatter": 13,
                  "formatOptions": {
                    "linkTarget": null,
                    "showIcon": false
                  }
                },
                "leftContent": {
                  "columnMatch": "Value",
                  "formatter": 12,
                  "formatOptions": {
                    "palette": "auto"
                  },
                  "numberFormat": {
                    "unit": 17,
                    "options": {
                      "maximumSignificantDigits": 3,
                      "maximumFractionDigits": 2
                    }
                  }
                },
                "showBorder": false
              },
              "mapSettings": {
                "locInfo": "AzureResource",
                "sizeSettings": "Value",
                "sizeAggregation": "Sum",
                "legendMetric": "Value",
                "legendAggregation": "Sum",
                "itemColorSettings": {
                  "type": "heatmap",
                  "colorAggregation": "Sum",
                  "nodeColorField": "Value",
                  "heatmapPalette": "greenRed"
                },
                "locInfoColumn": "Name"
              },
              "graphSettings": {
                "type": 0,
                "topContent": {
                  "columnMatch": "Subscription",
                  "formatter": 1
                },
                "centerContent": {
                  "columnMatch": "Value",
                  "formatter": 1,
                  "numberFormat": {
                    "unit": 17,
                    "options": {
                      "maximumSignificantDigits": 3,
                      "maximumFractionDigits": 2
                    }
                  }
                }
              },
              "showOpenInMe": true,
              "filters": [
                {
                  "id": "1",
                  "key": "Interface",
                  "operator": 1,
                  "values": [
                    "cp_interface",
                    "n3_kernel",
                    "n6_kernel_1",
                    "n6_kernel_2",
                    "n6_kernel_3",
                    "trace_n3trace",
                    "trace_n6trace0",
                    "trace_n6trace1",
                    "trace_n6trace2"
                  ]
                },
                {
                  "id": "2",
                  "key": "Direction",
                  "operator": 1,
                  "values": [
                    "rx"
                  ]
                }
              ],
              "timeBrushParameterName": "timebrush",
              "timeBrushExportOnlyWhenBrushed": true,
              "gridSettings": {
                "formatters": [
                  {
                    "columnMatch": "Subscription",
                    "formatter": 5
                  },
                  {
                    "columnMatch": "Name",
                    "formatter": 13,
                    "formatOptions": {
                      "linkTarget": "Resource"
                    }
                  },
                  {
                    "columnMatch": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs Timeline",
                    "formatter": 5
                  },
                  {
                    "columnMatch": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs",
                    "formatter": 1,
                    "numberFormat": {
                      "unit": 0,
                      "options": null
                    }
                  },
                  {
                    "columnMatch": "Metric",
                    "formatter": 1
                  },
                  {
                    "columnMatch": "Aggregation",
                    "formatter": 5
                  },
                  {
                    "columnMatch": "Value",
                    "formatter": 1
                  },
                  {
                    "columnMatch": "Timeline",
                    "formatter": 9
                  },
                  {
                    "columnMatch": "Bandwidth (bps)",
                    "formatter": 1,
                    "numberFormat": {
                      "unit": 0,
                      "options": null
                    }
                  }
                ],
                "rowLimit": 10000,
                "labelSettings": [
                  {
                    "columnId": "Bandwidth (bps)",
                    "label": "Bandwidth (bps)"
                  },
                  {
                    "columnId": "Bandwidth (bps) Timeline",
                    "label": "Bandwidth (bps) Timeline"
                  }
                ]
              }
            },
            "conditionalVisibility": {
              "parameterName": "pcmeExtensionId",
              "comparison": "isNotEqualTo"
            },
            "showPin": true,
            "name": "metric - 2 - Copy"
          },
          {
            "type": 10,
            "content": {
              "chartId": "workbookf8dd8de0-d1a7-46eb-a350-7ef588c92788",
              "version": "MetricsItem/2.0",
              "size": 0,
              "chartType": 1,
              "resourceType": "microsoft.kubernetes/connectedclusters/providers/extensions",
              "metricScope": 0,
              "resourceParameter": "pcmeExtensionId",
              "resourceIds": [
                "{pcmeExtensionId}"
              ],
              "timeContextFromParameter": "timespan",
              "timeContext": {
                "durationMs": 3600000
              },
              "metrics": [
                {
                  "namespace": "microsoft.kubernetesconfiguration/extensions",
                  "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-AuthFailure",
                  "aggregation": 1,
                  "splitBy": null,
                  "columnName": "Authentication Failures"
                },
                {
                  "namespace": "microsoft.kubernetesconfiguration/extensions",
                  "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-PagingFailure",
                  "aggregation": 1
                },
                {
                  "namespace": "microsoft.kubernetesconfiguration/extensions",
                  "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-RanSetupFailure",
                  "aggregation": 1
                },
                {
                  "namespace": "microsoft.kubernetesconfiguration/extensions",
                  "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-RegistrationFailure",
                  "aggregation": 1
                },
                {
                  "namespace": "microsoft.kubernetesconfiguration/extensions",
                  "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-ServiceRequestFailure",
                  "aggregation": 1
                },
                {
                  "namespace": "microsoft.kubernetesconfiguration/extensions",
                  "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-SessionEstablishmentFailure",
                  "aggregation": 1
                },
                {
                  "namespace": "microsoft.kubernetesconfiguration/extensions",
                  "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-XnHandoverFailure",
                  "aggregation": 1
                }
              ],
              "title": "Packet Core Control Plane Procedure Failures",
              "gridFormatType": 1,
              "tileSettings": {
                "titleContent": {
                  "columnMatch": "Metric",
                  "formatter": 1
                },
                "leftContent": {
                  "columnMatch": "Value",
                  "formatter": 18,
                  "formatOptions": {
                    "thresholdsOptions": "colors",
                    "thresholdsGrid": [
                      {
                        "operator": "==",
                        "thresholdValue": "0",
                        "representation": "redBright",
                        "text": "{0}{1}"
                      },
                      {
                        "operator": "Default",
                        "thresholdValue": null,
                        "text": "{0}{1}"
                      }
                    ]
                  },
                  "numberFormat": {
                    "unit": 17,
                    "options": {
                      "style": "decimal",
                      "useGrouping": false,
                      "maximumFractionDigits": 0,
                      "maximumSignificantDigits": 3
                    },
                    "emptyValCustomText": "Error: metric not found"
                  }
                },
                "showBorder": false
              },
              "showOpenInMe": true,
              "timeBrushParameterName": "timebrush",
              "timeBrushExportOnlyWhenBrushed": true,
              "gridSettings": {
                "formatters": [
                  {
                    "columnMatch": "Subscription",
                    "formatter": 5
                  },
                  {
                    "columnMatch": "Name",
                    "formatter": 13,
                    "formatOptions": {
                      "linkTarget": "Resource"
                    }
                  },
                  {
                    "columnMatch": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs Timeline",
                    "formatter": 5
                  },
                  {
                    "columnMatch": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs",
                    "formatter": 1,
                    "numberFormat": {
                      "unit": 0,
                      "options": null
                    }
                  }
                ],
                "rowLimit": 10000,
                "labelSettings": [
                  {
                    "columnId": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs",
                    "label": "Connected NodeBs (Sum)"
                  },
                  {
                    "columnId": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs Timeline",
                    "label": "Connected NodeBs Timeline"
                  }
                ]
              }
            },
            "conditionalVisibility": {
              "parameterName": "pcmeExtensionId",
              "comparison": "isNotEqualTo"
            },
            "showPin": true,
            "name": "controlplaneerrors"
          }
        ]
      },
      "conditionalVisibility": {
        "parameterName": "tab",
        "comparison": "isEqualTo",
        "value": "overview"
      },
      "name": "overview"
    },
    {
      "type": 12,
      "content": {
        "version": "NotebookGroup/1.0",
        "groupType": "editable",
        "items": [
          {
            "type": 3,
            "content": {
              "version": "KqlItem/1.0",
              "query": "resources\r\n| where type =~ \"Microsoft.DataBoxEdge/dataBoxEdgeDevices\"\r\n| where id =~ \"{ase}\"\r\n| project [\"ASE\"]=id, [\"Resource Group\"] = strcat(\"/subscriptions/\", subscriptionId, \"/resourceGroups/\", resourceGroup), [\"Status\"]=properties.dataBoxEdgeDeviceStatus, [\"Version\"]=properties.deviceSoftwareVersion, Location = location, Serial = properties.serialNumber",
              "size": 4,
              "queryType": 1,
              "resourceType": "microsoft.resourcegraph/resources",
              "crossComponentResources": [
                "{ase}"
              ],
              "gridSettings": {
                "formatters": [
                  {
                    "columnMatch": "ASE",
                    "formatter": 0,
                    "tooltipFormat": {
                      "tooltip": "Azure Stack Edge resource on which packet core is running."
                    }
                  },
                  {
                    "columnMatch": "Resource Group",
                    "formatter": 14,
                    "formatOptions": {
                      "linkTarget": "Resource",
                      "showIcon": true
                    },
                    "tooltipFormat": {
                      "tooltip": "Resource group in which ASE device is held"
                    }
                  },
                  {
                    "columnMatch": "Status",
                    "formatter": 18,
                    "formatOptions": {
                      "thresholdsOptions": "icons",
                      "thresholdsGrid": [
                        {
                          "operator": "==",
                          "thresholdValue": "Online",
                          "representation": "success",
                          "text": "{0}{1}"
                        },
                        {
                          "operator": "==",
                          "thresholdValue": "Disconnected",
                          "representation": "info",
                          "text": "{0}{1}"
                        },
                        {
                          "operator": "==",
                          "thresholdValue": "Maintenance",
                          "representation": "warning",
                          "text": "{0}{1}"
                        },
                        {
                          "operator": "==",
                          "thresholdValue": "NeedsAttention",
                          "representation": "critical",
                          "text": "{0}{1}"
                        },
                        {
                          "operator": "==",
                          "thresholdValue": "Offline",
                          "representation": "unknown",
                          "text": "{0}{1}"
                        },
                        {
                          "operator": "==",
                          "thresholdValue": "PartiallyDisconnected",
                          "representation": "info",
                          "text": "{0}{1}"
                        },
                        {
                          "operator": "==",
                          "thresholdValue": "ReadyToSetup",
                          "representation": "info",
                          "text": "{0}{1}"
                        },
                        {
                          "operator": "Default",
                          "thresholdValue": null,
                          "representation": "success",
                          "text": "{0}{1}"
                        }
                      ]
                    },
                    "tooltipFormat": {
                      "tooltip": "Inidicates whether ASE device is Online, Disconnected, undergoing Maintenance, Needs Attention, Offline, Partially Disconnected or Ready To Setup"
                    }
                  },
                  {
                    "columnMatch": "Version",
                    "formatter": 1,
                    "tooltipFormat": {
                      "tooltip": "Current software version"
                    }
                  },
                  {
                    "columnMatch": "Location",
                    "formatter": 17,
                    "formatOptions": {
                      "customColumnWidthSetting": "20ch"
                    }
                  },
                  {
                    "columnMatch": "Serial",
                    "formatter": 0,
                    "tooltipFormat": {
                      "tooltip": "ASE serial number"
                    }
                  }
                ]
              }
            },
            "name": "query - 0"
          },
          {
            "type": 3,
            "content": {
              "version": "KqlItem/1.0",
              "query": "alertsmanagementresources\r\n| where type == 'microsoft.alertsmanagement/alerts'\r\n| extend severity = tostring(properties[\"essentials\"][\"severity\"])\r\n| extend startTime = properties[\"essentials\"][\"startDateTime\"]\r\n| extend description = properties[\"essentials\"][\"description\"]\r\n| extend condition = properties[\"essentials\"][\"monitorCondition\"]\r\n| where properties[\"essentials\"][\"targetResource\"] =~ '{ase}'\r\n| where condition == \"Fired\" or startTime {timespan:query}\r\n| project [\"Alert Time\"]=todatetime(startTime),[\"Severity\"]=severity,[\"Alert\"]=name,[\"Description\"]=description,[\"Alert Condition\"]=condition\r\n| order by [\"Alert Time\"] desc",
              "size": 1,
              "showAnalytics": true,
              "title": "ASE Alerts",
              "noDataMessage": "No active ASE alerts",
              "noDataMessageStyle": 3,
              "queryType": 1,
              "resourceType": "microsoft.resourcegraph/resources",
              "crossComponentResources": [
                "{ase}"
              ],
              "gridSettings": {
                "formatters": [
                  {
                    "columnMatch": "Alert Time",
                    "formatter": 6,
                    "dateFormat": {
                      "showUtcTime": null,
                      "formatName": null
                    }
                  },
                  {
                    "columnMatch": "Severity",
                    "formatter": 18,
                    "formatOptions": {
                      "thresholdsOptions": "icons",
                      "thresholdsGrid": [
                        {
                          "operator": "==",
                          "thresholdValue": "Sev0",
                          "representation": "Sev0",
                          "text": "0 - Critical"
                        },
                        {
                          "operator": "==",
                          "thresholdValue": "Sev1",
                          "representation": "Sev1",
                          "text": "1 - Error"
                        },
                        {
                          "operator": "==",
                          "thresholdValue": "Sev2",
                          "representation": "Sev2",
                          "text": "2 - Warning"
                        },
                        {
                          "operator": "==",
                          "thresholdValue": "Sev3",
                          "representation": "Sev3",
                          "text": "3 - Informational"
                        },
                        {
                          "operator": "==",
                          "thresholdValue": "Sev4",
                          "representation": "Sev4",
                          "text": "4 - Verbose"
                        },
                        {
                          "operator": "Default",
                          "thresholdValue": null,
                          "representation": "1",
                          "text": "{0}{1}"
                        }
                      ]
                    }
                  },
                  {
                    "columnMatch": "Description",
                    "formatter": 1
                  },
                  {
                    "columnMatch": "Alert Condition",
                    "formatter": 18,
                    "formatOptions": {
                      "thresholdsOptions": "icons",
                      "thresholdsGrid": [
                        {
                          "operator": "==",
                          "thresholdValue": "Resolved",
                          "representation": "success",
                          "text": "{0}{1}"
                        },
                        {
                          "operator": "==",
                          "thresholdValue": "Fired",
                          "representation": "warning",
                          "text": "{0}{1}"
                        },
                        {
                          "operator": "Default",
                          "thresholdValue": null,
                          "representation": "success",
                          "text": "{0}{1}"
                        }
                      ]
                    },
                    "numberFormat": {
                      "unit": 0,
                      "options": {
                        "style": "decimal"
                      }
                    }
                  },
                  {
                    "columnMatch": "Start Time",
                    "formatter": 6
                  }
                ]
              }
            },
            "showPin": true,
            "name": "query - 4"
          },
          {
            "type": 3,
            "content": {
              "version": "KqlItem/1.0",
              "query": "{\"version\":\"ARMEndpoint/1.0\",\"data\":null,\"headers\":[],\"method\":\"GET\",\"path\":\"{ase}/networkSettings/default?api-version=2021-02-01\",\"urlParams\":[{\"key\":\"\",\"value\":\"\"},{\"key\":\"\",\"value\":\"\"}],\"batchDisabled\":false,\"transformers\":[{\"type\":\"jsonpath\",\"settings\":{\"tablePath\":\"properties.networkAdapters\",\"columns\":[{\"path\":\"index\",\"columnid\":\"Port\",\"columnType\":\"string\"},{\"path\":\"ipv4Configuration.ipAddress\",\"columnid\":\"IP\",\"columnType\":\"string\"},{\"path\":\"ipv4Configuration.gateway\",\"columnid\":\"Gateway\",\"columnType\":\"string\"},{\"path\":\"ipv4Configuration.subnet\",\"columnid\":\"Subnet Mask\",\"columnType\":\"string\"},{\"path\":\"dhcpStatus\",\"columnid\":\"DHCP\",\"columnType\":\"string\"}]}}]}",
              "size": 3,
              "title": "IP Config",
              "queryType": 12,
              "gridSettings": {
                "formatters": [
                  {
                    "columnMatch": "Port",
                    "formatter": 0,
                    "formatOptions": {
                      "customColumnWidthSetting": "10ch"
                    },
                    "tooltipFormat": {
                      "tooltip": "Port on ASE"
                    }
                  },
                  {
                    "columnMatch": "IP",
                    "formatter": 0,
                    "formatOptions": {
                      "customColumnWidthSetting": "20ch"
                    },
                    "tooltipFormat": {
                      "tooltip": "IP address assigned to port"
                    }
                  },
                  {
                    "columnMatch": "Gateway",
                    "formatter": 0,
                    "formatOptions": {
                      "customColumnWidthSetting": "20ch"
                    }
                  },
                  {
                    "columnMatch": "Subnet Mask",
                    "formatter": 0,
                    "formatOptions": {
                      "customColumnWidthSetting": "20ch"
                    }
                  },
                  {
                    "columnMatch": "DHCP",
                    "formatter": 18,
                    "formatOptions": {
                      "thresholdsOptions": "colors",
                      "thresholdsGrid": [
                        {
                          "operator": "==",
                          "thresholdValue": "Disabled",
                          "representation": "turquoise",
                          "text": "{0}{1}"
                        },
                        {
                          "operator": "==",
                          "thresholdValue": "Enabled",
                          "representation": "green",
                          "text": "{0}{1}"
                        },
                        {
                          "operator": "Default",
                          "thresholdValue": null,
                          "text": "{0}{1}"
                        }
                      ],
                      "customColumnWidthSetting": "12ch"
                    },
                    "tooltipFormat": {
                      "tooltip": "Indicates whether dynamic host configuration protocol is enabled or disabled."
                    }
                  },
                  {
                    "columnMatch": "Subnet",
                    "formatter": 0,
                    "formatOptions": {
                      "customColumnWidthSetting": "20ch"
                    }
                  }
                ],
                "sortBy": [
                  {
                    "itemKey": "Port",
                    "sortOrder": 1
                  }
                ]
              },
              "sortBy": [
                {
                  "itemKey": "Port",
                  "sortOrder": 1
                }
              ]
            },
            "customWidth": "55",
            "name": "IP Config"
          },
          {
            "type": 10,
            "content": {
              "chartId": "workbook0fa14171-8144-4003-ba50-7c260b628940",
              "version": "MetricsItem/2.0",
              "size": 0,
              "chartType": 2,
              "resourceType": "microsoft.databoxedge/databoxedgedevices",
              "metricScope": 0,
              "resourceParameter": "ase",
              "resourceIds": [
                "{ase}"
              ],
              "timeContextFromParameter": "timespan",
              "timeContext": {
                "durationMs": 86400000
              },
              "metrics": [
                {
                  "namespace": "microsoft.databoxedge/databoxedgedevices",
                  "metric": "microsoft.databoxedge/databoxedgedevices-Transaction-HyperVVirtualProcessorUtilization",
                  "aggregation": 4,
                  "splitBy": null
                },
                {
                  "namespace": "microsoft.databoxedge/databoxedgedevices",
                  "metric": "microsoft.databoxedge/databoxedgedevices-Transaction-HyperVMemoryUtilization",
                  "aggregation": 4
                }
              ],
              "title": "ASE Compute Usage",
              "showOpenInMe": true,
              "showCreateAlertRule": true,
              "timeBrushParameterName": "timebrush",
              "timeBrushExportOnlyWhenBrushed": true,
              "gridSettings": {
                "rowLimit": 10000
              }
            },
            "showPin": true,
            "name": "asecompute"
          },
          {
            "type": 10,
            "content": {
              "chartId": "workbook57831786-6ca6-4b4e-a6bf-2a88bad1c556",
              "version": "MetricsItem/2.0",
              "size": 0,
              "chartType": 2,
              "resourceType": "microsoft.databoxedge/databoxedgedevices",
              "metricScope": 0,
              "resourceParameter": "ase",
              "resourceIds": [
                "{ase}"
              ],
              "timeContextFromParameter": "timespan",
              "timeContext": {
                "durationMs": 86400000
              },
              "metrics": [
                {
                  "namespace": "microsoft.databoxedge/databoxedgedevices",
                  "metric": "microsoft.databoxedge/databoxedgedevices-Transaction-NICReadThroughput",
                  "aggregation": 4,
                  "splitBy": null
                },
                {
                  "namespace": "microsoft.databoxedge/databoxedgedevices",
                  "metric": "microsoft.databoxedge/databoxedgedevices-Transaction-NICWriteThroughput",
                  "aggregation": 4
                }
              ],
              "title": "ASE Bandwidth",
              "showOpenInMe": true,
              "showCreateAlertRule": true,
              "timeBrushParameterName": "timebrush",
              "timeBrushExportOnlyWhenBrushed": true,
              "gridSettings": {
                "rowLimit": 10000
              }
            },
            "showPin": true,
            "name": "metric - 2"
          }
        ],
        "exportParameters": true
      },
      "conditionalVisibilities": [
        {
          "parameterName": "tab",
          "comparison": "isEqualTo",
          "value": "aseStatus"
        },
        {
          "parameterName": "ase",
          "comparison": "isNotEqualTo"
        }
      ],
      "name": "ase"
    },
    {
      "type": 12,
      "content": {
        "version": "NotebookGroup/1.0",
        "groupType": "editable",
        "items": [
          {
            "type": 10,
            "content": {
              "chartId": "workbookf8dd8de0-d1a7-46eb-a350-7ef588c92788",
              "version": "MetricsItem/2.0",
              "size": 1,
              "chartType": 2,
              "resourceType": "microsoft.kubernetes/connectedclusters/providers/extensions",
              "metricScope": 0,
              "resourceParameter": "pcmeExtensionId",
              "resourceIds": [
                "{pcmeExtensionId}"
              ],
              "timeContextFromParameter": "timespan",
              "timeContext": {
                "durationMs": 86400000
              },
              "metrics": [
                {
                  "namespace": "microsoft.kubernetesconfiguration/extensions",
                  "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-RanSetupRequest",
                  "aggregation": 1,
                  "splitBy": null,
                  "columnName": ""
                },
                {
                  "namespace": "microsoft.kubernetesconfiguration/extensions",
                  "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-RanSetupResponse",
                  "aggregation": 1
                },
                {
                  "namespace": "microsoft.kubernetesconfiguration/extensions",
                  "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-RanSetupFailure",
                  "aggregation": 1
                }
              ],
              "title": "RAN Setup Procedures",
              "gridFormatType": 1,
              "tileSettings": {
                "titleContent": {
                  "columnMatch": "Metric",
                  "formatter": 1
                },
                "leftContent": {
                  "columnMatch": "Value",
                  "formatter": 18,
                  "formatOptions": {
                    "thresholdsOptions": "colors",
                    "thresholdsGrid": [
                      {
                        "operator": "==",
                        "thresholdValue": "0",
                        "representation": "redBright",
                        "text": "{0}{1}"
                      },
                      {
                        "operator": "Default",
                        "thresholdValue": null,
                        "text": "{0}{1}"
                      }
                    ]
                  },
                  "numberFormat": {
                    "unit": 17,
                    "options": {
                      "style": "decimal",
                      "useGrouping": false,
                      "maximumFractionDigits": 0,
                      "maximumSignificantDigits": 3
                    },
                    "emptyValCustomText": "Error: metric not found"
                  }
                },
                "showBorder": false
              },
              "showOpenInMe": true,
              "timeBrushParameterName": "timebrush",
              "timeBrushExportOnlyWhenBrushed": true,
              "gridSettings": {
                "formatters": [
                  {
                    "columnMatch": "Subscription",
                    "formatter": 5
                  },
                  {
                    "columnMatch": "Name",
                    "formatter": 13,
                    "formatOptions": {
                      "linkTarget": "Resource"
                    }
                  },
                  {
                    "columnMatch": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs Timeline",
                    "formatter": 5
                  },
                  {
                    "columnMatch": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs",
                    "formatter": 1,
                    "numberFormat": {
                      "unit": 0,
                      "options": null
                    }
                  }
                ],
                "rowLimit": 10000,
                "labelSettings": [
                  {
                    "columnId": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs",
                    "label": "Connected NodeBs (Sum)"
                  },
                  {
                    "columnId": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs Timeline",
                    "label": "Connected NodeBs Timeline"
                  }
                ]
              }
            },
            "conditionalVisibility": {
              "parameterName": "pcmeExtensionId",
              "comparison": "isNotEqualTo"
            },
            "showPin": true,
            "name": "ransetupmetrics"
          },
          {
            "type": 10,
            "content": {
              "chartId": "workbookf8dd8de0-d1a7-46eb-a350-7ef588c92788",
              "version": "MetricsItem/2.0",
              "size": 1,
              "chartType": 2,
              "resourceType": "microsoft.kubernetes/connectedclusters/providers/extensions",
              "metricScope": 0,
              "resourceParameter": "pcmeExtensionId",
              "resourceIds": [
                "{pcmeExtensionId}"
              ],
              "timeContextFromParameter": "timespan",
              "timeContext": {
                "durationMs": 86400000
              },
              "metrics": [
                {
                  "namespace": "microsoft.kubernetesconfiguration/extensions",
                  "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-RegistrationAttempt",
                  "aggregation": 1,
                  "splitBy": null,
                  "columnName": ""
                },
                {
                  "namespace": "microsoft.kubernetesconfiguration/extensions",
                  "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-RegistrationSuccess",
                  "aggregation": 1
                },
                {
                  "namespace": "microsoft.kubernetesconfiguration/extensions",
                  "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-RegistrationFailure",
                  "aggregation": 1
                },
                {
                  "namespace": "microsoft.kubernetesconfiguration/extensions",
                  "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-DeRegistrationAttempt",
                  "aggregation": 1
                },
                {
                  "namespace": "microsoft.kubernetesconfiguration/extensions",
                  "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-DeRegistrationSuccess",
                  "aggregation": 1
                }
              ],
              "title": "Registration Procedures",
              "gridFormatType": 1,
              "tileSettings": {
                "titleContent": {
                  "columnMatch": "Metric",
                  "formatter": 1
                },
                "leftContent": {
                  "columnMatch": "Value",
                  "formatter": 18,
                  "formatOptions": {
                    "thresholdsOptions": "colors",
                    "thresholdsGrid": [
                      {
                        "operator": "==",
                        "thresholdValue": "0",
                        "representation": "redBright",
                        "text": "{0}{1}"
                      },
                      {
                        "operator": "Default",
                        "thresholdValue": null,
                        "text": "{0}{1}"
                      }
                    ]
                  },
                  "numberFormat": {
                    "unit": 17,
                    "options": {
                      "style": "decimal",
                      "useGrouping": false,
                      "maximumFractionDigits": 0,
                      "maximumSignificantDigits": 3
                    },
                    "emptyValCustomText": "Error: metric not found"
                  }
                },
                "showBorder": false
              },
              "showOpenInMe": true,
              "timeBrushParameterName": "timebrush",
              "timeBrushExportOnlyWhenBrushed": true,
              "gridSettings": {
                "formatters": [
                  {
                    "columnMatch": "Subscription",
                    "formatter": 5
                  },
                  {
                    "columnMatch": "Name",
                    "formatter": 13,
                    "formatOptions": {
                      "linkTarget": "Resource"
                    }
                  },
                  {
                    "columnMatch": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs Timeline",
                    "formatter": 5
                  },
                  {
                    "columnMatch": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs",
                    "formatter": 1,
                    "numberFormat": {
                      "unit": 0,
                      "options": null
                    }
                  }
                ],
                "rowLimit": 10000,
                "labelSettings": [
                  {
                    "columnId": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs",
                    "label": "Connected NodeBs (Sum)"
                  },
                  {
                    "columnId": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs Timeline",
                    "label": "Connected NodeBs Timeline"
                  }
                ]
              }
            },
            "conditionalVisibility": {
              "parameterName": "pcmeExtensionId",
              "comparison": "isNotEqualTo"
            },
            "showPin": true,
            "name": "registrationmetrics"
          },
          {
            "type": 10,
            "content": {
              "chartId": "workbookf8dd8de0-d1a7-46eb-a350-7ef588c92788",
              "version": "MetricsItem/2.0",
              "size": 1,
              "chartType": 2,
              "resourceType": "microsoft.kubernetes/connectedclusters/providers/extensions",
              "metricScope": 0,
              "resourceParameter": "pcmeExtensionId",
              "resourceIds": [
                "{pcmeExtensionId}"
              ],
              "timeContextFromParameter": "timespan",
              "timeContext": {
                "durationMs": 86400000
              },
              "metrics": [
                {
                  "namespace": "microsoft.kubernetesconfiguration/extensions",
                  "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-AuthAttempt",
                  "aggregation": 1,
                  "splitBy": null,
                  "columnName": ""
                },
                {
                  "namespace": "microsoft.kubernetesconfiguration/extensions",
                  "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-AuthSuccess",
                  "aggregation": 1
                },
                {
                  "namespace": "microsoft.kubernetesconfiguration/extensions",
                  "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-AuthFailure",
                  "aggregation": 1
                }
              ],
              "title": "Authentication Procedures",
              "gridFormatType": 1,
              "tileSettings": {
                "titleContent": {
                  "columnMatch": "Metric",
                  "formatter": 1
                },
                "leftContent": {
                  "columnMatch": "Value",
                  "formatter": 18,
                  "formatOptions": {
                    "thresholdsOptions": "colors",
                    "thresholdsGrid": [
                      {
                        "operator": "==",
                        "thresholdValue": "0",
                        "representation": "redBright",
                        "text": "{0}{1}"
                      },
                      {
                        "operator": "Default",
                        "thresholdValue": null,
                        "text": "{0}{1}"
                      }
                    ]
                  },
                  "numberFormat": {
                    "unit": 17,
                    "options": {
                      "style": "decimal",
                      "useGrouping": false,
                      "maximumFractionDigits": 0,
                      "maximumSignificantDigits": 3
                    },
                    "emptyValCustomText": "Error: metric not found"
                  }
                },
                "showBorder": false
              },
              "showOpenInMe": true,
              "timeBrushParameterName": "timebrush",
              "timeBrushExportOnlyWhenBrushed": true,
              "gridSettings": {
                "formatters": [
                  {
                    "columnMatch": "Subscription",
                    "formatter": 5
                  },
                  {
                    "columnMatch": "Name",
                    "formatter": 13,
                    "formatOptions": {
                      "linkTarget": "Resource"
                    }
                  },
                  {
                    "columnMatch": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs Timeline",
                    "formatter": 5
                  },
                  {
                    "columnMatch": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs",
                    "formatter": 1,
                    "numberFormat": {
                      "unit": 0,
                      "options": null
                    }
                  }
                ],
                "rowLimit": 10000,
                "labelSettings": [
                  {
                    "columnId": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs",
                    "label": "Connected NodeBs (Sum)"
                  },
                  {
                    "columnId": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs Timeline",
                    "label": "Connected NodeBs Timeline"
                  }
                ]
              }
            },
            "conditionalVisibility": {
              "parameterName": "pcmeExtensionId",
              "comparison": "isNotEqualTo"
            },
            "showPin": true,
            "name": "authmetrics"
          },
          {
            "type": 10,
            "content": {
              "chartId": "workbookf8dd8de0-d1a7-46eb-a350-7ef588c92788",
              "version": "MetricsItem/2.0",
              "size": 1,
              "chartType": 2,
              "resourceType": "microsoft.kubernetes/connectedclusters/providers/extensions",
              "metricScope": 0,
              "resourceParameter": "pcmeExtensionId",
              "resourceIds": [
                "{pcmeExtensionId}"
              ],
              "timeContextFromParameter": "timespan",
              "timeContext": {
                "durationMs": 86400000
              },
              "metrics": [
                {
                  "namespace": "microsoft.kubernetesconfiguration/extensions",
                  "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-SessionEstablishmentAttempt",
                  "aggregation": 1,
                  "splitBy": null,
                  "columnName": ""
                },
                {
                  "namespace": "microsoft.kubernetesconfiguration/extensions",
                  "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-SessionEstablishmentSuccess",
                  "aggregation": 1
                },
                {
                  "namespace": "microsoft.kubernetesconfiguration/extensions",
                  "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-SessionEstablishmentFailure",
                  "aggregation": 1
                },
                {
                  "namespace": "microsoft.kubernetesconfiguration/extensions",
                  "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-SessionRelease",
                  "aggregation": 1
                }
              ],
              "title": "Session Establishment/Release Procedures",
              "gridFormatType": 1,
              "tileSettings": {
                "titleContent": {
                  "columnMatch": "Metric",
                  "formatter": 1
                },
                "leftContent": {
                  "columnMatch": "Value",
                  "formatter": 18,
                  "formatOptions": {
                    "thresholdsOptions": "colors",
                    "thresholdsGrid": [
                      {
                        "operator": "==",
                        "thresholdValue": "0",
                        "representation": "redBright",
                        "text": "{0}{1}"
                      },
                      {
                        "operator": "Default",
                        "thresholdValue": null,
                        "text": "{0}{1}"
                      }
                    ]
                  },
                  "numberFormat": {
                    "unit": 17,
                    "options": {
                      "style": "decimal",
                      "useGrouping": false,
                      "maximumFractionDigits": 0,
                      "maximumSignificantDigits": 3
                    },
                    "emptyValCustomText": "Error: metric not found"
                  }
                },
                "showBorder": false
              },
              "showOpenInMe": true,
              "timeBrushParameterName": "timebrush",
              "timeBrushExportOnlyWhenBrushed": true,
              "gridSettings": {
                "formatters": [
                  {
                    "columnMatch": "Subscription",
                    "formatter": 5
                  },
                  {
                    "columnMatch": "Name",
                    "formatter": 13,
                    "formatOptions": {
                      "linkTarget": "Resource"
                    }
                  },
                  {
                    "columnMatch": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs Timeline",
                    "formatter": 5
                  },
                  {
                    "columnMatch": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs",
                    "formatter": 1,
                    "numberFormat": {
                      "unit": 0,
                      "options": null
                    }
                  }
                ],
                "rowLimit": 10000,
                "labelSettings": [
                  {
                    "columnId": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs",
                    "label": "Connected NodeBs (Sum)"
                  },
                  {
                    "columnId": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs Timeline",
                    "label": "Connected NodeBs Timeline"
                  }
                ]
              }
            },
            "conditionalVisibility": {
              "parameterName": "pcmeExtensionId",
              "comparison": "isNotEqualTo"
            },
            "showPin": true,
            "name": "sessionmetrics"
          },
          {
            "type": 10,
            "content": {
              "chartId": "workbookf8dd8de0-d1a7-46eb-a350-7ef588c92788",
              "version": "MetricsItem/2.0",
              "size": 1,
              "chartType": 2,
              "resourceType": "microsoft.kubernetes/connectedclusters/providers/extensions",
              "metricScope": 0,
              "resourceParameter": "pcmeExtensionId",
              "resourceIds": [
                "{pcmeExtensionId}"
              ],
              "timeContextFromParameter": "timespan",
              "timeContext": {
                "durationMs": 86400000
              },
              "metrics": [
                {
                  "namespace": "microsoft.kubernetesconfiguration/extensions",
                  "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-ServiceRequestAttempt",
                  "aggregation": 1,
                  "splitBy": null,
                  "columnName": ""
                },
                {
                  "namespace": "microsoft.kubernetesconfiguration/extensions",
                  "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-ServiceRequestSuccess",
                  "aggregation": 1
                },
                {
                  "namespace": "microsoft.kubernetesconfiguration/extensions",
                  "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-ServiceRequestFailure",
                  "aggregation": 1
                }
              ],
              "title": "Service Request Procedures",
              "gridFormatType": 1,
              "tileSettings": {
                "titleContent": {
                  "columnMatch": "Metric",
                  "formatter": 1
                },
                "leftContent": {
                  "columnMatch": "Value",
                  "formatter": 18,
                  "formatOptions": {
                    "thresholdsOptions": "colors",
                    "thresholdsGrid": [
                      {
                        "operator": "==",
                        "thresholdValue": "0",
                        "representation": "redBright",
                        "text": "{0}{1}"
                      },
                      {
                        "operator": "Default",
                        "thresholdValue": null,
                        "text": "{0}{1}"
                      }
                    ]
                  },
                  "numberFormat": {
                    "unit": 17,
                    "options": {
                      "style": "decimal",
                      "useGrouping": false,
                      "maximumFractionDigits": 0,
                      "maximumSignificantDigits": 3
                    },
                    "emptyValCustomText": "Error: metric not found"
                  }
                },
                "showBorder": false
              },
              "showOpenInMe": true,
              "timeBrushParameterName": "timebrush",
              "timeBrushExportOnlyWhenBrushed": true,
              "gridSettings": {
                "formatters": [
                  {
                    "columnMatch": "Subscription",
                    "formatter": 5
                  },
                  {
                    "columnMatch": "Name",
                    "formatter": 13,
                    "formatOptions": {
                      "linkTarget": "Resource"
                    }
                  },
                  {
                    "columnMatch": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs Timeline",
                    "formatter": 5
                  },
                  {
                    "columnMatch": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs",
                    "formatter": 1,
                    "numberFormat": {
                      "unit": 0,
                      "options": null
                    }
                  }
                ],
                "rowLimit": 10000,
                "labelSettings": [
                  {
                    "columnId": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs",
                    "label": "Connected NodeBs (Sum)"
                  },
                  {
                    "columnId": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs Timeline",
                    "label": "Connected NodeBs Timeline"
                  }
                ]
              }
            },
            "conditionalVisibility": {
              "parameterName": "pcmeExtensionId",
              "comparison": "isNotEqualTo"
            },
            "showPin": true,
            "name": "servicerequestmetrics"
          },
          {
            "type": 10,
            "content": {
              "chartId": "workbookf8dd8de0-d1a7-46eb-a350-7ef588c92788",
              "version": "MetricsItem/2.0",
              "size": 1,
              "chartType": 2,
              "resourceType": "microsoft.kubernetes/connectedclusters/providers/extensions",
              "metricScope": 0,
              "resourceParameter": "pcmeExtensionId",
              "resourceIds": [
                "{pcmeExtensionId}"
              ],
              "timeContextFromParameter": "timespan",
              "timeContext": {
                "durationMs": 86400000
              },
              "metrics": [
                {
                  "namespace": "microsoft.kubernetesconfiguration/extensions",
                  "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-PagingAttempt",
                  "aggregation": 1,
                  "splitBy": null,
                  "columnName": ""
                },
                {
                  "namespace": "microsoft.kubernetesconfiguration/extensions",
                  "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-PagingFailure",
                  "aggregation": 1
                }
              ],
              "title": "Paging Procedures",
              "gridFormatType": 1,
              "tileSettings": {
                "titleContent": {
                  "columnMatch": "Metric",
                  "formatter": 1
                },
                "leftContent": {
                  "columnMatch": "Value",
                  "formatter": 18,
                  "formatOptions": {
                    "thresholdsOptions": "colors",
                    "thresholdsGrid": [
                      {
                        "operator": "==",
                        "thresholdValue": "0",
                        "representation": "redBright",
                        "text": "{0}{1}"
                      },
                      {
                        "operator": "Default",
                        "thresholdValue": null,
                        "text": "{0}{1}"
                      }
                    ]
                  },
                  "numberFormat": {
                    "unit": 17,
                    "options": {
                      "style": "decimal",
                      "useGrouping": false,
                      "maximumFractionDigits": 0,
                      "maximumSignificantDigits": 3
                    },
                    "emptyValCustomText": "Error: metric not found"
                  }
                },
                "showBorder": false
              },
              "showOpenInMe": true,
              "timeBrushParameterName": "timebrush",
              "timeBrushExportOnlyWhenBrushed": true,
              "gridSettings": {
                "formatters": [
                  {
                    "columnMatch": "Subscription",
                    "formatter": 5
                  },
                  {
                    "columnMatch": "Name",
                    "formatter": 13,
                    "formatOptions": {
                      "linkTarget": "Resource"
                    }
                  },
                  {
                    "columnMatch": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs Timeline",
                    "formatter": 5
                  },
                  {
                    "columnMatch": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs",
                    "formatter": 1,
                    "numberFormat": {
                      "unit": 0,
                      "options": null
                    }
                  }
                ],
                "rowLimit": 10000,
                "labelSettings": [
                  {
                    "columnId": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs",
                    "label": "Connected NodeBs (Sum)"
                  },
                  {
                    "columnId": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs Timeline",
                    "label": "Connected NodeBs Timeline"
                  }
                ]
              }
            },
            "conditionalVisibility": {
              "parameterName": "pcmeExtensionId",
              "comparison": "isNotEqualTo"
            },
            "showPin": true,
            "name": "pagingmetrics"
          },
          {
            "type": 10,
            "content": {
              "chartId": "workbookf8dd8de0-d1a7-46eb-a350-7ef588c92788",
              "version": "MetricsItem/2.0",
              "size": 1,
              "chartType": 2,
              "resourceType": "microsoft.kubernetes/connectedclusters/providers/extensions",
              "metricScope": 0,
              "resourceParameter": "pcmeExtensionId",
              "resourceIds": [
                "{pcmeExtensionId}"
              ],
              "timeContextFromParameter": "timespan",
              "timeContext": {
                "durationMs": 86400000
              },
              "metrics": [
                {
                  "namespace": "microsoft.kubernetesconfiguration/extensions",
                  "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-UeContextReleaseCommand",
                  "aggregation": 1,
                  "splitBy": null,
                  "columnName": ""
                },
                {
                  "namespace": "microsoft.kubernetesconfiguration/extensions",
                  "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-UeContextReleaseComplete",
                  "aggregation": 1
                },
                {
                  "namespace": "microsoft.kubernetesconfiguration/extensions",
                  "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-UeContextReleaseRequest",
                  "aggregation": 1
                }
              ],
              "title": "UE Context Release Procedures",
              "gridFormatType": 1,
              "tileSettings": {
                "titleContent": {
                  "columnMatch": "Metric",
                  "formatter": 1
                },
                "leftContent": {
                  "columnMatch": "Value",
                  "formatter": 18,
                  "formatOptions": {
                    "thresholdsOptions": "colors",
                    "thresholdsGrid": [
                      {
                        "operator": "==",
                        "thresholdValue": "0",
                        "representation": "redBright",
                        "text": "{0}{1}"
                      },
                      {
                        "operator": "Default",
                        "thresholdValue": null,
                        "text": "{0}{1}"
                      }
                    ]
                  },
                  "numberFormat": {
                    "unit": 17,
                    "options": {
                      "style": "decimal",
                      "useGrouping": false,
                      "maximumFractionDigits": 0,
                      "maximumSignificantDigits": 3
                    },
                    "emptyValCustomText": "Error: metric not found"
                  }
                },
                "showBorder": false
              },
              "showOpenInMe": true,
              "timeBrushParameterName": "timebrush",
              "timeBrushExportOnlyWhenBrushed": true,
              "gridSettings": {
                "formatters": [
                  {
                    "columnMatch": "Subscription",
                    "formatter": 5
                  },
                  {
                    "columnMatch": "Name",
                    "formatter": 13,
                    "formatOptions": {
                      "linkTarget": "Resource"
                    }
                  },
                  {
                    "columnMatch": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs Timeline",
                    "formatter": 5
                  },
                  {
                    "columnMatch": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs",
                    "formatter": 1,
                    "numberFormat": {
                      "unit": 0,
                      "options": null
                    }
                  }
                ],
                "rowLimit": 10000,
                "labelSettings": [
                  {
                    "columnId": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs",
                    "label": "Connected NodeBs (Sum)"
                  },
                  {
                    "columnId": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs Timeline",
                    "label": "Connected NodeBs Timeline"
                  }
                ]
              }
            },
            "conditionalVisibility": {
              "parameterName": "pcmeExtensionId",
              "comparison": "isNotEqualTo"
            },
            "showPin": true,
            "name": "uecontextreleasemetrics"
          },
          {
            "type": 10,
            "content": {
              "chartId": "workbookf8dd8de0-d1a7-46eb-a350-7ef588c92788",
              "version": "MetricsItem/2.0",
              "size": 1,
              "chartType": 2,
              "resourceType": "microsoft.kubernetes/connectedclusters/providers/extensions",
              "metricScope": 0,
              "resourceParameter": "pcmeExtensionId",
              "resourceIds": [
                "{pcmeExtensionId}"
              ],
              "timeContextFromParameter": "timespan",
              "timeContext": {
                "durationMs": 86400000
              },
              "metrics": [
                {
                  "namespace": "microsoft.kubernetesconfiguration/extensions",
                  "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-XnHandoverAttempt",
                  "aggregation": 1,
                  "splitBy": null,
                  "columnName": ""
                },
                {
                  "namespace": "microsoft.kubernetesconfiguration/extensions",
                  "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-XnHandoverSuccess",
                  "aggregation": 1
                },
                {
                  "namespace": "microsoft.kubernetesconfiguration/extensions",
                  "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-XnHandoverFailure",
                  "aggregation": 1
                }
              ],
              "title": "Handover Procedures",
              "gridFormatType": 1,
              "tileSettings": {
                "titleContent": {
                  "columnMatch": "Metric",
                  "formatter": 1
                },
                "leftContent": {
                  "columnMatch": "Value",
                  "formatter": 18,
                  "formatOptions": {
                    "thresholdsOptions": "colors",
                    "thresholdsGrid": [
                      {
                        "operator": "==",
                        "thresholdValue": "0",
                        "representation": "redBright",
                        "text": "{0}{1}"
                      },
                      {
                        "operator": "Default",
                        "thresholdValue": null,
                        "text": "{0}{1}"
                      }
                    ]
                  },
                  "numberFormat": {
                    "unit": 17,
                    "options": {
                      "style": "decimal",
                      "useGrouping": false,
                      "maximumFractionDigits": 0,
                      "maximumSignificantDigits": 3
                    },
                    "emptyValCustomText": "Error: metric not found"
                  }
                },
                "showBorder": false
              },
              "showOpenInMe": true,
              "timeBrushParameterName": "timebrush",
              "timeBrushExportOnlyWhenBrushed": true,
              "gridSettings": {
                "formatters": [
                  {
                    "columnMatch": "Subscription",
                    "formatter": 5
                  },
                  {
                    "columnMatch": "Name",
                    "formatter": 13,
                    "formatOptions": {
                      "linkTarget": "Resource"
                    }
                  },
                  {
                    "columnMatch": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs Timeline",
                    "formatter": 5
                  },
                  {
                    "columnMatch": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs",
                    "formatter": 1,
                    "numberFormat": {
                      "unit": 0,
                      "options": null
                    }
                  }
                ],
                "rowLimit": 10000,
                "labelSettings": [
                  {
                    "columnId": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs",
                    "label": "Connected NodeBs (Sum)"
                  },
                  {
                    "columnId": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs Timeline",
                    "label": "Connected NodeBs Timeline"
                  }
                ]
              }
            },
            "conditionalVisibility": {
              "parameterName": "pcmeExtensionId",
              "comparison": "isNotEqualTo"
            },
            "showPin": true,
            "name": "handovermetrics"
          }
        ]
      },
      "conditionalVisibility": {
        "parameterName": "tab",
        "comparison": "isEqualTo",
        "value": "pccpMetrics"
      },
      "name": "pccpMetrics"
    },
    {
      "type": 1,
      "content": {
        "json": "No Azure Stack Edge device connected to this Packet Core.",
        "style": "warning"
      },
      "conditionalVisibilities": [
        {
          "parameterName": "tab",
          "comparison": "isEqualTo",
          "value": "aseStatus"
        },
        {
          "parameterName": "ase",
          "comparison": "isEqualTo"
        }
      ],
      "name": "aseError"
    },
    {
      "type": 12,
      "content": {
        "version": "NotebookGroup/1.0",
        "groupType": "editable",
        "items": [
          {
            "type": 9,
            "content": {
              "version": "KqlParameterItem/1.0",
              "crossComponentResources": [
                "{mobilenetwork}"
              ],
              "parameters": [
                {
                  "id": "bf4560f8-498d-4606-be3b-e2cce8787ee9",
                  "version": "KqlParameterItem/1.0",
                  "name": "simgroup",
                  "label": "SIM Group",
                  "type": 5,
                  "description": "Select the SIM Group to view",
                  "isRequired": true,
                  "query": "resources\r\n| where type =~ \"Microsoft.MobileNetwork/simgroups\"\r\n| where properties.mobileNetwork.id =~ \"{mobilenetwork}\"\r\n| project id, selected=\"true\"",
                  "crossComponentResources": [
                    "{mobilenetwork}"
                  ],
                  "typeSettings": {
                    "additionalResourceOptions": [],
                    "showDefault": false
                  },
                  "timeContext": {
                    "durationMs": 86400000
                  },
                  "queryType": 1,
                  "resourceType": "microsoft.resourcegraph/resources"
                }
              ],
              "style": "pills",
              "queryType": 1,
              "resourceType": "microsoft.resourcegraph/resources"
            },
            "name": "parameters - 7"
          },
          {
            "type": 3,
            "content": {
              "version": "KqlItem/1.0",
              "query": "{\"version\":\"ARMEndpoint/1.0\",\"data\":null,\"headers\":[],\"method\":\"GET\",\"path\":\"{simgroup}/sims\",\"urlParams\":[{\"key\":\"api-version\",\"value\":\"2022-11-01\"}],\"batchDisabled\":false,\"transformers\":[{\"type\":\"jsonpath\",\"settings\":{\"tablePath\":\"$.value[?(@.properties.siteProvisioningState[\\\"{siteLowerCase}\\\"]!=\\\"NotApplicable\\\")]\",\"columns\":[{\"path\":\"$.id\",\"columnid\":\"SIM\",\"columnType\":\"string\"},{\"path\":\"$.properties.internationalMobileSubscriberIdentity\",\"columnid\":\"IMSI\",\"columnType\":\"string\"},{\"path\":\"$.properties.simPolicy.id\",\"columnid\":\"Policy\"},{\"path\":\"$.properties.siteProvisioningState[\\\"{siteLowerCase}\\\"]\",\"columnid\":\"Provsioning State\"},{\"path\":\"$.properties.staticIpConfiguration..staticIp.ipv4Address\",\"columnid\":\"Static IP\"}]}}]}",
              "size": 1,
              "title": "SIMs provisioned to this Site",
              "noDataMessage": "No SIMs provisioned to this Site.",
              "noDataMessageStyle": 4,
              "queryType": 12,
              "gridSettings": {
                "formatters": [
                  {
                    "columnMatch": "SIM",
                    "formatter": 0,
                    "tooltipFormat": {
                      "tooltip": "SIM resource"
                    }
                  },
                  {
                    "columnMatch": "Policy",
                    "formatter": 0,
                    "tooltipFormat": {
                      "tooltip": "SIM policy applied to this SIM."
                    }
                  },
                  {
                    "columnMatch": "Provsioning State",
                    "formatter": 18,
                    "formatOptions": {
                      "thresholdsOptions": "icons",
                      "thresholdsGrid": [
                        {
                          "operator": "==",
                          "thresholdValue": "Provisioned",
                          "representation": "success",
                          "text": "{0}{1}"
                        },
                        {
                          "operator": "==",
                          "thresholdValue": "Failed",
                          "representation": "failed",
                          "text": "{0}{1}"
                        },
                        {
                          "operator": "==",
                          "thresholdValue": "Adding",
                          "representation": "pending",
                          "text": "{0}{1}"
                        },
                        {
                          "operator": "==",
                          "thresholdValue": "Updating",
                          "representation": "pending",
                          "text": "{0}{1}"
                        },
                        {
                          "operator": "==",
                          "thresholdValue": "Deleting",
                          "representation": "pending",
                          "text": "{0}{1}"
                        },
                        {
                          "operator": "==",
                          "thresholdValue": "NotApplicable",
                          "representation": "disabled",
                          "text": "{0}{1}"
                        },
                        {
                          "operator": "Default",
                          "thresholdValue": null,
                          "representation": "unknown",
                          "text": "{0}{1}"
                        }
                      ]
                    },
                    "tooltipFormat": {
                      "tooltip": "Indicates whether provisioning state of SIM to this site is Provisioned, Failed, Adding, Updating or Deleting"
                    }
                  },
                  {
                    "columnMatch": "Static IP",
                    "formatter": 0,
                    "tooltipFormat": {
                      "tooltip": "Static IP address for the SIM"
                    }
                  }
                ],
                "rowLimit": 1000
              }
            },
            "name": "query - 4"
          },
          {
            "type": 3,
            "content": {
              "version": "KqlItem/1.0",
              "query": "resources\r\n| where type =~ \"microsoft.mobilenetwork/mobilenetworks/simpolicies\"\r\n| where id startswith \"{mobilenetwork}/simPolicies/\"\r\n| extend currentSiteProvisioningState = tostring(properties.siteProvisioningState[\"{siteLowerCase}\"])\r\n| where currentSiteProvisioningState != \"\"\r\n| where currentSiteProvisioningState != \"NotApplicable\"\r\n| summarize count() by currentSiteProvisioningState",
              "size": 4,
              "title": "SIM Policies",
              "noDataMessage": "No SIM Policies provisioned to this Site.",
              "noDataMessageStyle": 4,
              "queryType": 1,
              "resourceType": "microsoft.resourcegraph/resources",
              "crossComponentResources": [
                "{mobilenetwork}"
              ],
              "visualization": "tiles",
              "gridSettings": {
                "formatters": [
                  {
                    "columnMatch": "name",
                    "formatter": 1
                  },
                  {
                    "columnMatch": "SIM Policy",
                    "formatter": 13,
                    "formatOptions": {
                      "linkTarget": "Resource",
                      "showIcon": true
                    }
                  },
                  {
                    "columnMatch": "Provisioning State",
                    "formatter": 18,
                    "formatOptions": {
                      "thresholdsOptions": "icons",
                      "thresholdsGrid": [
                        {
                          "operator": "==",
                          "thresholdValue": "Provisioned",
                          "representation": "success",
                          "text": "{0}{1}"
                        },
                        {
                          "operator": "==",
                          "thresholdValue": "Failed",
                          "representation": "failed",
                          "text": "{0}{1}"
                        },
                        {
                          "operator": "==",
                          "thresholdValue": "Adding",
                          "representation": "pending",
                          "text": "{0}{1}"
                        },
                        {
                          "operator": "==",
                          "thresholdValue": "Updating",
                          "representation": "pending",
                          "text": "{0}{1}"
                        },
                        {
                          "operator": "==",
                          "thresholdValue": "Deleting",
                          "representation": "pending",
                          "text": "{0}{1}"
                        },
                        {
                          "operator": "==",
                          "thresholdValue": "NotApplicable",
                          "representation": "disabled",
                          "text": "{0}{1}"
                        },
                        {
                          "operator": "Default",
                          "thresholdValue": null,
                          "representation": "more",
                          "text": "{0}{1}"
                        }
                      ]
                    }
                  },
                  {
                    "columnMatch": "Slice",
                    "formatter": 13,
                    "formatOptions": {
                      "linkTarget": "Resource",
                      "showIcon": true
                    }
                  },
                  {
                    "columnMatch": "sliceName",
                    "formatter": 5
                  },
                  {
                    "columnMatch": "Data Network",
                    "formatter": 13,
                    "formatOptions": {
                      "linkTarget": "Resource",
                      "showIcon": true
                    }
                  },
                  {
                    "columnMatch": "Group",
                    "formatter": 1
                  },
                  {
                    "columnMatch": "dataNetworkName",
                    "formatter": 5
                  }
                ],
                "hierarchySettings": {
                  "treeType": 1,
                  "groupBy": [
                    "name",
                    "sliceName"
                  ],
                  "expandTopLevel": false
                },
                "sortBy": [
                  {
                    "itemKey": "$gen_link_SIM Policy_1",
                    "sortOrder": 1
                  }
                ]
              },
              "sortBy": [
                {
                  "itemKey": "$gen_link_SIM Policy_1",
                  "sortOrder": 1
                }
              ],
              "tileSettings": {
                "titleContent": {
                  "columnMatch": "currentSiteProvisioningState",
                  "formatter": 18,
                  "formatOptions": {
                    "thresholdsOptions": "icons",
                    "thresholdsGrid": [
                      {
                        "operator": "==",
                        "thresholdValue": "Provisioned",
                        "representation": "success",
                        "text": "{0}{1}"
                      },
                      {
                        "operator": "==",
                        "thresholdValue": "Failed",
                        "representation": "failed",
                        "text": "{0}{1}"
                      },
                      {
                        "operator": "==",
                        "thresholdValue": "Adding",
                        "representation": "pending",
                        "text": "{0}{1}"
                      },
                      {
                        "operator": "==",
                        "thresholdValue": "Updating",
                        "representation": "pending",
                        "text": "{0}{1}"
                      },
                      {
                        "operator": "==",
                        "thresholdValue": "Deleting",
                        "representation": "pending",
                        "text": "{0}{1}"
                      },
                      {
                        "operator": "==",
                        "thresholdValue": "NotApplicable",
                        "representation": "disabled",
                        "text": "{0}{1}"
                      },
                      {
                        "operator": "Default",
                        "thresholdValue": null,
                        "representation": "unknown",
                        "text": "{0}{1}"
                      }
                    ]
                  }
                },
                "leftContent": {
                  "columnMatch": "count_",
                  "formatter": 12,
                  "formatOptions": {
                    "palette": "blue"
                  },
                  "tooltipFormat": {
                    "tooltip": "Number of SIM policies provisioned"
                  }
                },
                "showBorder": false
              }
            },
            "name": "query - 2 - Copy"
          },
          {
            "type": 3,
            "content": {
              "version": "KqlItem/1.0",
              "query": "resources\r\n| where type =~ \"microsoft.mobilenetwork/mobilenetworks/simpolicies\"\r\n| where id startswith \"{mobilenetwork}/simPolicies/\"\r\n| extend currentSiteProvisioningState = tostring(properties.siteProvisioningState[\"{siteLowerCase}\"])\r\n| where currentSiteProvisioningState != \"\"\r\n| where currentSiteProvisioningState != \"NotApplicable\"\r\n| extend sliceConfigurations = todynamic(properties.sliceConfigurations)\r\n| mv-expand sliceConfigurations\r\n| extend slice=sliceConfigurations.slice.id\r\n| extend dataNetworkConfigurations = todynamic(sliceConfigurations.dataNetworkConfigurations)\r\n| mv-expand dataNetworkConfigurations\r\n| extend dataNetwork = dataNetworkConfigurations.dataNetwork.id\r\n| project id_=strcat(id, dataNetwork), parent_id_=id, [\"SIM Policy\"]=\"\", [\"Provisioning State\"]=\"\", [\"UE Downlink AMBR\"]=\"\", [\"UE Uplink AMBR\"]=\"\", [\"Slice\"]=slice, [\"Default Data Network\"]=sliceConfigurations.defaultDataNetwork.id, [\"Data Network\"]=dataNetwork, [\"Session Downlink AMBR\"]=dataNetworkConfigurations.sessionAmbr.downlink, [\"Session Uplink AMBR\"]=dataNetworkConfigurations.sessionAmbr.uplink\r\n| union (\r\n    resources\r\n    | where type =~ \"microsoft.mobilenetwork/mobilenetworks/simpolicies\"\r\n    | where id startswith \"{mobilenetwork}/simPolicies/\"\r\n    | extend currentSiteProvisioningState = tostring(properties.siteProvisioningState[\"{siteLowerCase}\"])\r\n    | where currentSiteProvisioningState != \"\"\r\n    | where currentSiteProvisioningState != \"NotApplicable\"\r\n    | project id_=id, parent_id_=\"\", [\"SIM Policy\"]=id, [\"Provisioning State\"]=currentSiteProvisioningState, [\"UE Downlink AMBR\"]=tostring(properties.ueAmbr.downlink), [\"UE Uplink AMBR\"]=tostring(properties.ueAmbr.uplink)\r\n)",
              "size": 1,
              "noDataMessage": " ",
              "queryType": 1,
              "resourceType": "microsoft.resourcegraph/resources",
              "crossComponentResources": [
                "{mobilenetwork}"
              ],
              "gridSettings": {
                "formatters": [
                  {
                    "columnMatch": "id_",
                    "formatter": 5
                  },
                  {
                    "columnMatch": "parent_id_",
                    "formatter": 5
                  },
                  {
                    "columnMatch": "SIM Policy",
                    "formatter": 0,
                    "tooltipFormat": {
                      "tooltip": "SIM Policy resource"
                    }
                  },
                  {
                    "columnMatch": "Provisioning State",
                    "formatter": 18,
                    "formatOptions": {
                      "thresholdsOptions": "icons",
                      "thresholdsGrid": [
                        {
                          "operator": "==",
                          "thresholdValue": "Provisioned",
                          "representation": "success",
                          "text": "{0}{1}"
                        },
                        {
                          "operator": "==",
                          "thresholdValue": "Failed",
                          "representation": "failed",
                          "text": "{0}{1}"
                        },
                        {
                          "operator": "==",
                          "thresholdValue": "Adding",
                          "representation": "pending",
                          "text": "{0}{1}"
                        },
                        {
                          "operator": "==",
                          "thresholdValue": "Updating",
                          "representation": "pending",
                          "text": "{0}{1}"
                        },
                        {
                          "operator": "==",
                          "thresholdValue": "Deleting",
                          "representation": "pending",
                          "text": "{0}{1}"
                        },
                        {
                          "operator": "==",
                          "thresholdValue": "NotApplicable",
                          "representation": "disabled",
                          "text": "{0}{1}"
                        },
                        {
                          "operator": "is Empty",
                          "text": "{1}"
                        },
                        {
                          "operator": "Default",
                          "thresholdValue": null,
                          "representation": "more",
                          "text": "{0}{1}"
                        }
                      ]
                    },
                    "tooltipFormat": {
                      "tooltip": "Indicates whether the provisioning state of the SIM Policy is Provisioned, Failed, Adding, Updating, Deleting, NotApplicable"
                    }
                  },
                  {
                    "columnMatch": "UE Downlink AMBR",
                    "formatter": 1,
                    "tooltipFormat": {
                      "tooltip": "User equipment downlink aggregated maximum bit rate"
                    }
                  },
                  {
                    "columnMatch": "UE Uplink AMBR",
                    "formatter": 1,
                    "tooltipFormat": {
                      "tooltip": "User equipment downlink aggregated maximum bit rate"
                    }
                  },
                  {
                    "columnMatch": "Slice",
                    "formatter": 13,
                    "formatOptions": {
                      "linkTarget": "Resource",
                      "showIcon": true
                    },
                    "tooltipFormat": {
                      "tooltip": "Network slice"
                    }
                  },
                  {
                    "columnMatch": "Data Network",
                    "formatter": 13,
                    "formatOptions": {
                      "linkTarget": "Resource",
                      "showIcon": true
                    }
                  },
                  {
                    "columnMatch": "Session Downlink AMBR",
                    "formatter": 1,
                    "tooltipFormat": {
                      "tooltip": "Session downlink aggregated maximum bit rate"
                    }
                  },
                  {
                    "columnMatch": "Session Uplink AMBR",
                    "formatter": 1,
                    "tooltipFormat": {
                      "tooltip": "Session uplink aggregated maximum bit rate"
                    }
                  },
                  {
                    "columnMatch": "Group",
                    "formatter": 13,
                    "formatOptions": {
                      "linkTarget": "Resource",
                      "showIcon": true
                    }
                  },
                  {
                    "columnMatch": "name",
                    "formatter": 1
                  },
                  {
                    "columnMatch": "sliceName",
                    "formatter": 5
                  },
                  {
                    "columnMatch": "dataNetworkName",
                    "formatter": 5
                  }
                ],
                "hierarchySettings": {
                  "idColumn": "id_",
                  "parentColumn": "parent_id_",
                  "treeType": 0,
                  "expanderColumn": "SIM Policy",
                  "expandTopLevel": true
                }
              },
              "sortBy": []
            },
            "name": "query - 2"
          },
          {
            "type": 3,
            "content": {
              "version": "KqlItem/1.0",
              "query": "resources\r\n| where type =~ \"microsoft.mobilenetwork/mobilenetworks/services\"\r\n| where id startswith \"{mobilenetwork}/services\"\r\n| project [\"Service\"]=id, [\"Precedence\"]=toint(properties.servicePrecedence)\r\n| order by [\"Precedence\"]",
              "size": 4,
              "title": "Services",
              "queryType": 1,
              "resourceType": "microsoft.resourcegraph/resources",
              "crossComponentResources": [
                "{mobilenetwork}"
              ],
              "gridSettings": {
                "formatters": [
                  {
                    "columnMatch": "Service",
                    "formatter": 0,
                    "tooltipFormat": {
                      "tooltip": "Service resource "
                    }
                  },
                  {
                    "columnMatch": "Precedence",
                    "formatter": 0,
                    "tooltipFormat": {
                      "tooltip": "The precedence value is used by the by the packet core instance to rank data flow policy rules by importance."
                    }
                  }
                ]
              }
            },
            "name": "query - 3"
          }
        ]
      },
      "conditionalVisibility": {
        "parameterName": "tab",
        "comparison": "isEqualTo",
        "value": "provisioningInfo"
      },
      "name": "SIMs"
    }
  ],
  "$schema": "https://github.com/Microsoft/Application-Insights-Workbooks/blob/master/schema/workbook.json"
}
